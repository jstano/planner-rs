<?xml version="1.0" encoding="UTF-8"?>
<database xmlns="http://www.unifocus.com/database"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://www.unifocus.com/database http://www.unifocus.com/database"
          version="10.6"
          foreignKeyMode="triggers"
          booleanMode="yn">

   <table name="Account">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="Description" type="varchar" length="50" required="true"/>
         <column name="InterfaceAction" type="enum" length="1" required="true" enumType="InterfaceActionType"/>
         <column name="EPEPInterfaceAction" type="enum" length="1" enumType="InterfaceActionType"/>
         <column name="OffsetAccountID" type="int"/>
         <column name="Active" type="boolean" required="true"/>
         <column name="ReMapAccountID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Code"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ReMapAccountID" table="Account" column="ID" type="setnull"/>
         <relation src="OffsetAccountID" table="Account" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="AccrualAppliedAudit" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AsOfDate" type="date" required="true"/>
         <column name="PayPeriodEndDate" type="date" required="true"/>
         <column name="AppliedType" type="enum" length="1" required="true" enumType="AccrualAppliedType"/>
         <column name="AppliedFromTransactionID" type="int" required="true"/>
         <column name="AppliedToTransactionID" type="int" required="true"/>
         <column name="AppliedHours" type="decimal" length="19" scale="4" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AppliedFromTransactionID"/>
            <column name="AppliedType"/>
            <column name="AsOfDate"/>
         </unique>
         <index>
            <column name="PayPeriodEndDate"/>
         </index>
      </keys>
      <relations>
         <relation src="AppliedFromTransactionID" table="AccrualTransaction" column="ID" type="cascade"/>
         <relation src="AppliedToTransactionID" table="AccrualTransaction" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="AccrualProjection" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="PayGroupID" type="int" required="true"/>
         <column name="AsOfDate" type="date" required="true"/>
         <column name="EarningTypeID" type="int" required="true"/>
         <column name="PayPeriodEndDate" type="date" required="true"/>
         <column name="Used" type="decimal" length="19" scale="4" required="true"/>
         <column name="Accrued" type="decimal" length="19" scale="4" required="true"/>
         <column name="RunningAccrued" type="decimal" length="19" scale="4" required="true"/>
         <column name="ExpiredHours" type="decimal" length="19" scale="4" required="true"/>
         <column name="WorkedHours" type="decimal" length="19" scale="4" required="true"/>
         <column name="StartingTotalBalance" type="decimal" length="19" scale="4" required="true"/>
         <column name="EndingTotalBalance" type="decimal" length="19" scale="4" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="propertyID"/>
            <column name="PayPeriodEndDate"/>
            <column name="PayGroupId"/>
            <column name="AsOfDate"/>
            <column name="EmployeeID"/>
            <column name="EarningTypeID"/>
         </unique>
         <index>
            <column name="EmployeeID"/>
            <column name="PayPeriodEndDate"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="PayGroupID" table="PayGroup" column="ID" type="cascade"/>
         <relation src="EarningTypeID" table="EarningType" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="AccrualTransaction" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="PayGroupID" type="int" required="true"/>
         <column name="AsOfDate" type="date" required="true"/>
         <column name="EarningTypeID" type="int" required="true"/>
         <column name="PayPeriodEndDate" type="date" required="true"/>
         <column name="UnAppliedHours" type="decimal" length="19" scale="4" required="true"/>
         <column name="Used" type="decimal" length="19" scale="4" required="true"/>
         <column name="Accrued" type="decimal" length="19" scale="4" required="true"/>
         <column name="RunningAccrued" type="decimal" length="19" scale="4" required="true"/>
         <column name="ExpiredHours" type="decimal" length="19" scale="4" required="true"/>
         <column name="WorkedHours" type="decimal" length="19" scale="4" required="true"/>
         <column name="StartingRunningBalance" type="decimal" length="19" scale="4" required="true"/>
         <column name="EndingRunningBalance" type="decimal" length="19" scale="4" required="true"/>
         <column name="StartingTotalBalance" type="decimal" length="19" scale="4" required="true"/>
         <column name="EndingTotalBalance" type="decimal" length="19" scale="4" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="propertyID"/>
            <column name="PayPeriodEndDate"/>
            <column name="PayGroupId"/>
            <column name="AsOfDate"/>
            <column name="EmployeeID"/>
            <column name="EarningTypeID"/>
         </unique>
         <index>
            <column name="EmployeeID"/>
            <column name="PayPeriodEndDate"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="PayGroupID" table="PayGroup" column="ID" type="cascade"/>
         <relation src="EarningTypeID" table="EarningType" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="Assignment">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ParentAssignmentID" type="int"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="Abbrev" type="varchar" length="25"/>
         <column name="LevelID" type="int"/>

         <!-- misc columns -->
         <column name="MasterJobClassID" type="int"/>
         <column name="JobCategoryID" type="int"/>
         <column name="EventLabor" type="boolean" required="true"/>
         <column name="ExcludeFromPayrollExport" type="boolean" required="true"/>
         <column name="LastPublishedDateTime" type="datetime"/>
         <column name="LastPublishedWeekEndDate" type="date"/>
         <column name="Flags" type="int"/>
         <column name="PayCode" type="varchar" length="50"/>
         <column name="WorkersCompClass" type="varchar" length="25"/>
         <column name="Publishable" type="boolean" required="true" default="true"/>
         <column name="RequiresApproval" type="boolean" required="true" default="false"/>
         <column name="Notes" type="memo"/>
         <column name="FstVarianceFrom" type="short" minValue="0" maxValue="100"/>
         <column name="FstVarianceTo" type="short" minValue="0" maxValue="100"/>
         <column name="StdVarianceFrom" type="short" minValue="0" maxValue="100"/>
         <column name="StdVarianceTo" type="short" minValue="0" maxValue="100"/>
         <column name="OTPercentage" type="short" minValue="0" maxValue="100"/>
         <column name="ShowOnDashboard" type="boolean" default="true" required="true"/>
         <column name="LaborCostPercentageKBIID" type="int"/>

         <!-- scheduling columns -->
         <column name="PlannedShiftSortingMethod" type="enum" length="2" enumType="PlannedShiftSortingMethod"/>
         <column name="ProjectedHoursReductionMethod" type="enum" length="2" enumType="ProjectedHoursReductionMethod"/>
         <column name="SchedulingMethod" type="enum" length="1" required="true" enumType="SchedulingMethod"/>
         <column name="BalanceSchedules" type="boolean" required="true"/>
         <column name="MinHoursOff" type="decimal" length="9" scale="4" minValue="0.0" maxValue="24.0"/>
         <column name="MinDaysOff" type="short" minValue="0" maxValue="7"/>
         <column name="DayOrder" type="char" length="13"/>
         <column name="RotationPlanID" type="int"/>
         <column name="JobRotationPlanID" type="int"/>
         <column name="DepartmentalSeniority" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="ParentAssignmentID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ParentAssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="LevelID" table="LaborLevel" column="ID" type="setnull"/>
         <relation src="RotationPlanID" table="RotationPlan" column="ID" type="setnull"/>
         <relation src="JobRotationPlanID" table="RotationPlan" column="ID" type="setnull"/>
         <relation src="MasterJobClassID" table="MasterJob" column="ID" type="setnull"/>
         <relation src="JobCategoryID" table="JobCategory" column="ID" type="setnull"/>
         <relation src="LaborCostPercentageKBIID" table="KBI" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="ActualAssignmentLog">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="AssignmentID" type="int"/>
         <column name="EmployeeID" type="int"/>
         <column name="EffectiveDT" type="datetime" required="true"/>
         <column name="CreatedOnDT" type="datetime" required="true"/>
         <column name="CreatedByUserID" type="int" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="EmployeeID"/>
            <column name="AssignmentID"/>
            <column name="EffectiveDT"/>
         </unique>
         <unique cluster="false">
            <column name="AssignmentID"/>
            <column name="EffectiveDT"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="AssignmentCertification">
      <columns>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="CertificationID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="AssignmentID"/>
            <column name="CertificationID"/>
         </primary>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="CertificationID" table="Certification" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="AssignmentOrder">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="OrderNo" type="short" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
         </unique>
         <index>
            <column name="OrderNo"/>
         </index>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="AssignmentPayRate" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="EffectiveDate" type="date" required="true"/>
         <column name="HourlyRate" type="decimal" length="9" scale="4"/>
         <column name="MinWage" type="decimal" length="9" scale="4"/>
         <column name="TipRate" type="decimal" length="9" scale="4"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
            <column name="EffectiveDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="AssignmentProductivity">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="ProductivityKBIID" type="int" required="true"/>
         <column name="ProductivityUnitCode" type="enum" length="2" required="true" enumType="ProductivityUnitType"/>
         <column name="ProductivityGoal" type="decimal" length="9" scale="4"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
            <column name="ProductivityKBIID"/>
            <column name="ProductivityUnitCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="ProductivityKBIID" table="KBI" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="AssignmentShift">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="ShiftNo" type="short" required="true"/>
         <column name="ShiftName" type="varchar" length="50" required="true"/>
         <column name="Wage" type="decimal" length="9" scale="4" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
            <column name="StandardSetID"/>
            <column name="ShiftNo"/>
         </unique>
         <unique>
            <column name="AssignmentID"/>
            <column name="StandardSetID"/>
            <column name="ShiftName"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="AssignmentShiftDetail">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentShiftID" type="int" required="true"/>
         <column name="EnvironmentID" type="int" required="true"/>
         <column name="StartTime" type="time"/>
         <column name="EndTime" type="time"/>
         <column name="HoursBefore" type="decimal" length="9" scale="2" required="true" default="0.0"/>
         <column name="HoursAfter" type="decimal" length="9" scale="2" required="true" default="0.0"/>
         <column name="MinNumberOfShifts" type="int" required="true" default="0"/>
         <column name="ShiftGroupingForSameEvent" type="int" required="true" default="0"/>
         <column name="WeightingFactor" type="int" required="true" default="0"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentShiftID"/>
            <column name="EnvironmentID"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentShiftID" table="AssignmentShift" column="ID" type="cascade"/>
         <relation src="EnvironmentID" table="Environment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="AssignmentSortOrder">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="OrderNo" type="int" required="true"/>
         <column name="SortOrderCode" type="enum" length="2" required="true" enumType="JCSortOrderType"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
            <column name="OrderNo"/>
            <column name="SortOrderCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="AssignmentStandardPayRate" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="EndDate" type="date" required="true"/>
         <column name="HourlyRate" type="decimal" length="9" scale="4" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
            <column name="StartDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="AssignmentPropertyDefault">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="RequiresApproval" type="boolean" default="false"/>
         <column name="LaborCostPercentageKBIID" type="int"/>

         <!-- scheduling columns -->
         <column name="PlannedShiftSortingMethod" type="enum" length="2" enumType="PlannedShiftSortingMethod"/>
         <column name="ProjectedHoursReductionMethod" type="enum" length="2" enumType="ProjectedHoursReductionMethod"/>
         <column name="SchedulingMethod" type="enum" length="1" enumType="SchedulingMethod"/>
         <column name="BalanceSchedules" type="boolean"/>
         <column name="MinHoursOff" type="decimal" length="9" scale="4" minValue="0.0" maxValue="24.0"/>
         <column name="MinDaysOff" type="short" minValue="0" maxValue="7"/>
         <column name="DepartmentalSeniority" type="boolean" />
         <column name="DayOrder" type="char" length="13"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="ID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="LaborCostPercentageKBIID" table="KBI" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="AssignmentPropertyDefaultProductivity">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentPropertyDefaultID" type="int" required="true"/>
         <column name="ProductivityKBIID" type="int" />
         <column name="ProductivityUnitCode" type="enum" length="2" enumType="ProductivityUnitType"/>
         <column name="ProductivityGoal" type="decimal" length="9" scale="4"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentPropertyDefaultID"/>
            <column name="ProductivityKBIID"/>
            <column name="ProductivityUnitCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentPropertyDefaultID" table="AssignmentPropertyDefault" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="ProductivityKBIID" table="KBI" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="AssignmentPropertyDefaultSortOrder">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentPropertyDefaultID" type="int" required="true"/>
         <column name="OrderNo" type="int" />
         <column name="SortOrderCode" type="enum" length="2" enumType="JCSortOrderType"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentPropertyDefaultID"/>
            <column name="OrderNo"/>
            <column name="SortOrderCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentPropertyDefaultID" table="AssignmentPropertyDefault" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="Audit" data="true" noExport="true" compress="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int"/>
         <column name="TableName" type="varchar" length="255" required="true"/>
         <column name="SubTableName" type="memo"/>
         <column name="EntityID" type="int" required="true"/>
         <column name="EntityName" type="memo" required="true"/>
         <column name="Type" type="char" length="1" required="true"/>
         <column name="ResourceKey" type="varchar" length="255"/>
         <column name="ResourceParams" type="memo"/>
         <column name="ChangedOnDT" type="datetime" required="true"/>
         <column name="ChangedByUserID" type="int"/>
         <column name="PropertyName" type="varchar" length="255"/>
         <column name="OldValue" type="memo"/>
         <column name="NewValue" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index compress="true">
            <column name="PropertyID"/>
            <column name="TableName"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ChangedByUserID" table="WatsonUser" column="ID" type="enforce"/>
      </relations>
   </table>

   <table name="AuxLaborHours" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="JobclassID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="ShiftCategoryID" type="int" required="true"/>
         <column name="ShiftType" type="enum" length="1" required="true" enumType="ShiftType"/>
         <column name="Source" type="enum" length="1" required="true" enumType="ShiftSourceType"/>
         <column name="WorkedHours" type="decimal" length="19" scale="2"/>
         <column name="AdjHours" type="decimal" length="19" scale="2"/>
         <column name="NetHours" type="decimal" length="19" scale="2"/>
         <column name="AvgRate" type="decimal" length="19" scale="2"/>
         <column name="NetDollars" type="decimal" length="19" scale="2"/>
         <column name="RegHours" type="decimal" length="19" scale="2"/>
         <column name="RegRate" type="decimal" length="19" scale="2"/>
         <column name="RegDollars" type="decimal" length="19" scale="2"/>
         <column name="OTHours" type="decimal" length="19" scale="2"/>
         <column name="OTRate" type="decimal" length="19" scale="2"/>
         <column name="OTDollars" type="decimal" length="19" scale="2"/>
         <column name="DTHours" type="decimal" length="19" scale="2"/>
         <column name="DTRate" type="decimal" length="19" scale="2"/>
         <column name="DTDollars" type="decimal" length="19" scale="2"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="ShiftType"/>
            <column name="JobclassID"/>
            <column name="StatDate"/>
            <column name="ShiftCategoryID"/>
            <column name="Source"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="JobclassID" table="Assignment" column="ID" type="cascade"/>
         <relation src="ShiftCategoryID" table="ShiftCategory" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BenefitEarningTypeMap">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AccrualEarningTypeID" type="int" required="true"/>
         <column name="MappedEarningTypeID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AccrualEarningTypeID"/>
            <column name="MappedEarningTypeID"/>
         </unique>
      </keys>
      <relations>
         <relation src="AccrualEarningTypeID" table="EarningType" column="ID" type="cascade"/>
         <relation src="MappedEarningTypeID" table="EarningType" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BiReport">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Code" type="varchar" length="20" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="Code"/>
            <column name="PropertyID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BiReportDetail">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="BiReportID" type="int" required="true"/>
         <column name="Code" type="varchar" length="15" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="OrderNo" type="int" required="true"/>
         <column name="MajorSection" type="varchar" length="50"/>
         <column name="MinorSection" type="varchar" length="50"/>
         <column name="Printable" type="boolean" required="true"/>
         <column name="DataFormat" type="varchar" length="15"/>
         <column name="SourceView" type="varchar" length="20"/>
         <column name="SourceFilter" type="varchar" length="20"/>
         <column name="SourceCategory" type="varchar" length="20"/>
         <column name="SourceKBI" type="varchar" length="20"/>
         <column name="SourceDepartment" type="varchar" length="20"/>
         <column name="SourceJobClass" type="varchar" length="20"/>
         <column name="CalcMethodOperation" type="varchar" length="2"/>
         <column name="CalcSource1" type="varchar" length="20"/>
         <column name="CalcSource2" type="varchar" length="20"/>
         <column name="CalcSource3" type="varchar" length="20"/>
         <column name="ColumnType" type="varchar" length="20"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="BiReportID"/>
            <column name="Code"/>
         </unique>
      </keys>
      <relations>
         <relation src="BiReportID" table="BiReport" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BlackoutDates">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="EndDate" type="date" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="Brand" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="ExcludeFromCorpReports" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="Code"/>
         </unique>
      </keys>
   </table>

   <table name="Budget">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="BaseStatType" type="enum" enumType="BudgetStatType" required="true"/>
         <column name="BaseStatTypeForActuals" type="enum" enumType="BudgetStatType" required="true"/>
         <column name="WeekendConfig" type="varchar" length="11" required="true"/>
         <column name="PercentLineID" type="int"/>
         <column name="FixedMethod" type="int" minValue="1" maxValue="5"/>
         <column name="DisplayMonths" type="boolean" required="true"/>
         <column name="RoundTotals" type="boolean" required="true"/>
         <column name="LastFlexCalcDate" type="datetime"/>
         <column name="PeriodEndDate" type="date"/>
         <column name="Use306090" type="boolean" required="true"/>
         <column name="RevenueDecimals" type="int" default = "2" />
         <column name="PercentageDecimals" type="int" default = "2" />
         <column name="RateDecimals" type="int" default = "4" />
         <column name="RatioDecimals" type="int" default = "1" />

      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="PercentLineID" table="BudgetLine" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="BudgetData" data="true" exportDataColumn="Year">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="StatTypeCode" type="enum" enumType="BudgetStatType" required="true"/><!-- TODO:deprecated -->
         <column name="Year" type="short" required="true"/><!-- TODO:deprecated -->
         <column name="PeriodNo" type="short" required="true" minValue="1" maxValue="14"/>
         <column name="NumberUnits" type="decimal" length="19" scale="2"/>
         <column name="Rate" type="decimal" length="19" scale="4"/>
         <column name="Factor" type="decimal" length="19" scale="4"/>
         <column name="FixedDollars" type="decimal" length="19" scale="4"/>
         <column name="TotalDollars" type="decimal" length="19" scale="4"/>
         <column name="TotalDollarsCorp" type="decimal" length="19" scale="4"/>
         <column name="PercentOfParent" type="decimal" length="9" scale="4"/>
         <column name="PercentOfLine" type="decimal" length="9" scale="4"/>
         <column name="GrossUnits" type="decimal" length="19" scale="4"/>
         <column name="AdjUnits" type="decimal" length="19" scale="4"/>
         <column name="ReAssignedDollars" type="decimal" length="19" scale="4"/>
         <column name="AdjUnitsFromStd" type="decimal" length="19" scale="4"/>
         <column name="AdjustedRate" type="decimal" length="19" scale="4"/>
         <column name="OTHours" type="decimal" length="19" scale="4"/>
         <column name="OTRate" type="decimal" length="19" scale="4"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="BudgetDatasetID"/>
            <column name="PeriodNo"/>
            <column name="BudgetLineID"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="StatTypeCode"/>
            <column name="Year"/>
            <column name="PeriodNo"/>
            <column name="BudgetLineID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="BudgetDatasetID" table="BudgetDataset" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetDataset" >
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Year" type="short" required="true"/>
         <column name="StatTypeCode" type="enum" enumType="BudgetStatType" required="true"/>
         <column name="Locked" type="boolean" required="true"/>
         <column name="KBISetID" type="int" required="true"/>
         <column name="StandardSetID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Year"/>
            <column name="StatTypeCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="KBISetID" table="KBISet" column="ID" type="enforce"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="enforce"/>
      </relations>
   </table>

   <table name="BudgetDataUnitsAdjustment" data="true" exportDataColumn="Year">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
         <column name="StatTypeCode" type="enum" enumType="BudgetStatType" required="true"/><!-- TODO:deprecated -->
         <column name="Year" type="short" required="true"/><!-- TODO:deprecated -->
         <column name="Description" type="varchar" length="255" required="true"/>
         <column name="ReAssignToBudgetLineID" type="int"/>
         <column name="Period1Value" type="decimal" length="19" scale="2"/>
         <column name="Period2Value" type="decimal" length="19" scale="2"/>
         <column name="Period3Value" type="decimal" length="19" scale="2"/>
         <column name="Period4Value" type="decimal" length="19" scale="2"/>
         <column name="Period5Value" type="decimal" length="19" scale="2"/>
         <column name="Period6Value" type="decimal" length="19" scale="2"/>
         <column name="Period7Value" type="decimal" length="19" scale="2"/>
         <column name="Period8Value" type="decimal" length="19" scale="2"/>
         <column name="Period9Value" type="decimal" length="19" scale="2"/>
         <column name="Period10Value" type="decimal" length="19" scale="2"/>
         <column name="Period11Value" type="decimal" length="19" scale="2"/>
         <column name="Period12Value" type="decimal" length="19" scale="2"/>
         <column name="Period13Value" type="decimal" length="19" scale="2"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="BudgetLineID"/>
            <column name="BudgetDatasetID"/>
            <column name="Description"/>
            <column name="ReAssignToBudgetLineID"/>
         </unique>
         <unique>
            <column name="BudgetLineID"/>
            <column name="StatTypeCode"/>
            <column name="Year"/>
            <column name="Description"/>
            <column name="ReAssignToBudgetLineID"/>
         </unique>
      </keys>
      <relations>
         <relation src="BudgetDatasetID" table="BudgetDataset" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
         <relation src="ReAssignToBudgetLineID" table="BudgetLine" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="BudgetFormula">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyId" type="int" required="true"/>
         <column name="Description" type="varchar" length="50" required="true"/>
         <column name="CalculationType" type="enum" enumType="BudgetFormulaCalculationType" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyId"/>
            <column name="Description"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetFormulaItem">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="FormulaID" type="int" required="true"/>
         <column name="FormulaItemKBIID" type="int"/>
         <column name="FormulaItemBudgetLineID" type="int"/>
         <column name="FormulaItemOperation" type="enum" enumType="BudgetFormulaOperationType" required="true"/>
         <column name="FormulaItemOrderNumber" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="FormulaID"/>
            <column name="FormulaItemOrderNumber"/>
         </unique>
      </keys>
      <relations>
         <relation src="FormulaID" table="BudgetFormula" column="ID" type="cascade"/>
         <relation src="FormulaItemKBIID" table="KBI" column="ID" type="setnull"/>
         <relation src="FormulaItemBudgetLineID" table="BudgetLine" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="BudgetKBIStat" lockEscalation="disable" data="true" exportDataColumn="StatDate" compress="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="StatTypeCode" type="enum" enumType="BudgetStatType" required="true"/><!-- TODO:deprecated -->
         <column name="StatDate" type="date" required="true"/>
         <column name="SystemValue" type="decimal" length="19" scale="4"/>
         <column name="StatValue" type="decimal" length="19" scale="4"/>
         <column name="StatRate" type="decimal" length="19" scale="4"/>
         <column name="StatTotal" type="decimal" length="19" scale="4"/>
         <column name="CorpRate" type="decimal" length="19" scale="4"/>
         <column name="CorpTotal" type="decimal" length="19" scale="4"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="BudgetDatasetID"/>
            <column name="StatDate"/>
            <column name="KBIID"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="StatTypeCode"/>
            <column name="StatDate"/>
            <column name="KBIID"/>
         </unique>
      </keys>
      <relations>
         <relation src="BudgetDatasetID" table="BudgetDataset" column="ID" type="cascade"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetLine">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ParentLineID" type="int"/>
         <column name="MasterBudgetLineID" type="int"/>
         <column name="Description" type="varchar" length="50" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="OrderNo" type="short" required="true"/>
         <column name="GlobalOrderNo" type="int" required="true"/>
         <column name="LevelNo" type="short" required="true"/>
         <column name="CalcPercentOfParent" type="boolean" required="true"/>
         <column name="Flags" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Code"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="ParentLineID"/>
            <column name="Description"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ParentLineID" table="BudgetLine" column="ID" type="cascade"/>
         <relation src="MasterBudgetLineID" table="MasterBudgetLine" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="BudgetJobclassAdjustment" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="JobclassID" type="int" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
         <column name="StatTypeCode" type="enum" enumType="BudgetStatType" required="true"/><!-- TODO:deprecated -->
         <column name="StatDate" type="date" required="true"/>
         <column name="AdjustmentType" type="enum" enumType="BudgetAdjustmentType" required="true"/>
         <column name="Amount" type="decimal" length="19" scale="4" required="true"/>
         <column name="Description" type="varchar" length="50" required="true"/>
         <column name="Notes" type="memo" length="1024"/>
         <column name="PropertyID" type="int" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="BudgetDatasetID"/>
            <column name="StatDate"/>
            <column name="JobclassID"/>
            <column name="AdjustmentType"/>
            <column name="Description"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="StatTypeCode"/>
            <column name="StatDate"/>
            <column name="JobclassID"/>
            <column name="AdjustmentType"/>
            <column name="Description"/>
         </unique>
         <index include="StatDate,Amount">
            <column name="PropertyID"/>
            <column name="JobclassID"/>
            <column name="StatTypeCode"/>
            <column name="AdjustmentType"/>
         </index>
      </keys>
      <relations>
         <relation src="BudgetDatasetID" table="BudgetDataset" column="ID" type="cascade"/>
         <relation src="JobclassID" table="Assignment" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetLineAllocation">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
         <column name="AllocateLineID" type="int" required="true"/>
         <column name="OrderNo" type="short" required="true" minValue="1"/>
         <column name="PercentOfLine" type="decimal" length="9" scale="4" required="true"/>
         <column name="PercentLineID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="BudgetLineID"/>
            <column name="AllocateLineID"/>
            <column name="BudgetDatasetID"/>
         </unique>
         <unique>
            <column name="BudgetLineID"/>
            <column name="OrderNo"/>
            <column name="BudgetDatasetID"/>
         </unique>
      </keys>
      <relations>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
         <relation src="AllocateLineID" table="BudgetLine" column="ID" type="cascade"/>
         <relation src="PercentLineID" table="BudgetLine" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetLineCalc">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="FormulaID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
         <relation src="FormulaID" table="BudgetFormula" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetLineConfig">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
         <column name="BudgetLineID" type="int" required="true"/>
<!--         <column name="BudgetLineConfigSetID" type="int" required="true"/>-->
         <column name="LineTypeCode" type="enum" length="1" required="true" enumType="BudgetLineType"/>
         <column name="FactorMode" type="enum" length="2" required="true" enumType="FactorModeType"/>
         <column name="BasedOn" type="enum" length="1" required="true" enumType="BasedOnType"/>
         <column name="KBIID" type="int"/>
         <column name="JobclassID" type="int"/>
         <column name="UseSalariedFactor" type="boolean" required="true" default="false"/>
         <column name="Active" type="boolean" required="true"/>
         <column name="AccountID" type="int"/>
         <column name="PercentLineID" type="int"/>
         <column name="UnitAccountID" type="int"/>
         <column name="OTHoursAccountID" type="int"/>
         <column name="OTCostAccountID" type="int"/>
         <column name="Operation" type="enum" length="1" required="true" enumType="OperationType"/>
         <column name="LineSubType" type="enum" length="1" required="true" enumType="LineSubTypeType"/>
         <column name="AllocationType" type="enum" length="1" required="true" enumType="AllocationType"/>
         <column name="Discretionary" type="boolean" required="true"/>
         <column name="Detail" type="boolean" required="true"/>
         <column name="PMConfigID" type="int"/>
         <column name="FTETypeID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="BudgetDatasetID"/>
            <column name="BudgetLineID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="BudgetDatasetID" table="BudgetDataset" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
         <relation src="AccountID" table="Account" column="ID" type="setnull"/>
         <relation src="PercentLineID" table="BudgetLine" column="ID" type="setnull"/>
         <relation src="UnitAccountID" table="Account" column="ID" type="setnull"/>
         <relation src="OTHoursAccountID" table="Account" column="ID" type="setnull"/>
         <relation src="OTCostAccountID" table="Account" column="ID" type="setnull"/>
         <relation src="KBIID" table="KBI" column="ID" type="setnull"/>
         <relation src="JobclassID" table="Assignment" column="ID" type="setnull"/>
         <relation src="PMConfigID" table="BudgetLinePMConfig" column="ID" type="setnull"/>
         <relation src="FTETypeID" table="FinancialFullTimeEquivalent" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="BudgetLinePMConfig">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Description" type="varchar" length="50" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="PerformanceMeasureType" type="enum" enumType="PerformanceMeasureType"/>
         <!-- percentage type -->
         <column name="PercentageFormulaID1" type="int"/>
         <column name="PercentageFormulaID2" type="int"/>
         <column name="PercentageKBIID1" type="int"/>
         <column name="PercentageKBIID2" type="int"/>
         <column name="PercentageBudgetLineID1" type="int"/>
         <column name="PercentageBudgetLineID2" type="int"/>
         <column name="PercentageID1UseCosts" type="boolean"  default="true"/>
         <column name="PercentageID2UseCosts" type="boolean"  default="true"/>
         <column name="FormatResultsAsPercent" type="boolean" required="true" default="false"/>
         <!-- productivity type -->
         <column name="ProductivityKBIID" type="int"/>
         <column name="ProductivityCalculationType" type="enum" enumType="ProductivityCalculationType"/>
         <column name="ProdGoal" type="decimal" length="21" scale="4"/>
         <!-- FTE type -->
         <column name="FTETypeID" type="int"/>
         <column name="FTEFormulaID" type="int"/>
         <!-- projected hours type -->
         <column name="PHBudgetLineID" type="int"/>
         <column name="PHFormulaID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="FTETypeID" table="FinancialFullTimeEquivalent" column="ID" type="setnull"/>
         <relation src="PercentageKBIID1" table="KBI" column="ID" type="setnull"/>
         <relation src="PercentageKBIID2" table="KBI" column="ID" type="setnull"/>
         <relation src="PercentageFormulaID1" table="BudgetFormula" column="ID" type="setnull"/>
         <relation src="PercentageFormulaID2" table="BudgetFormula" column="ID" type="setnull"/>
         <relation src="PercentageBudgetLineID1" table="BudgetLine" column="ID" type="setnull"/>
         <relation src="PercentageBudgetLineID2" table="BudgetLine" column="ID" type="setnull"/>
         <relation src="ProductivityKBIID" table="KBI" column="ID" type="setnull"/>
         <relation src="PHBudgetLineID" table="BudgetLine" column="ID" type="setnull"/>
         <relation src="PHFormulaID" table="BudgetFormula" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="FinancialFullTimeEquivalent">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="WeekTypeName" type="varchar" length="50" required="true"/>
         <column name="HoursIn28Days" type="decimal" length="21" scale="4" required="true"/>
         <column name="HoursIn29Days" type="decimal" length="21" scale="4" required="true"/>
         <column name="HoursIn30Days" type="decimal" length="21" scale="4" required="true"/>
         <column name="HoursIn31Days" type="decimal" length="21" scale="4" required="true"/>
         <column name="HoursIn35Days" type="decimal" length="21" scale="4" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="WeekTypeName"/>
            <column name="PropertyID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetLineConfigBaseLine">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
<!--         <column name="BudgetLineConfigSetID" type="int" required="true"/>-->
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="BaseLineID" type="int" required="true"/>
         <column name="OrderNo" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="BudgetDatasetID"/>
            <column name="BudgetLineID"/>
            <column name="BaseLineID"/>
         </unique>
         <unique>
            <column name="BudgetDatasetID"/>
            <column name="BudgetLineID"/>
            <column name="OrderNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="BudgetDatasetID" table="BudgetDataset" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
         <relation src="BaseLineID" table="BudgetLine" column="ID" type="cascade"/>
      </relations>
   </table>

<!--   <table name="BudgetLineConfigSet">-->
<!--      <columns>-->
<!--         <column name="ID" type="sequence" required="true"/>-->
<!--         <column name="PropertyID" type="int" required="true"/>-->
<!--         <column name="Name" type="varchar" length="50" required="true"/>-->
<!--         <column name="Comment" type="varchar" length="255"/>-->
<!--      </columns>-->
<!--      <keys>-->
<!--         <primary>-->
<!--            <column name="ID"/>-->
<!--         </primary>-->
<!--         <unique>-->
<!--            <column name="PropertyID"/>-->
<!--            <column name="Name"/>-->
<!--         </unique>-->
<!--      </keys>-->
<!--      <relations>-->
<!--         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>-->
<!--      </relations>-->
<!--   </table>-->

   <table name="BudgetLineFactor" data="true" exportDataColumn="Year">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
         <column name="StatTypeCode" type="enum" enumType="BudgetStatType" required="true"/><!-- TODO:deprecated -->
         <column name="Year" type="short" required="true"/><!-- TODO:deprecated -->
         <column name="RangeNo" type="short" required="true" minValue="1" maxValue="100"/>
         <column name="FromVolume" type="int" required="true" minValue="0"/>
         <column name="ToVolume" type="int" required="true" minValue="0"/>
         <column name="Period1Factor" type="decimal" length="19" scale="4"/>
         <column name="Period2Factor" type="decimal" length="19" scale="4"/>
         <column name="Period3Factor" type="decimal" length="19" scale="4"/>
         <column name="Period4Factor" type="decimal" length="19" scale="4"/>
         <column name="Period5Factor" type="decimal" length="19" scale="4"/>
         <column name="Period6Factor" type="decimal" length="19" scale="4"/>
         <column name="Period7Factor" type="decimal" length="19" scale="4"/>
         <column name="Period8Factor" type="decimal" length="19" scale="4"/>
         <column name="Period9Factor" type="decimal" length="19" scale="4"/>
         <column name="Period10Factor" type="decimal" length="19" scale="4"/>
         <column name="Period11Factor" type="decimal" length="19" scale="4"/>
         <column name="Period12Factor" type="decimal" length="19" scale="4"/>
         <column name="Period13Factor" type="decimal" length="19" scale="4"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="BudgetDatasetID"/>
            <column name="BudgetLineID"/>
            <column name="RangeNo"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="StatTypeCode"/>
            <column name="Year"/>
            <column name="BudgetLineID"/>
            <column name="RangeNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="BudgetDatasetID" table="BudgetDataset" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetLineFixed" data="true" exportDataColumn="Year">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
         <column name="StatTypeCode" type="enum" enumType="BudgetStatType" required="true"/><!-- TODO:deprecated -->
         <column name="Year" type="short" required="true"/><!-- TODO:deprecated -->
         <column name="RangeNo" type="short" required="true" minValue="1" maxValue="100"/>
         <column name="FromVolume" type="int" required="true" minValue="0"/>
         <column name="ToVolume" type="int" required="true" minValue="0"/>
         <column name="Period1Fixed" type="decimal" length="19" scale="4"/>
         <column name="Period2Fixed" type="decimal" length="19" scale="4"/>
         <column name="Period3Fixed" type="decimal" length="19" scale="4"/>
         <column name="Period4Fixed" type="decimal" length="19" scale="4"/>
         <column name="Period5Fixed" type="decimal" length="19" scale="4"/>
         <column name="Period6Fixed" type="decimal" length="19" scale="4"/>
         <column name="Period7Fixed" type="decimal" length="19" scale="4"/>
         <column name="Period8Fixed" type="decimal" length="19" scale="4"/>
         <column name="Period9Fixed" type="decimal" length="19" scale="4"/>
         <column name="Period10Fixed" type="decimal" length="19" scale="4"/>
         <column name="Period11Fixed" type="decimal" length="19" scale="4"/>
         <column name="Period12Fixed" type="decimal" length="19" scale="4"/>
         <column name="Period13Fixed" type="decimal" length="19" scale="4"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="BudgetDatasetID"/>
            <column name="BudgetLineID"/>
            <column name="RangeNo"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="StatTypeCode"/>
            <column name="Year"/>
            <column name="BudgetLineID"/>
            <column name="RangeNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="BudgetDatasetID" table="BudgetDataset" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetLineNote" data="true" exportDataColumn="Year">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
         <column name="StatTypeCode" type="enum" enumType="BudgetStatType" required="true"/><!-- TODO:deprecated -->
         <column name="Year" type="short" required="true"/><!-- TODO:deprecated -->
         <column name="NoteText" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="BudgetLineID"/>
            <column name="BudgetDatasetID"/>
         </unique>
         <unique>
            <column name="BudgetLineID"/>
            <column name="StatTypeCode"/>
            <column name="Year"/>
         </unique>
      </keys>
      <relations>
         <relation src="BudgetDatasetID" table="BudgetDataset" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetLineRate" data="true" exportDataColumn="Year">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
         <column name="StatTypeCode" type="enum" enumType="BudgetStatType" required="true"/><!-- TODO:deprecated -->
         <column name="Year" type="short" required="true"/><!-- TODO:deprecated -->
         <column name="RangeNo" type="short" required="true" minValue="1" maxValue="100"/>
         <column name="FromVolume" type="int" required="true" minValue="0"/>
         <column name="ToVolume" type="int" required="true" minValue="0"/>
         <column name="Period1Rate" type="decimal" length="19" scale="6"/>
         <column name="Period2Rate" type="decimal" length="19" scale="6"/>
         <column name="Period3Rate" type="decimal" length="19" scale="6"/>
         <column name="Period4Rate" type="decimal" length="19" scale="6"/>
         <column name="Period5Rate" type="decimal" length="19" scale="6"/>
         <column name="Period6Rate" type="decimal" length="19" scale="6"/>
         <column name="Period7Rate" type="decimal" length="19" scale="6"/>
         <column name="Period8Rate" type="decimal" length="19" scale="6"/>
         <column name="Period9Rate" type="decimal" length="19" scale="6"/>
         <column name="Period10Rate" type="decimal" length="19" scale="6"/>
         <column name="Period11Rate" type="decimal" length="19" scale="6"/>
         <column name="Period12Rate" type="decimal" length="19" scale="6"/>
         <column name="Period13Rate" type="decimal" length="19" scale="6"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="BudgetLineID"/>
            <column name="BudgetDatasetID"/>
            <column name="RangeNo"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="BudgetLineID"/>
            <column name="StatTypeCode"/>
            <column name="Year"/>
            <column name="RangeNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="BudgetDatasetID" table="BudgetDataset" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetLineHoursPercent" data="true" exportDataColumn="Year">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
         <column name="Year" type="short" required="true"/><!-- TODO:deprecated -->
         <column name="StatTypeCode" type="enum" enumType="BudgetStatType" required="true"/><!-- TODO:deprecated -->
         <column name="Period1RegPct" type="decimal" length="9" scale="4"/>
         <column name="Period2RegPct" type="decimal" length="9" scale="4"/>
         <column name="Period3RegPct" type="decimal" length="9" scale="4"/>
         <column name="Period4RegPct" type="decimal" length="9" scale="4"/>
         <column name="Period5RegPct" type="decimal" length="9" scale="4"/>
         <column name="Period6RegPct" type="decimal" length="9" scale="4"/>
         <column name="Period7RegPct" type="decimal" length="9" scale="4"/>
         <column name="Period8RegPct" type="decimal" length="9" scale="4"/>
         <column name="Period9RegPct" type="decimal" length="9" scale="4"/>
         <column name="Period10RegPct" type="decimal" length="9" scale="4"/>
         <column name="Period11RegPct" type="decimal" length="9" scale="4"/>
         <column name="Period12RegPct" type="decimal" length="9" scale="4"/>
         <column name="Period13RegPct" type="decimal" length="9" scale="4"/>
         <column name="Period1OTPct" type="decimal" length="9" scale="4"/>
         <column name="Period2OTPct" type="decimal" length="9" scale="4"/>
         <column name="Period3OTPct" type="decimal" length="9" scale="4"/>
         <column name="Period4OTPct" type="decimal" length="9" scale="4"/>
         <column name="Period5OTPct" type="decimal" length="9" scale="4"/>
         <column name="Period6OTPct" type="decimal" length="9" scale="4"/>
         <column name="Period7OTPct" type="decimal" length="9" scale="4"/>
         <column name="Period8OTPct" type="decimal" length="9" scale="4"/>
         <column name="Period9OTPct" type="decimal" length="9" scale="4"/>
         <column name="Period10OTPct" type="decimal" length="9" scale="4"/>
         <column name="Period11OTPct" type="decimal" length="9" scale="4"/>
         <column name="Period12OTPct" type="decimal" length="9" scale="4"/>
         <column name="Period13OTPct" type="decimal" length="9" scale="4"/>
         <column name="Period1FixedPct" type="decimal" length="9" scale="4"/>
         <column name="Period2FixedPct" type="decimal" length="9" scale="4"/>
         <column name="Period3FixedPct" type="decimal" length="9" scale="4"/>
         <column name="Period4FixedPct" type="decimal" length="9" scale="4"/>
         <column name="Period5FixedPct" type="decimal" length="9" scale="4"/>
         <column name="Period6FixedPct" type="decimal" length="9" scale="4"/>
         <column name="Period7FixedPct" type="decimal" length="9" scale="4"/>
         <column name="Period8FixedPct" type="decimal" length="9" scale="4"/>
         <column name="Period9FixedPct" type="decimal" length="9" scale="4"/>
         <column name="Period10FixedPct" type="decimal" length="9" scale="4"/>
         <column name="Period11FixedPct" type="decimal" length="9" scale="4"/>
         <column name="Period12FixedPct" type="decimal" length="9" scale="4"/>
         <column name="Period13FixedPct" type="decimal" length="9" scale="4"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="BudgetLineID"/>
            <column name="BudgetDatasetID"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="BudgetLineID"/>
            <column name="Year"/>
            <column name="StatTypeCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="BudgetDatasetID" table="BudgetDataset" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetPrimaryKBIPeriodPercent" data="true" exportDataColumn="Year">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
         <column name="StatTypeCode" type="enum" enumType="BudgetStatType" required="true"/><!-- TODO:deprecated -->
         <column name="Year" type="short" required="true"/><!-- TODO:deprecated -->
         <column name="Per1Percent" type="decimal" length="5" scale="2"/>
         <column name="Per2Percent" type="decimal" length="5" scale="2"/>
         <column name="Per3Percent" type="decimal" length="5" scale="2"/>
         <column name="Per4Percent" type="decimal" length="5" scale="2"/>
         <column name="Per5Percent" type="decimal" length="5" scale="2"/>
         <column name="Per6Percent" type="decimal" length="5" scale="2"/>
         <column name="Per7Percent" type="decimal" length="5" scale="2"/>
         <column name="Per8Percent" type="decimal" length="5" scale="2"/>
         <column name="Per9Percent" type="decimal" length="5" scale="2"/>
         <column name="Per10Percent" type="decimal" length="5" scale="2"/>
         <column name="Per11Percent" type="decimal" length="5" scale="2"/>
         <column name="Per12Percent" type="decimal" length="5" scale="2"/>
         <column name="Per13Percent" type="decimal" length="5" scale="2"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIID"/>
            <column name="BudgetDatasetID"/>
         </unique>
         <unique>
            <column name="KBIID"/>
            <column name="StatTypeCode"/>
            <column name="Year"/>
         </unique>
      </keys>
      <relations>
         <relation src="BudgetDatasetID" table="BudgetDataset" column="ID" type="cascade"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetPrimaryKBIDailyPercent" data="true" exportDataColumn="Year">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
         <column name="StatTypeCode" type="enum" enumType="BudgetStatType" required="true"/><!-- TODO:deprecated -->
         <column name="Year" type="short" required="true"/><!-- TODO:deprecated -->
         <column name="PeriodNo" type="short" required="true" minValue="1" maxValue="13"/>
         <column name="SunPercent" type="decimal" length="5" scale="2"/>
         <column name="MonPercent" type="decimal" length="5" scale="2"/>
         <column name="TuePercent" type="decimal" length="5" scale="2"/>
         <column name="WedPercent" type="decimal" length="5" scale="2"/>
         <column name="ThuPercent" type="decimal" length="5" scale="2"/>
         <column name="FriPercent" type="decimal" length="5" scale="2"/>
         <column name="SatPercent" type="decimal" length="5" scale="2"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIID"/>
            <column name="BudgetDatasetID"/>
            <column name="PeriodNo"/>
         </unique>
         <unique>
            <column name="KBIID"/>
            <column name="StatTypeCode"/>
            <column name="Year"/>
            <column name="PeriodNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="BudgetDatasetID" table="BudgetDataset" column="ID" type="cascade"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetPercentKBIPercent" data="true" exportDataColumn="Year">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
         <column name="StatTypeCode" type="enum" enumType="BudgetStatType" required="true"/><!-- TODO:deprecated -->
         <column name="Year" type="short" required="true"/><!-- TODO:deprecated -->
         <column name="PeriodNo" type="short" required="true" minValue="1" maxValue="13"/>
         <column name="SunPercent" type="decimal" length="12" scale="2"/>
         <column name="MonPercent" type="decimal" length="12" scale="2"/>
         <column name="TuePercent" type="decimal" length="12" scale="2"/>
         <column name="WedPercent" type="decimal" length="12" scale="2"/>
         <column name="ThuPercent" type="decimal" length="12" scale="2"/>
         <column name="FriPercent" type="decimal" length="12" scale="2"/>
         <column name="SatPercent" type="decimal" length="12" scale="2"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIID"/>
            <column name="BudgetDatasetID"/>
            <column name="PeriodNo"/>
         </unique>
         <unique>
            <column name="KBIID"/>
            <column name="StatTypeCode"/>
            <column name="Year"/>
            <column name="PeriodNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="BudgetDatasetID" table="BudgetDataset" column="ID" type="cascade"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetStaffStat" data="true" exportDataColumn="StatDate" compress="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="JobclassID" type="int" required="true"/>
         <column name="BudgetDatasetID" type="int" required="true"/>
         <column name="StatTypeCode" type="enum" enumType="BudgetStatType" required="true"/><!-- TODO:deprecated -->
         <column name="StatDate" type="date" required="true"/>
         <column name="OriginalHours" type="decimal" length="19" scale="2"/>
         <column name="OriginalRate" type="decimal" length="19" scale="4"/>
         <column name="StaffHours" type="decimal" length="19" scale="2"/>
         <column name="StaffRate" type="decimal" length="19" scale="4"/>
         <column name="OTHours" type="decimal" length="19" scale="2"/>
         <column name="OTRate" type="decimal" length="19" scale="4"/>
         <column name="StaffTotal" type="decimal" length="19" scale="4"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="BudgetDatasetID"/>
            <column name="StatDate"/>
            <column name="JobclassID"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="StatTypeCode"/>
            <column name="StatDate"/>
            <column name="JobclassID"/>
         </unique>
      </keys>
      <relations>
         <relation src="BudgetDatasetID" table="BudgetDataset" column="ID" type="cascade"/>
         <relation src="JobclassID" table="Assignment" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="SystemStatType">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="StatTypeCode" type="enum" length="2" required="true" enumType="BudgetStatType"/>
         <column name="Name" type="varchar" length="25" required="true"/>
         <column name="HeaderLabel" type="varchar" length="200"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="StatTypeCode"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BudgetStatTypeName">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="StatTypeCode" type="enum" length="2" required="true" enumType="BudgetStatType"/>
         <column name="Name" type="varchar" length="25" required="true"/>
         <column name="HeaderLabel" type="varchar" length="200"/>
         <column name="CannotBeExported" type ="boolean" required="true" default="false"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="StatTypeCode"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
      <triggers>
         <delete databaseType="mssql">
            <![CDATA[
            if exists (select distinct 1 from BudgetData bd join deleted on bd.PropertyID = deleted.PropertyID and bd.StatTypeCode = deleted.StatTypeCode)
            begin
               rollback transaction
               raiserror ('The StatTypeCode is in use. Refusing to delete.', 16, 1)
               return
            end
            ]]>
         </delete>
      </triggers>
   </table>

   <table name="BudgetWidgetConfig">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="BudgetLineID" type="int"/>
         <column name="UsingPropertyConfig" type="boolean" required="true" default="true"/>
         <column name="WidgetType" type="enum" enumType="WidgetType"/>
         <column name="WidgetName" type="varchar" length="25"/>
         <column name="WidgetBoolean" type="boolean"/>
         <column name="WidgetLowerRange" type="int" minValue="-200" maxValue="200" />
         <column name="WidgetUpperRange" type="int" minValue="-200" maxValue="200"/>
         <column name="WidgetLowerTargetRange" type="int" />
         <column name="WidgetUpperTargetRange" type="int" />
         <column name="CalculationType" type="enum" enumType="CalculationType"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="BudgetLineID"/>
            <column name="WidgetType"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="setnull"/>
      </relations>
   </table>


   <table name="BudgetWidgetLineConfig">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="BudgetWidgetConfigID" type="int" required="true"/>
         <column name="LineType" type="enum" enumType="WidgetChartLineType"/>
         <column name="KBIID"  type="int"/>
         <column name="FormulaID"  type="int"/>
         <column name="BudgetLineID"  type="int"/>
         <column name="LineToggle"  type="boolean" required="true" default="false"/>
         <column name="LineOrderNum"  type="int" required="true"/>
      </columns>
      <keys>
      <primary>
         <column name="ID"/>
      </primary>
      <unique>
         <column name="BudgetWidgetConfigID"/>
         <column name="LineOrderNum"/>
      </unique>
      </keys>
         <relations>
            <relation src="BudgetWidgetConfigID" table="BudgetWidgetConfig" column="ID" type="cascade"/>
            <relation src="KBIID" table="KBI" column="ID" type="setnull"/>
            <relation src="FormulaID" table="BudgetFormula" column="ID" type="setnull"/>
            <relation src="BudgetLineID" table="BudgetLine" column="ID" type="setnull"/>
         </relations>
   </table>

   <table name="CalendarPlan">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="CalYear" type="short" required="true"/>
         <column name="SunOpen" type="boolean" required="true"/>
         <column name="MonOpen" type="boolean" required="true"/>
         <column name="TueOpen" type="boolean" required="true"/>
         <column name="WedOpen" type="boolean" required="true"/>
         <column name="ThuOpen" type="boolean" required="true"/>
         <column name="FriOpen" type="boolean" required="true"/>
         <column name="SatOpen" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
            <column name="CalYear"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="CalendarPlanDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="CalendarPlanID" type="int" required="true"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="EndDate" type="date" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="CalendarPlanID"/>
            <column name="StartDate"/>
            <column name="EndDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="CalendarPlanID" table="CalendarPlan" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="Certification">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ClarionBudgetLineMapping">
      <columns>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="laydictid" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="BudgetLineID"/>
         </primary>
      </keys>
      <relations>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ClarionKBIMapping">
      <columns>
         <column name="KBIID" type="int" required="true"/>
         <column name="OrderNo" type="byte" required="true"/>
         <column name="sobctlid" type="int"/>
         <column name="laydictid" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="KBIID"/>
            <column name="OrderNo"/>
         </primary>
      </keys>
      <relations>
         <relation src="KBIID" table="KBI" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="CurrencyFactor">
      <columns>
         <column name="PropertyID" type="int" required="true"/>
         <column name="EffectiveDate" type="date" required="true"/>
         <column name="Factor" type="decimal" length="9" scale="4" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="PropertyID"/>
            <column name="EffectiveDate"/>
         </primary>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="DayOffPlan">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="NumberWeeks" type="short" required="true" minValue="1" maxValue="14"/>
         <column name="LastRotated" type="date"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="DayOffPattern">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="DayOffPlanID" type="int" required="true"/>
         <column name="PatternNo" type="short" required="true"/>
         <column name="SunOff" type="boolean" required="true"/>
         <column name="MonOff" type="boolean" required="true"/>
         <column name="TueOff" type="boolean" required="true"/>
         <column name="WedOff" type="boolean" required="true"/>
         <column name="ThuOff" type="boolean" required="true"/>
         <column name="FriOff" type="boolean" required="true"/>
         <column name="SatOff" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="DayOffPlanID" table="DayOffPlan" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="EarningCategory">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="UOM" type="enum" length="1" required="true" enumType="UOMType"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EarningType">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="ProcessorCode" type="varchar" length="20" required="true"/>
         <column name="UOM" type="enum" length="1" required="true" enumType="UOMType"/>
         <column name="Type" type="enum" length="1" required="true" enumType="EarningTypeType"/>
         <column name="AccrualFrequency" type="enum" length="1" required="true" enumType="AccrualFrequencyType" default="'P'"/>
         <column name="EarningCategoryID" type="int"/>
         <column name="IncludeInOTCalcs" type="boolean" required="true"/>
         <column name="IncludeInBasePay" type="boolean" required="true"/>
         <column name="IncludeIn7I" type="boolean"/>
         <column name="IncludeInBenefitCalcs" type="boolean" required="true"/>
         <column name="ExcludeFromPayrollExport" type="boolean" required="true"/>
         <column name="ExportAsCosts" type="boolean" required="true"/>
         <column name="IncludeInGrossSales" type="boolean" required="true"/>
         <column name="IncludeInTips" type="boolean" required="true"/>
         <column name="IncludeInWorkRules" type="boolean" required="true"/>
         <column name="IncludeInEarningsWizard" type="boolean" required="true"/>
         <column name="IncludeInBankedHours" type="boolean" required="true"/>
         <column name="IncludeInTimeOff" type="boolean"/>
         <column name="IncludeInWorkedHours" type="boolean" required="true"/>
         <column name="IncludeInSalaryDistribution" type="boolean" required="true"/>
         <column name="IncludeInMobile" type="boolean" required="true"/>
         <column name="IncludeInReallocation" type="boolean" required="true"/>
         <column name="ReallocateAccrualPremiumOnly" type="boolean" required="true"/>
         <column name="PayAtLeastMinWage" type="boolean" required="true"/>
         <column name="RoundOnExport" type="boolean" required="true"/>
         <column name="ReverseProcessorCode" type="varchar" length="20"/>
         <column name="PayNo" type="char" length="1"/>
         <column name="TaxFrequency" type="char" length="1"/>
         <column name="PayrollBucket" type="char" length="1"/>
         <column name="MinHours" type="decimal" length="19" scale="2"/>
         <column name="MinDollars" type="decimal" length="19" scale="2"/>
         <column name="MaxHours" type="decimal" length="19" scale="2"/>
         <column name="MaxDollars" type="decimal" length="19" scale="2"/>
         <column name="MaxBalance" type="decimal" length="19" scale="2"/>
         <column name="MaxNegativeBalance" type="decimal" length="19" scale="2"/>
         <column name="MinimumApprovalLevel" type="byte" required="true" default="0"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="EarningCategoryID" table="EarningCategory" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="Employee" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="PayGroupID" type="int" required="true"/>
         <column name="EmpID" type="varchar" length="25" required="true"/>
         <column name="LastName" type="varchar" length="50" required="true"/>
         <column name="FirstName" type="varchar" length="50" required="true"/>
         <column name="MiddleName" type="varchar" length="25"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="EmployeeTypeCode" type="enum" length="1" required="true" enumType="EmployeeType"/>
         <column name="HireDate" type="date" required="true"/>
         <column name="SeniorityDate" type="date" required="true"/>
         <column name="WorkClassID" type="int" required="true"/>
         <column name="EmpClassID" type="int"/>
         <column name="SecEmpClassID" type="int"/>
         <column name="BirthDate" type="date"/>
         <column name="AltEmpID" type="varchar" length="25"/>
         <column name="PayrollEmpID" type="varchar" length="25"/>
         <column name="Gender" type="enum" length="1" enumType="GenderType"/>
         <column name="Tipped" type="enum" length="1" enumType="TippedType"/>
         <column name="HoursAvailable" type="decimal" length="9" scale="2" minValue="0.0" maxValue="80.0"/>
         <column name="MinHoursOff" type="decimal" length="9" scale="2" minValue="0.0" maxValue="24.0"/>
         <column name="MinDaysOff" type="short" minValue="0" maxValue="7"/>
         <column name="DayOffPlanID" type="int"/>
         <column name="CurrentPatternNo" type="short"/>
         <column name="Photograph" type="blob"/>
         <column name="Address" type="varchar" length="50"/>
         <column name="Address2" type="varchar" length="50"/>
         <column name="City" type="varchar" length="50"/>
         <column name="StateID" type="int"/>
         <column name="Zip" type="varchar" length="25"/>
         <column name="HomePhone" type="varchar" length="25"/>
         <column name="MobilePhone" type="varchar" length="25"/>
         <column name="OtherPhone" type="varchar" length="25"/>
         <column name="Email" type="varchar" length="254"/>
         <column name="EmergencyContact" type="varchar" length="50"/>
         <column name="EmergencyPhone" type="varchar" length="25"/>
         <column name="OrientationDate" type="date"/>
         <column name="Eligible401KDate" type="date"/>
         <column name="Enrolled401KDate" type="date"/>
         <column name="NextReviewDate" type="date"/>
         <column name="LastReviewDate" type="date"/>
         <column name="MaritalStatus" type="enum" length="1" enumType="MaritalStatusType"/>
         <column name="NumDependents" type="short"/>
         <column name="ADA" type="varchar" length="100"/>
         <column name="Locale" type="varchar" length="10"/>
         <column name="ExtraData" type="varchar" length="25"/>
         <column name="Password" type="varchar" length="50"/>
         <column name="ClockAdmin" type="boolean" required="true"/>
         <column name="BypassBiometric" type="boolean" required="true"/>
         <column name="AutoPunchMode" type="boolean" required="true"/>
         <column name="PIN" type="varchar" length="200"/>
         <column name="WatsonUserID" type="int"/>
         <column name="PortalUserID" type="int"/>
         <column name="Flags" type="int"/>
         <column name="PrivateSchedules" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="PayGroupID"/>
            <column name="EmpID"/>
         </unique>
         <index include="Name">
            <column name="PropertyID"/>
            <column name="ID"/>
            <column name="EmpID"/>
         </index>
         <index>
            <column name="PortalUserID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="PayGroupID" table="PayGroup" column="ID" type="cascade"/>
         <relation src="WorkClassID" table="EmployeeWorkClass" column="ID" type="enforce"/>
         <relation src="EmpClassID" table="EmployeeClass" column="ID" type="setnull"/>
         <relation src="SecEmpClassID" table="EmployeeClass" column="ID" type="setnull"/>
         <relation src="DayOffPlanID" table="DayOffPlan" column="ID" type="setnull"/>
         <relation src="StateID" table="State" column="ID" type="setnull"/>
         <relation src="WatsonUserID" table="WatsonUser" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="EmployeeCertification" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="CertificationID" type="int" required="true"/>
         <column name="IssueDate" type="date" required="true"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="EndDate" type="date" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EmployeeID"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="CertificationID" table="Certification" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeEventDocumentTemplate" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="255" required="true"/>
         <column name="ExportFileName" type="varchar" length="255" required="true"/>
         <column name="Template" type="varchar" length="4000" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeReconcileHashCode" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="EmpID" type="varchar" length="25" required="true"/>
         <column name="LastReconcileEmployeeHashCode" type="int" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="EmpID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeScheduleExportHistory" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="LastExportedDateTime" type="datetime"/>
         <column name="LastModifiedDateTime" type="datetime"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EmployeeID"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeWatsonUserMap" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="UserID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EmployeeID"/>
            <column name="UserID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeAccessPunch" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="PunchTypeCode" type="enum" length="8" required="true" enumType="PunchType"/>
         <column name="PunchTime" type="datetime" required="true"/>
         <column name="TimeClockID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EmployeeID"/>
            <column name="PunchTime"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="TimeClockID" table="TimeClock" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="EmployeeApproval" data="true" exportDataColumn="PayPeriodEndDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="PayPeriodEndDate" type="date" required="true"/>
         <column name="ApprovedOnDT" type="datetime" required="true"/>
         <column name="Signature" type="blob"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EmployeeID"/>
            <column name="PayPeriodEndDate"/>
            <column name="ApprovedOnDT"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeAssignment" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="OrderNo" type="short" required="true"/>
         <column name="Rank" type="short" required="true" minValue="1" maxValue="10000"/>
         <column name="Active" type="boolean" required="true" default="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EmployeeID"/>
            <column name="AssignmentID"/>
         </unique>
         <unique>
            <column name="EmployeeID"/>
            <column name="OrderNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeJobStatus" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="JobID" type="int" required="true"/>
         <column name="ScheduleOrder" type="short" required="true"/>
         <column name="SeniorityDate" type="date" required="true"/>
         <column name="Rank" type="short" minValue="1" maxValue="10000" required="true"/>
         <column name="SubOnly" type="boolean" required="true"/>
         <column name="PayTypeCode" type="enum" enumType="EmployeePayType" required="true"/>
         <column name="AnnualBased" type="boolean" required="true"/>
         <column name="Home" type="boolean" required="true"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="EndDate" type="date" required="true"/>
         <column name="PayRateReasonID" type="int"/>
         <column name="HourlyRate" type="decimal" length="9" scale="4"/>
         <column name="AnnualRate" type="decimal" length="19" scale="4"/>
         <column name="PieceRate" type="decimal" length="9" scale="4"/>
         <column name="SalaryDistID" type="int"/>
         <column name="ContractHours" type="decimal" length="9" scale="2"/>
         <column name="ContractDays" type="decimal" length="9" scale="2"/>
         <column name="ReconcileCodeID" type="int"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="StartDate"/>
            <column name="EmployeeID"/>
            <column name="EndDate"/>
            <column name="JobID"/>
         </unique>
         <index include="PropertyID,EmployeeID,JobID,ScheduleOrder">
            <column name="StartDate"/>
            <column name="EndDate"/>
         </index>
         <index>
            <column name="EmployeeID"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="JobID" table="Assignment" column="ID" type="cascade"/>
         <relation src="SalaryDistID" table="SalaryDist" column="ID" type="setnull"/>
         <relation src="PayRateReasonID" table="PayRateReason" column="ID" type="setnull"/>
         <relation src="ReconcileCodeID" table="ReconcileCode" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="EmployeeAudit" data="true" compress="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="PropertyName" type="varchar" length="100" required="true"/>
         <column name="ChangedOnDT" type="datetime" required="true"/>
         <column name="ChangedByUserID" type="int" required="true"/>
         <column name="EffectiveDate" type="date" required="true"/>
         <column name="OldValue" type="varchar" length="255"/>
         <column name="NewValue" type="varchar" length="255"/>
         <column name="Source" type="enum" length="1" required="true" enumType="EmpAuditSource"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index compress="true">
            <column name="EmployeeID"/>
            <column name="PropertyName"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="ChangedByUserID" table="WatsonUser" column="ID" type="enforce"/>
      </relations>
   </table>

   <table name="EmployeeAvailability" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="DayNo" type="short" required="true" minValue="1" maxValue="7"/>
         <column name="RequestTypeCode" type="enum" length="2" required="true" enumType="EmployeeAvailType"/>
         <column name="StartTime" type="time" required="true"/>
         <column name="EndTime" type="time" required="true"/>
         <column name="Duration" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="EmployeeID"/>
            <column name="DayNo"/>
            <column name="RequestTypeCode"/>
            <column name="StartTime"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="EmployeeAvailabilityPending" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="DayNo" type="short" required="true" minValue="1" maxValue="7"/>
         <column name="RequestTypeCode" type="enum" length="2" required="true" enumType="EmployeeAvailType"/>
         <column name="StartTime" type="time" required="true"/>
         <column name="EndTime" type="time" required="true"/>
         <column name="Duration" type="decimal" length="9" scale="2" required="true"/>
         <column name="Status" type="enum" length="1" required="true" enumType="EmployeeAvailabilityRequestStatusType"/>
         <column name="Note" type="memo" required="false"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="EmployeeID"/>
            <column name="DayNo"/>
            <column name="RequestTypeCode"/>
            <column name="StartTime"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="EmployeeAvailabilityRequest" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="Status" type="enum" length="1" required="true" enumType="EmployeeAvailabilityRequestStatusType"/>
         <column name="ChangeText" type="memo" required="true"/>
         <column name="EnteredOn" type="datetime" required="true"/>
         <column name="StatusChangedOn" type="datetime"/>
         <column name="StatusChangedByUserID" type="int"/>
         <column name="ResponseRequired" type="boolean" required="true"/>
         <column name="EMailSent" type="boolean" required="true"/>
         <column name="EMailSentOn" type="datetime"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EmployeeID"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="StatusChangedByUserID" table="WatsonUser" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="EmployeeBiometricData" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="FPUType" type="enum" length="1" required="true" enumType="FPUType"/>
         <column name="BiometricData" type="blob" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EmployeeID"/>
            <column name="FPUType"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="EmployeeClass">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="IsPrimary" type="boolean" required="true"/>
         <column name="IsUnion" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Code"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeCustomData" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="FieldID" type="int" required="true"/>
         <column name="Value" type="varchar" length="255"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EmployeeID"/>
            <column name="FieldID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="FieldID" table="EmployeeCustomField" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeCustomField">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Label" type="varchar" length="50" required="true"/>
         <column name="TypeCode" type="enum" length="1" required="true" enumType="CustomFieldType"/>
         <column name="Category" type="varchar" length="25" required="true"/>
         <column name="Required" type="boolean" required="true"/>
         <column name="OrderNo" type="short" required="true"/>
         <column name="MaxLength" type="short"/>
         <column name="FormatStr" type="varchar" length="50"/>
         <column name="ExtraData" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="OrderNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeData" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="Tag" type="varchar" length="50" required="true"/>
         <column name="TagValue" type="varchar" length="255"/>
         <column name="TagData" type="blob"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EmployeeID"/>
            <column name="Tag"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="EmployeeEarning" data="true" exportDataColumn="EarningDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="JobID" type="int" required="true"/>
         <column name="EarningTypeID" type="int" required="true"/>
         <column name="EarningDate" type="date" required="true"/>
         <column name="PayDate" type="date" required="true"/>
         <column name="Source" type="enum" length="1" required="true" enumType="EarningSourceType"/>
         <column name="Hours" type="decimal" length="9" scale="4"/>
         <column name="Rate" type="decimal" length="9" scale="4"/>
         <column name="Dollars" type="decimal" length="9" scale="2"/>
         <column name="TotalDollars" type="decimal" length="9" scale="2"/>
         <column name="Note" type="varchar" length="400"/>
         <column name="CheckID" type="int"/>
         <column name="ShiftID" type="int"/>
         <column name="RuleItemID" type="int"/>
         <column name="TipSubPoolID" type="int"/>
         <column name="TORDistributionID" type="int"/>
         <column name="ReallocatedFromAdjustmentID" type="int"/>
         <column name="ApprovalLevel" type="byte"/>
         <column name="ApprovedOnDT" type="datetime"/>
         <column name="ApprovedBy" type="int"/>
         <column name="ImportID" type="int"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="EarningDate"/>
            <column name="EmployeeID"/>
            <column name="JobID"/>
            <column name="EarningTypeID"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="ShiftID"/>
         </index>
         <index>
            <column name="CheckID"/>
         </index>
         <index>
            <column name="TipSubPoolID"/>
         </index>
         <index>
            <column name="ReallocatedFromAdjustmentID"/>
         </index>
         <index>
            <column name="TORDistributionID"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="JobID" table="Assignment" column="ID" type="cascade"/>
         <relation src="EarningTypeID" table="EarningType" column="ID" type="cascade"/>
         <relation src="CheckID" table="ManualCheck" column="ID" type="cascade"/>
         <relation src="ShiftID" table="EmployeeShift" column="ID" type="cascade"/>
         <relation src="RuleItemID" table="RuleItem" column="ID" type="setnull"/>
         <relation src="TipSubPoolID" table="TipSubPool" column="ID" type="setnull"/>
         <relation src="TORDistributionID" table="TORDistribution" column="ID" type="setnull"/>
         <relation src="ReallocatedFromAdjustmentID" table="EmployeeShiftAdjustment" column="ID" type="cascade"/>
         <relation src="ApprovedBy" table="WatsonUser" column="ID" type="setnull"/>
      </relations>
      <triggers>
         <update databaseType="mssql">
            <![CDATA[
if (select count(*) from inserted) = 1
BEGIN
   Declare @errorCount int = (select count(*) from inserted i join Employee e on i.EmployeeID = e.ID join PropertyData pd on e.PropertyID = pd.PropertyID and pd.Tag = 'LastPPEndFieldID' join deleted d on i.id = d.id join EmployeeCustomData ecd on convert(int, pd.TagValue) = ecd.FieldID and ecd.EmployeeID = i.EmployeeID and convert(datetime, ecd.Value) >= d.EarningDate where coalesce(i.Hours, 0) <> coalesce(d.Hours, 0) or coalesce(i.Rate, 0) <> coalesce(d.Rate, 0) or coalesce(i.Dollars, 0) <> coalesce(d.Dollars, 0) or coalesce(i.TotalDollars, 0) <> coalesce(d.TotalDollars, 0) or coalesce(i.EarningTypeID, 0) <> coalesce(d.EarningTypeID, 0) or coalesce(i.TipSubPoolID, 0) <> coalesce(d.TipSubPoolID, 0) or coalesce(i.PayDate, '') <> coalesce(d.PayDate, '') or coalesce(i.EmployeeID, 0) <> coalesce(d.EmployeeID, 0) or coalesce(i.JobID, 0) <> coalesce(d.JobID, 0) or coalesce(i.ApprovalLevel, 0) <> coalesce(d.ApprovalLevel, 0) or coalesce(i.ApprovedOnDT, '') <> coalesce(d.ApprovedOnDT, '') or coalesce(i.ApprovedBy, 0) <> coalesce(d.ApprovedBy, 0))
   select @errorCount = coalesce(@errorCount, 0) + coalesce((select count(*) from inserted i join PropertyData pd on i.PropertyID = pd.PropertyID and pd.Tag = 'LastPPEndFieldID' left join deleted d on i.id = d.id join EmployeeCustomData ecd on convert(int, pd.TagValue) = ecd.FieldID and ecd.EmployeeID = i.EmployeeID and convert(datetime, ecd.Value) >= i.EarningDate where d.id is null), 0)
   if @errorCount > 0
   begin
      rollback transaction
      declare @msg varchar(max)
      if @errorCount > 1
         set @msg = convert(varchar, @errorCount) + ' of the earnings being modified are locked for editing based on a soft close of the pay period for the affected employees. If you need to modify the earnings for an employee who has been soft closed, you must change the date of the soft close by re-exporting an older period or directly editing the Employee''s custom data value named "LastPPEnd".'
      else
         set @msg = 'The earning being modified is locked for editing based on a soft close of the pay period. If you need to modify the earnings for an employee who has been soft closed, you must change the date of the soft close by re-exporting an older period or directly editing the Employee''s custom data value named "LastPPEnd".'
      raiserror (@msg, 16, 1)
      return
   end
END;
         ]]>
         </update>
         <delete databaseType="mssql">
            <![CDATA[
if (select count(*) from deleted) = 1
BEGIN
   Declare @errorCount int = (select count(*) from deleted d join Employee e on d.EmployeeID = e.ID join PropertyData pd on e.PropertyID = pd.PropertyID and pd.Tag = 'LastPPEndFieldID' join EmployeeCustomData ecd on convert(int, pd.TagValue) = ecd.FieldID and ecd.EmployeeID = d.EmployeeID and convert(datetime, ecd.Value) >= d.EarningDate)
   if @errorCount > 0
   begin
      rollback transaction
      declare @msg varchar(max)
      if @errorCount > 1
         set @msg = convert(varchar, @errorCount) + ' of the earnings being deleted are locked for editing based on a soft close of the pay period for the affected employees. If you need to modify the earnings for an employee who has been soft closed, you must change the date of the soft close by re-exporting an older period or directly editing the Employee''s custom data value named "LastPPEnd".'
      else
         set @msg = 'The earning being deleted is locked for editing based on a soft close of the pay period. If you need to modify the earnings for an employee who has been soft closed, you must change the date of the soft close by re-exporting an older period or directly editing the Employee''s custom data value named "LastPPEnd".'
      raiserror (@msg, 16, 1)
      return
   end
END;
         ]]>
         </delete>
      </triggers>
   </table>

   <table name="EmployeeEarningAudit" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="EarningDate" type="date" required="true"/>
         <column name="EarningTypeID" type="int" required="true"/>
         <column name="ChangedOnDT" type="datetime" required="true"/>
         <column name="ChangedByUserID" type="int" required="true"/>
         <column name="Description" type="memo" required="true"/>
         <column name="AuditTypeCode" type="enum" enumType="EarningAuditType"/>
         <column name="ExtraData" type="memo"/>
         <column name="ConfirmTypeCode" type="enum" enumType="AuditConfirmType"/>
         <column name="ConfirmDT" type="datetime"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EmployeeID"/>
            <column name="EarningDate"/>
            <column name="EarningTypeID"/>
         </index>
         <index>
            <column name="ChangedByUserID"/>
            <column name="ChangedOnDT"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="EarningTypeID" table="EarningType" column="ID" type="cascade"/>
         <relation src="ChangedByUserID" table="WatsonUser" column="ID" type="enforce"/>
      </relations>
   </table>

   <table name="EmployeeEvent" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="EventDate" type="date" required="true"/>
         <column name="SecondaryEventDate" type="date"/>
         <column name="EmpEventTypeCode" type="varchar" length="25" required="true"/>
         <column name="RuleItemID" type="int"/>
         <column name="Points" type="decimal" length="19" scale="2"/>
         <column name="Note" type="varchar" length="100"/>
         <column name="CreatedByUserID" type="int"/>
         <column name="CreatedOnDateTime" type="datetime"/>
         <column name="RelatedEventsAndPoints" type="memo" required="true" default="'{&quot;employeeEventIds&quot;:[],&quot;employeePointIds&quot;:[]}'"/>
         <column name="Status" type="enum" length="1" required="true" default="'P'" enumType="EmployeeEventStatus"/>
         <column name="StatusChangedByUserId" type="int"/>
         <column name="StatusChangedOn" type="datetime"/>
         <column name="ReasonExcusedId" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EmployeeID"/>
            <column name="EventDate"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="RuleItemID" table="RuleItem" column="ID" type="setnull"/>
         <relation src="StatusChangedByUserId" table="WatsonUser" column="ID" type="setnull"/>
         <relation src="CreatedByUserID" table="WatsonUser" column="ID" type="setnull"/>
         <relation src="ReasonExcusedId" table="EmployeeEventExcusedReason" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="EmployeeEventExcusedReason">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Reason" type="varchar" length="25" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Reason"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeFavoriteRecipient" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="FavoriteEmployeeID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EmployeeID"/>
            <column name="FavoriteEmployeeID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="FavoriteEmployeeID" table="Employee" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeFieldOverride">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="FieldName" type="varchar" length="50" required="true"/>
         <column name="Visible" type="boolean" required="true"/>
         <column name="Required" type="boolean" required="true"/>
         <column name="MaxLength" type="short"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="FieldName"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeI9" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="USCitizen" type="boolean" required="true"/>
         <column name="AlienNo" type="varchar" length="25"/>
         <column name="EthnicityCode" type="char" length="1"/>
         <column name="ListA" type="boolean" required="true"/>
         <column name="ListB" type="boolean" required="true"/>
         <column name="ListC" type="boolean" required="true"/>
         <column name="DocATitle" type="varchar" length="50"/>
         <column name="DocBTitle" type="varchar" length="50"/>
         <column name="DocCTitle" type="varchar" length="50"/>
         <column name="DocAIssuer" type="varchar" length="50"/>
         <column name="DocBIssuer" type="varchar" length="50"/>
         <column name="DocCIssuer" type="varchar" length="50"/>
         <column name="DocANo" type="varchar" length="50"/>
         <column name="DocBNo" type="varchar" length="50"/>
         <column name="DocCNo" type="varchar" length="50"/>
         <column name="DocAExpDate" type="date"/>
         <column name="DocBExpDate" type="date"/>
         <column name="DocCExpDate" type="date"/>
         <column name="VerifiedByUser" type="varchar" length="50"/>
         <column name="VerifiedOnDate" type="date"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EmployeeID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="EthnicityCode" table="Ethnicity" column="Code" type="enforce"/>
      </relations>
   </table>

   <table name="EmployeeJobBadge" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="BadgeNo" type="varchar" length="25" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="JobID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="BadgeNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="JobID" table="Assignment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeOverride" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="OverrideDateTime" type="datetime" required="true"/>
         <column name="Description" type="memo"/>
         <column name="Signature" type="blob"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EmployeeID"/>
            <column name="OverrideDateTime"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeePoints" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="PointsDate" type="date" required="true"/>
         <column name="Duration" type="decimal" length="19" scale="2"/>
         <column name="PunchTypeCode" type="enum" length="8" enumType="PunchType"/>
         <column name="Points" type="decimal" length="19" scale="2" required="true"/>
         <column name="PointsTypeCode" type="varchar" length="25" required="true"/>
         <column name="ActualShiftID" type="int"/>
         <column name="ScheduleShiftID" type="int"/>
         <column name="RuleItemID" type="int"/>
         <column name="Note" type="varchar" length="100"/>
         <column name="CreatedByUserID" type="int"/>
         <column name="CreatedOnDateTime" type="datetime"/>
         <column name="Status" type="enum" length="1" required="true" default="'P'" enumType="EmployeePointStatus"/>
         <column name="StatusChangedByUserId" type="int"/>
         <column name="StatusChangedOn" type="datetime"/>
         <column name="ReasonExcusedId" type="int"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="EmployeeID"/>
            <column name="PointsDate"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="ActualShiftID"/>
         </index>
         <index>
            <column name="ScheduleShiftID"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="ActualShiftID" table="EmployeeShift" column="ID" type="donothing"/>
         <relation src="ScheduleShiftID" table="EmployeeShift" column="ID" type="donothing"/>
         <relation src="RuleItemID" table="RuleItem" column="ID" type="setnull"/>
         <relation src="StatusChangedByUserId" table="WatsonUser" column="ID" type="setnull"/>
         <relation src="CreatedByUserID" table="WatsonUser" column="ID" type="setnull"/>
         <relation src="ReasonExcusedId" table="EmployeePointsExcusedReason" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="EmployeePointsExcusedReason">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Reason" type="varchar" length="25" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Reason"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeRegularPeriod" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="DayNo" type="short" required="true" minValue="1" maxValue="7"/>
         <column name="PeriodTypeCode" type="enum" length="1" required="true" enumType="EmployeePeriodType"/>
         <column name="StartTime" type="time" required="true"/>
         <column name="EndTime" type="time" required="true"/>
         <column name="Duration" type="decimal" length="9" scale="2" required="true"/>
         <column name="JobclassID" type="int"/>
         <column name="AssignmentID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EmployeeID"/>
            <column name="DayNo"/>
            <column name="StartTime"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="JobclassID" table="Assignment" column="ID" type="setnull"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="EmployeeRule" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="RuleTypeCode" type="enum" length="2" required="true" enumType="RuleType"/>
         <column name="RuleSetID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EmployeeID"/>
            <column name="RuleTypeCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="RuleSetID" table="RuleSet" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeScheduleGroup" data="true">
      <columns>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="ScheduleGroupID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="EmployeeID"/>
            <column name="ScheduleGroupID"/>
         </primary>
         <unique>
            <column name="ScheduleGroupID"/>
            <column name="EmployeeID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="ScheduleGroupID" table="ScheduleGroup" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeScheduleLabel" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="Date" type="date" required="true"/>
         <column name="Label" type="varchar" length="10" required="true"/>
         <column name="Source" type="enum" length="1" required="true" default="'M'" enumType="LabelSource"/>
         <column name="RuleItemID" type="int"/>
         <column name="ExtraData" type="varchar" length="25"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="EmployeeID"/>
            <column name="Date"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="RuleItemID" table="RuleItem" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="EmployeeSet">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Criteria" type="memo" required="true"/>
         <column name="MemoOneAllowed" type="boolean" required="true"/>
         <column name="MemoTwoAllowed" type="boolean" required="true"/>
         <column name="MemoThreeAllowed" type="boolean" required="true"/>
         <column name="MemoFourAllowed" type="boolean" required="true"/>
         <column name="PiecesAllowed" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeSetEarningTypeRestriction">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeSetID" type="int" required="true"/>
         <column name="EarningTypeID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EmployeeSetID"/>
            <column name="EarningTypeID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeSetID" table="EmployeeSet" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="EarningTypeID" table="EarningType" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeSetRule">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeSetID" type="int" required="true"/>
         <column name="RuleTypeCode" type="enum" length="2" required="true" enumType="RuleType"/>
         <column name="RuleSetID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EmployeeSetID"/>
            <column name="RuleTypeCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeSetID" table="EmployeeSet" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="RuleSetID" table="RuleSet" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeShift" lockEscalation="disable" data="true" exportDataColumn="ShiftDate" compress="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="JobID" type="int" required="true"/>
         <column name="ShiftDate" type="date" required="true"/>
         <column name="ShiftTypeCode" type="enum" length="1" required="true" enumType="ShiftType"/>
         <column name="ShiftCategoryID" type="int" required="true"/>
         <column name="Source" type="enum" length="1" required="true" enumType="ShiftSourceType"/>
         <column name="CreatedOnDT" type="datetime" required="true"/>
         <column name="AssignmentID" type="int"/>
         <column name="WorkedHours" type="decimal" length="9" scale="4"/>
         <column name="AdjHours" type="decimal" length="9" scale="4"/>
         <column name="NetHours" type="decimal" length="9" scale="4"/>
         <column name="AvgRate" type="decimal" length="9" scale="4"/>
         <column name="NetDollars" type="decimal" length="9" scale="2"/>
         <column name="RegHours" type="decimal" length="9" scale="4"/>
         <column name="RegRate" type="decimal" length="9" scale="4"/>
         <column name="RegDollars" type="decimal" length="9" scale="2"/>
         <column name="AutoOTHours" type="decimal" length="9" scale="4"/>
         <column name="AdjOTHours" type="decimal" length="9" scale="4"/>
         <column name="OTHours" type="decimal" length="9" scale="4"/>
         <column name="OTRate" type="decimal" length="9" scale="4"/>
         <column name="OTDollars" type="decimal" length="9" scale="2"/>
         <column name="AutoDTHours" type="decimal" length="9" scale="4"/>
         <column name="AdjDTHours" type="decimal" length="9" scale="4"/>
         <column name="DTHours" type="decimal" length="9" scale="4"/>
         <column name="DTRate" type="decimal" length="9" scale="4"/>
         <column name="DTDollars" type="decimal" length="9" scale="2"/>
         <column name="BankedHours" type="decimal" length="9" scale="4"/>
         <column name="StartTime" type="datetime"/>
         <column name="EndTime" type="datetime"/>
         <column name="EmpApprovedDT" type="datetime"/>
         <column name="MgrApprovedDT" type="datetime"/>
         <column name="MgrApprovedBy" type="int"/>
         <column name="CheckID" type="int"/>
         <column name="PlannedShiftID" type="int"/>
         <column name="Notes" type="varchar" length="400"/>
         <column name="Overlap" type="boolean" required="true"/>
         <column name="Flags" type="int"/>
         <column name="ReallocatedFromAdjustmentID" type="int"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="ShiftTypeCode"/>
            <column name="EmployeeID"/>
            <column name="ShiftDate"/>
            <column name="ShiftCategoryID"/>
            <column name="ID"/>
         </unique>
         <index compress="true">
            <column name="EmployeeID"/>
            <column name="ShiftDate"/>
         </index>
         <index>
            <column name="PlannedShiftID"/>
         </index>
         <index>
            <column name="ReallocatedFromAdjustmentID"/>
         </index>
         <index compress="true" include="ID,EmployeeID">
            <column name="ShiftTypeCode"/>
            <column name="StartTime"/>
         </index>
         <index compress="true">
            <column name="ShiftCategoryID"/>
            <column name="JobID"/>
            <column name="ShiftDate"/>
            <column name="ShiftTypeCode"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="JobID" table="Assignment" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="CheckID" table="ManualCheck" column="ID" type="cascade"/>
         <relation src="ShiftCategoryID" table="ShiftCategory" column="ID" type="cascade"/>
         <relation src="MgrApprovedBy" table="WatsonUser" column="ID" type="setnull"/>
         <relation src="PlannedShiftID" table="PlannedShift" column="ID" type="setnull"/>
         <relation src="ReallocatedFromAdjustmentID" table="EmployeeShiftAdjustment" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
      <triggers>
         <update databaseType="mssql">
            <![CDATA[
if (select count(*) from inserted) = 1
BEGIN
   Declare @errorCount int = (select count(*) from inserted i join Employee e on i.EmployeeID = e.ID join PropertyData pd on e.PropertyID = pd.PropertyID and pd.Tag = 'LastPPEndFieldID' and i.ShiftTypeCode = 'A' join deleted d on i.id = d.id join EmployeeCustomData ecd on convert(int, pd.TagValue) = ecd.FieldID and ecd.EmployeeID = i.EmployeeID and convert(datetime, ecd.Value) >= d.ShiftDate where coalesce(i.WorkedHours, 0) <> coalesce(d.WorkedHours, 0) or coalesce(i.NetHours, 0) <> coalesce(d.NetHours, 0) or coalesce(i.RegHours, 0) <> coalesce(d.RegHours, 0) or coalesce(i.OTHours, 0) <> coalesce(d.OTHours, 0) or coalesce(i.RegDollars, 0) <> coalesce(d.RegDollars, 0) or coalesce(i.NetDollars, 0) <> coalesce(d.NetDollars, 0) or coalesce(i.OTDollars, 0) <> coalesce(d.OTDollars, 0) or coalesce(i.DTDollars, 0) <> coalesce(D.DTDollars, 0) or coalesce(i.MgrApprovedDT, '') <> coalesce(d.MgrApprovedDT, ''))
   select @errorCount = coalesce(@errorCount, 0) + coalesce((select count(*) from inserted i join PropertyData pd on i.PropertyID = pd.PropertyID and pd.Tag = 'LastPPEndFieldID' and i.ShiftTypeCode = 'A' left join deleted d on i.id = d.id join EmployeeCustomData ecd on convert(int, pd.TagValue) = ecd.FieldID and ecd.EmployeeID = i.EmployeeID and convert(datetime, ecd.Value) >= i.ShiftDate where d.id is null), 0)
   if @errorCount > 0
   begin
      rollback transaction
      declare @msg varchar(max)
      if @errorCount > 1
         set @msg = 'This employee has been soft closed for the date selected. If you need to modify this date you must first change the date of the soft close by re-exporting an older pay period or by manually adjusting the LastPPEndDate for this employee in Employee Maintenance (' + convert(varchar, @errorCount) + ' Records Affected)'
      else
         set @msg = 'This employee has been soft closed for the date selected. If you need to modify this date you must first change the date of the soft close by re-exporting an older pay period or by manually adjusting the LastPPEndDate for this employee in Employee Maintenance.'
      raiserror (@msg, 16, 1)
      return
   end
END;
         ]]>
         </update>
         <delete databaseType="mssql">
            <![CDATA[
if (select count(*) from deleted) = 1
BEGIN
   Declare @errorCount int = (select count(*) from deleted d join Employee e on d.EmployeeID = e.ID join PropertyData pd on e.PropertyID = pd.PropertyID and pd.Tag = 'LastPPEndFieldID' and d.ShiftTypeCode = 'A' join EmployeeCustomData ecd on convert(int, pd.TagValue) = ecd.FieldID and ecd.EmployeeID = d.EmployeeID and convert(datetime, ecd.Value) >= d.ShiftDate)
   if @errorCount > 0
   begin
      --rollback transaction
      insert into TempID select ID from deleted
      declare @msg varchar(max)
      if @errorCount > 1
         set @msg = 'This employee has been soft closed for the date selected. If you need to modify this date you must first change the date of the soft close by re-exporting an older pay period or by manually adjusting the LastPPEndDate for this employee in Employee Maintenance (' + convert(varchar, @errorCount) + ' Records Affected)'
      else
         set @msg = 'This employee has been soft closed for the date selected. If you need to modify this date you must first change the date of the soft close by re-exporting an older pay period or by manually adjusting the LastPPEndDate for this employee in Employee Maintenance.'
      raiserror (@msg, 16, 1)
      return
   end
END;
         ]]>
         </delete>
      </triggers>
   </table>

   <table name="EmployeeShiftAdjustment" data="true" compress="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="EmployeeShiftID" type="int" required="true"/>
         <column name="Source" type="enum" length="1" required="true" enumType="ShiftAdjustSourceType"/>
         <column name="AdjType" type="enum" length="1" required="true" enumType="ShiftAdjustType"/>
         <column name="Reason" type="varchar" length="100" required="true"/>
         <column name="ChangedOnDT" type="datetime"/>
         <column name="ChangedByUserID" type="int"/>
         <column name="AdjHours" type="decimal" length="9" scale="4"/>
         <column name="RuleItemID" type="int"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="EmployeeShiftID"/>
            <column name="ID"/>
         </unique>
         <index include="ID">
            <column name="EmployeeShiftID"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeShiftID" table="EmployeeShift" column="ID" type="cascade"/>
         <relation src="ChangedByUserID" table="WatsonUser" column="ID" type="setnull"/>
         <relation src="RuleItemID" table="RuleItem" column="ID" type="setnull"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeShiftAudit" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="ShiftDT" type="datetime" required="true"/>
         <column name="ChangedOnDT" type="datetime" required="true"/>
         <column name="ChangedByUserID" type="int" required="true"/>
         <column name="Description" type="memo" required="true"/>
         <column name="AuditTypeCode" type="enum" length="3" enumType="ShiftAuditType"/>
         <column name="ExtraData" type="memo"/>
         <column name="ConfirmTypeCode" type="enum" length="2" enumType="AuditConfirmType"/>
         <column name="ConfirmDT" type="datetime"/>
         <column name="PostponeCount" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index compress="true">
            <column name="EmployeeID"/>
            <column name="ConfirmTypeCode"/>
            <column name="ShiftDT"/>
         </index>
         <index compress="true">
            <column name="ChangedByUserID"/>
            <column name="ChangedOnDT"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="ChangedByUserID" table="WatsonUser" column="ID" type="enforce"/>
      </relations>
   </table>

   <table name="EmployeeShiftBreak" data="true" compress="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="EmployeeShiftID" type="int" required="true"/>
         <column name="ScheduleBreakID" type="int" required="true"/>
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="EmployeeShiftID"/>
            <column name="ScheduleBreakID"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="EmployeeShiftID"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeShiftID" table="EmployeeShift" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ScheduleBreakID" table="PropertyScheduleBreak" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeShiftError" data="true" compress="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="EmployeeShiftID" type="int" required="true"/>
         <column name="ErrorCode" type="varchar" length="25" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="EmployeeShiftID"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="EmployeeShiftID"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeShiftID" table="EmployeeShift" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeShiftPunch" exportDataColumn="PunchTime" data="true" compress="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="EmployeeShiftID" type="int" required="true"/>
         <column name="PunchTypeCode" type="enum" length="8" required="true" enumType="PunchType"/>
         <column name="RawPunch" type="varchar" length="100" required="true"/>
         <column name="PunchTime" type="datetime" required="true"/>
         <column name="AdjTime" type="datetime" required="true"/>
         <column name="RoundedTime" type="datetime" required="true"/>
         <column name="BadgeNo" type="varchar" length="25" required="true"/>
         <column name="Source" type="enum" length="1" required="true" enumType="PunchSourceType"/>
         <column name="Rounded" type="enum" length="1" enumType="RoundedType"/>
         <column name="TimeClockID" type="int"/>
         <column name="latitude" type="decimal" length="10" scale="8"/>
         <column name="longitude" type="decimal" length="11" scale="8"/>
         <column name="accuracy" type="decimal" length="19" scale="2"/>
         <column name="AutoPunchMode" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="EmployeeShiftID"/>
            <column name="RoundedTime"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="EmployeeShiftID"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeShiftID" table="EmployeeShift" column="ID" type="cascade"/>
         <relation src="TimeClockID" table="TimeClock" column="ID" type="setnull"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="PunchImage" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="TimeClockID" type="int" />
         <column name="PunchDateTime" type="datetime" required="true"/>
         <column name="Image" type="blob" required="true"/>
         <column name="NumberOfFaces" type="int" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="EmployeeID"/>
            <column name="PunchDateTime"/>
            <column name="ID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="TimeClockID" table="TimeClock" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="EmployeeShiftRequest" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RequestedByID" type="int" required="true"/>
         <column name="EnteredOn" type="datetime" required="true"/>
         <column name="GiveAwayShiftID" type="int"/>
         <column name="PlannedShiftID" type="int"/>
         <column name="ChangeReasonID" type="int"/>
         <column name="EmployeeComments" type="memo"/>
         <column name="Status" type="enum" length="1" required="true" enumType="TimeOffStatusType"/>
         <column name="StatusChangedOn" type="datetime"/>
         <column name="StatusChangedByUserID" type="int"/>
         <column name="AcknowledgedOn" type="datetime"/>
         <column name="AcknowledgedByUserID" type="int"/>
         <column name="ManagerComments" type="memo"/>
         <column name="EMailSent" type="boolean" required="true"/>
         <column name="EMailSentOn" type="datetime"/>
         <column name="HoursTardy" type="decimal" length="9" scale="2"/>
         <column name="AutoApprove" type="boolean" required="true"/>
         <column name="ExpiresOn" type="datetime"/>
         <column name="OriginalChangeReasonID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="Status"/>
            <column name="EnteredOn"/>
            <column name="ExpiresOn"/>
         </index>
         <index>
            <column name="RequestedByID"/>
            <column name="Status"/>
            <column name="EnteredOn"/>
            <column name="ExpiresOn"/>
         </index>
      </keys>
      <relations>
         <relation src="RequestedByID" table="Employee" column="ID" type="cascade"/>
         <relation src="GiveAwayShiftID" table="EmployeeShift" column="ID" type="setnull"/>
         <relation src="PlannedShiftID" table="PlannedShift" column="ID" type="setnull"/>
         <relation src="ChangeReasonID" table="ShiftChangeReason" column="ID" type="setnull"/>
         <relation src="StatusChangedByUserID" table="WatsonUser" column="ID" type="setnull"/>
         <relation src="AcknowledgedByUserID" table="WatsonUser" column="ID" type="setnull"/>
         <relation src="OriginalChangeReasonID" table="ShiftChangeReason" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="EmployeeShiftRequestDetail" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RequestID" type="int" required="true"/>
         <column name="TradeForShiftID" type="int"/>
         <column name="TradeToEmployeeID" type="int"/>
         <column name="EmployeeApprovalStatus" type="enum" length="1" enumType="TimeOffStatusType"/>
         <column name="EmployeeStatusChangedOn" type="datetime"/>
         <column name="DateTimeRead" type="datetime"/>
         <column name="Comments" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="RequestID"/>
         </index>
         <index>
            <column name="TradeForShiftID"/>
         </index>
      </keys>
      <relations>
         <relation src="RequestID" table="EmployeeShiftRequest" column="ID" type="cascade"/>
         <relation src="TradeForShiftID" table="EmployeeShift" column="ID" type="setnull"/>
         <relation src="TradeToEmployeeID" table="Employee" column="ID" type="setnull"/>
      </relations>
   </table>
   <table name="EmployeeAlert" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="EmployeeShiftID" type="int"/>
         <column name="PlannedShiftID" type="int"/>
         <column name="AlertType" type="enum" length="50" required="true" enumType="AlertType"/>
         <column name="AlertStartTime" type="datetime" required="true"/>
         <column name="AlertEndTime" type="datetime" required="true"/>
         <column name="extraData" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EmployeeID"/>
            <column name="AlertType"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="EmployeeShiftID" table="EmployeeShift" column="ID" type="donothing"/>
         <relation src="PlannedShiftID" table="PlannedShift" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="EmployeeStatus" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="EndDate" type="date" required="true"/>
         <column name="StatusTypeCode" type="enum" length="1" required="true" enumType="EmployeeStatusType"/>
         <column name="StatusReasonID" type="int"/>
         <column name="Note" type="varchar" length="255"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="EmployeeID"/>
            <column name="StartDate"/>
            <column name="StatusTypeCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="StatusReasonID" table="EmployeeStatusReason" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="EmployeeStatusReason">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="ProcessorCode" type="varchar" length="25" required="true"/>
         <column name="ReasonType" type="enum" length="1" required="true" enumType="StatusReasonType"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="Code"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeTimeClockRestriction" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="TimeClockID" type="int" required="true"/>
         <column name="InPunchAllowed" type="boolean" required="true"/>
         <column name="BreakPunchAllowed" type="boolean" required="true"/>
         <column name="BackPunchAllowed" type="boolean" required="true"/>
         <column name="OutPunchAllowed" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EmployeeID"/>
            <column name="TimeClockID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="TimeClockID" table="TimeClock" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeTimeOff" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
         <column name="FullDay" type="boolean" required="true"/>
         <column name="HoursRequested" type="decimal" length="19" scale="2" required="true"/>
         <column name="TimeOffTypeID" type="int" required="true"/>
         <column name="Status" type="enum" length="1" required="true" enumType="TimeOffStatusType"/>
         <column name="EnteredOn" type="datetime" required="true"/>
         <column name="StatusChangedOn" type="datetime"/>
         <column name="StatusChangedByUserID" type="int"/>
         <column name="EnteredByUserID" type="int"/>
         <column name="EmployeeComment" type="varchar" length="255"/>
         <column name="ManagerComment" type="varchar" length="255"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="EmployeeID"/>
            <column name="StartDateTime"/>
            <column name="ID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="StatusChangedByUserID" table="WatsonUser" column="ID" type="setnull"/>
         <relation src="EnteredByUserID" table="WatsonUser" column="ID" type="setnull"/>
         <relation src="TimeOffTypeID" table="EmployeeTimeOffType" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeTimeOffType" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="25" required="true"/>
         <column name="DefaultEarningTypeID" type="int"/>
         <column name="SortOrder" type="int" required="true" default="0"/>
         <column name="IncludeInMobile" type="boolean" default="true" required="true"/>
         <column name="Color" type="varchar" length="7"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="DefaultEarningTypeID" table="EarningType" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="EmployeeUSTax" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="SSN" type="varchar" length="12"/>
         <column name="SSNExempt" type="boolean" required="true"/>
         <column name="FedClaimStatus" type="enum" length="1" enumType="USTaxClaimStatusType"/>
         <column name="FedExemptions" type="short"/>
         <column name="FedAmount" type="decimal" length="19" scale="2"/>
         <column name="FedPercent" type="boolean" required="true"/>
         <column name="StateTaxEnabled" type="boolean" required="true"/>
         <column name="StateClaimStatus" type="enum" length="1" enumType="USTaxClaimStatusType"/>
         <column name="StateID" type="int"/>
         <column name="StateExemptions" type="short"/>
         <column name="StateAmount" type="decimal" length="19" scale="2"/>
         <column name="StatePercent" type="boolean" required="true"/>
         <column name="LocalTaxID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EmployeeID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="StateID" table="State" column="ID" type="setnull"/>
         <relation src="LocalTaxID" table="LocalTax" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeWorkClass">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Fulltime" type="boolean" required="true"/>
         <column name="HoursAvailable" type="decimal" length="9" scale="2" minValue="0.0" maxValue="80.0" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Code"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="Environment">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="DayOfWeek" type="int" minValue="1" maxValue="7"/>
         <column name="IgnoreDOW" type="boolean" required="true"/>
         <column name="SystemEnv" type="boolean" required="true"/>
         <column name="Comment" type="varchar" length="255"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EnvStat" data="true" exportDataColumn="EnvDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="EnvDate" type="date" required="true"/>
         <column name="ForecastEnvID" type="int"/>
         <column name="ActualEnvID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIID"/>
            <column name="EnvDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
         <relation src="ForecastEnvID" table="Environment" column="ID" type="setnull"/>
         <relation src="ActualEnvID" table="Environment" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="EppReportData" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="PPEndDate" type="date" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="JobclassID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="EmpNo" type="varchar" length="25" required="true"/>
         <column name="PayCode" type="varchar" length="50" required="true"/>
         <column name="PayTypeCode" type="enum" enumType="EmployeePayType" required="true"/>
         <column name="RegRate" type="decimal" length="19" scale="4"/>
         <column name="RegHours" type="decimal" length="19" scale="4"/>
         <column name="RegDollars" type="decimal" length="19" scale="4"/>
         <column name="OTRate" type="decimal" length="19" scale="4"/>
         <column name="OTHours" type="decimal" length="19" scale="4"/>
         <column name="OTDollars" type="decimal" length="19" scale="4"/>
         <column name="DTRate" type="decimal" length="19" scale="4"/>
         <column name="DTHours" type="decimal" length="19" scale="4"/>
         <column name="DTDollars" type="decimal" length="19" scale="4"/>
         <column name="HoursEarning" type="decimal" length="19" scale="4"/>
         <column name="HoursEarningTypeID" type="int"/>
         <column name="DollarsEarning" type="decimal" length="19" scale="4"/>
         <column name="DollarsEarningTypeID" type="int"/>
         <column name="OtherUnitEarning" type="decimal" length="19" scale="4"/>
         <column name="OtherUnitEarningTypeID" type="int"/>
         <column name="GrossWages" type="decimal" length="19" scale="4"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="PropertyID"/>
            <column name="PPEndDate"/>
            <column name="EmployeeID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="JobclassID" table="Assignment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="Ethnicity" noExport="true">
      <columns>
         <column name="Code" type="char" length="1" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="EthnicGroup" type="varchar" length="50" required="true"/>
         <column name="OrderNo" type="short" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="Code"/>
         </primary>
         <unique>
            <column name="Name"/>
         </unique>
      </keys>
      <initialData>
         <sql>insert into Ethnicity (Code,Name,EthnicGroup,OrderNo) values ('1','White','Non-Hispanic or Latino',2)</sql>
         <sql>insert into Ethnicity (Code,Name,EthnicGroup,OrderNo) values ('2','Black or African American','Non-Hispanic or Latino',3)</sql>
         <sql>insert into Ethnicity (Code,Name,EthnicGroup,OrderNo) values ('3','Hispanic or Latino','Hispanic or Latino',1)</sql>
         <sql>insert into Ethnicity (Code,Name,EthnicGroup,OrderNo) values ('4','Asian','Non-Hispanic or Latino',5)</sql>
         <sql>insert into Ethnicity (Code,Name,EthnicGroup,OrderNo) values ('5','Amer. Indian / Alaskan Native','Non-Hispanic or Latino',6)</sql>
         <sql>insert into Ethnicity (Code,Name,EthnicGroup,OrderNo) values ('6','Nat. Hawaii / Pac. Isle','Non-Hispanic or Latino',4)</sql>
         <sql>insert into Ethnicity (Code,Name,EthnicGroup,OrderNo) values ('9','Two or more races','Non-Hispanic or Latino',7)</sql>
      </initialData>
   </table>

   <table name="GlobalEnvironment" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="EndDate" type="date" required="true"/>
         <column name="Comment" type="varchar" length="255"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
            <column name="StartDate"/>
            <column name="EndDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="FlowPattern">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="TotalPercent" type="decimal" length="19" scale="4" required="true"/>
         <column name="TotalActual" type="decimal" length="19" scale="4" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="FlowPatternActual" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="FlowPatternID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="PeriodNo" type="short" required="true" minValue="1" maxValue="1440"/>
         <column name="ActualValue" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="FlowPatternID"/>
            <column name="StatDate"/>
            <column name="PeriodNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="FlowPatternID" table="FlowPattern" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="FlowPatternPeriod">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="FlowPatternID" type="int" required="true"/>
         <column name="PeriodNo" type="short" required="true" minValue="1" maxValue="1440"/>
         <column name="PatternValue" type="decimal" length="19" scale="4" required="true"/>
         <column name="ActualValue" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="FlowPatternID"/>
            <column name="PeriodNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="FlowPatternID" table="FlowPattern" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="FlowPlan">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="EndDate" type="date" required="true"/>
         <column name="SunFlowPatternID" type="int"/>
         <column name="MonFlowPatternID" type="int"/>
         <column name="TueFlowPatternID" type="int"/>
         <column name="WedFlowPatternID" type="int"/>
         <column name="ThuFlowPatternID" type="int"/>
         <column name="FriFlowPatternID" type="int"/>
         <column name="SatFlowPatternID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="Code"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="SunFlowPatternID" table="FlowPattern" column="ID" type="setnull" disableUsageChecking="true"/>
         <relation src="MonFlowPatternID" table="FlowPattern" column="ID" type="setnull" disableUsageChecking="true"/>
         <relation src="TueFlowPatternID" table="FlowPattern" column="ID" type="setnull" disableUsageChecking="true"/>
         <relation src="WedFlowPatternID" table="FlowPattern" column="ID" type="setnull" disableUsageChecking="true"/>
         <relation src="ThuFlowPatternID" table="FlowPattern" column="ID" type="setnull" disableUsageChecking="true"/>
         <relation src="FriFlowPatternID" table="FlowPattern" column="ID" type="setnull" disableUsageChecking="true"/>
         <relation src="SatFlowPatternID" table="FlowPattern" column="ID" type="setnull" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="FlowPlanPattern">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="FlowPlanID" type="int" required="true"/>
         <column name="SeasonID" type="int"/>
         <column name="EnvironmentID" type="int" required="true"/>
         <column name="FlowPatternID" type="int" required="true"/>
         <column name="Retention" type="decimal" length="9" scale="2"/>
         <column name="Capacity" type="int"/>
         <column name="Utilization" type="decimal" length="9" scale="2"/>
         <column name="ShiftPatternByMinutes" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="FlowPlanID"/>
            <column name="SeasonID"/>
            <column name="EnvironmentID"/>
         </unique>
      </keys>
      <relations>
         <relation src="FlowPlanID" table="FlowPlan" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="SeasonID" table="Season" column="ID" type="cascade"/>
         <relation src="EnvironmentID" table="Environment" column="ID" type="cascade"/>
         <relation src="FlowPatternID" table="FlowPattern" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ForecastingUserPreferences">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="WatsonUserID" type="int" required="true"/>
         <column name="LastReviewedRevenueCenterID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="WatsonUserID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="WatsonUserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="LastReviewedRevenueCenterID" table="RevenueCenter" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ForecastKBIMapping">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="MappingCode" type="varchar" length="50" required="true"/>
         <column name="KBIID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ForecastKBIMappingDraft">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50"/>
         <column name="MappingCode" type="varchar" length="50"/>
         <column name="KBIID" type="int"/>
         <column name="MarkForDeletion" type="boolean" required="true" default="false"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="FNYPeriod" exportDataColumn="Year">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Year" type="short" required="true"/>
         <column name="Per1StartDate" type="date"/>
         <column name="Per1EndDate" type="date"/>
         <column name="Per2EndDate" type="date"/>
         <column name="Per3EndDate" type="date"/>
         <column name="Per4EndDate" type="date"/>
         <column name="Per5EndDate" type="date"/>
         <column name="Per6EndDate" type="date"/>
         <column name="Per7EndDate" type="date"/>
         <column name="Per8EndDate" type="date"/>
         <column name="Per9EndDate" type="date"/>
         <column name="Per10EndDate" type="date"/>
         <column name="Per11EndDate" type="date"/>
         <column name="Per12EndDate" type="date"/>
         <column name="Per13EndDate" type="date"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Year"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
      <triggers>
         <update databaseType="mssql">
            if (select count(*) from deleted) > 0
            delete from FNYPeriodExploded where FNYPeriodID in (select ID from Deleted);
            with exploded as
            (
            select ID, PropertyID, [Year], 1 as PeriodNumber, Per1StartDate as StartDate, Per1EndDate as EndDate, DateDiff(day, Per1StartDate,
            Per1EndDate) + 1 as DaysInPeriod from inserted
            union
            select ID, PropertyID, [Year], 2 as PeriodNumber, Per1EndDate + 1 as StartDate, Per2EndDate as EndDate, DateDiff(day, Per1EndDate + 1,
            Per2EndDate) + 1 as DaysInPeriod from inserted
            union
            select ID, PropertyID, [Year], 3 as PeriodNumber, Per2EndDate + 1 as StartDate, Per3EndDate as EndDate, DateDiff(day, Per2EndDate + 1,
            Per3EndDate) + 1 as DaysInPeriod from inserted
            union
            select ID, PropertyID, [Year], 4 as PeriodNumber, Per3EndDate + 1 as StartDate, Per4EndDate as EndDate, DateDiff(day, Per3EndDate + 1,
            Per4EndDate) + 1 as DaysInPeriod from inserted
            union
            select ID, PropertyID, [Year], 5 as PeriodNumber, Per4EndDate + 1 as StartDate, Per5EndDate as EndDate, DateDiff(day, Per4EndDate + 1,
            Per5EndDate) + 1 as DaysInPeriod from inserted
            union
            select ID, PropertyID, [Year], 6 as PeriodNumber, Per5EndDate + 1 as StartDate, Per6EndDate as EndDate, DateDiff(day, Per5EndDate + 1,
            Per6EndDate) + 1 as DaysInPeriod from inserted
            union
            select ID, PropertyID, [Year], 7 as PeriodNumber, Per6EndDate + 1 as StartDate, Per7EndDate as EndDate, DateDiff(day, Per6EndDate + 1,
            Per7EndDate) + 1 as DaysInPeriod from inserted
            union
            select ID, PropertyID, [Year], 8 as PeriodNumber, Per7EndDate + 1 as StartDate, Per8EndDate as EndDate, DateDiff(day, Per7EndDate + 1,
            Per8EndDate) + 1 as DaysInPeriod from inserted
            union
            select ID, PropertyID, [Year], 9 as PeriodNumber, Per8EndDate + 1 as StartDate, Per9EndDate as EndDate, DateDiff(day, Per8EndDate + 1,
            Per9EndDate) + 1 as DaysInPeriod from inserted
            union
            select ID, PropertyID, [Year], 10 as PeriodNumber, Per9EndDate + 1 as StartDate, Per10EndDate as EndDate, DateDiff(day, Per9EndDate + 1,
            Per10EndDate) + 1 as DaysInPeriod from inserted
            union
            select ID, PropertyID, [Year], 11 as PeriodNumber, Per10EndDate + 1 as StartDate, Per11EndDate as EndDate, DateDiff(day, Per10EndDate + 1,
            Per11EndDate) + 1 as DaysInPeriod from inserted
            union
            select ID, PropertyID, [Year], 12 as PeriodNumber, Per11EndDate + 1 as StartDate, Per12EndDate as EndDate, DateDiff(day, Per11EndDate + 1,
            Per12EndDate) + 1 as DaysInPeriod from inserted
            union
            select ID, PropertyID, [Year], 13 as PeriodNumber, Per12EndDate + 1 as StartDate, Per13EndDate + 1 as EndDate,DateDiff(day, Per12EndDate +
            1, Per13EndDate) + 1 as DaysInPeriod from inserted where Per13EndDate is not null
            )
            insert into FNYPeriodExploded (FNYPeriodID, PropertyID, [Year], PeriodNumber, StartDate, EndDate, DaysInPeriod) select ID, PropertyID,
            Year, PeriodNumber, StartDate, EndDate, DaysInPeriod from exploded
         </update>
      </triggers>
   </table>

   <table name="FNYPeriodExploded" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="FNYPeriodID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Year" type="short" required="true"/>
         <column name="PeriodNumber" type="byte" required="true"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="EndDate" type="date" required="true"/>
         <column name="DaysInPeriod" type="byte" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="Year"/>
            <column name="PeriodNumber"/>
         </unique>
         <index>
            <column name="FNYPeriodID"/>
         </index>
      </keys>
      <relations>
         <relation src="FNYPeriodID" table="FNYPeriod" column="ID" type="cascade"/>
      </relations>
      <triggers>
         <update databaseType="mssql">
            if (select count(*) from deleted) > 0
            delete from FNYPeriodDailyExploded where FNYPeriodExplodedID in (select ID from Deleted)

            declare @FNYPeriodExplodedID int
            declare fnyCursor cursor for select ID from inserted
            open fnyCursor
            fetch next from fnyCursor into @FNYPeriodExplodedID
            while @@FETCH_STATUS = 0
            BEGIN
            with daily as
            (
            select PropertyID, [Year], PeriodNumber, StartDate as StatDate, DaysInPeriod, StartDate, EndDate from FNYPeriodExploded where ID =
            @FNYPeriodExplodedID
            union all
            select daily.PropertyId, daily.[Year], daily.PeriodNumber, daily.StatDate + 1 as StatDate, daily.DaysInPeriod, StartDate, EndDate from
            daily where daily.StatDate &lt; daily.EndDate
            )
            insert into FNYPeriodDailyExploded (FNYPeriodExplodedID, PropertyID, Year, PeriodNumber, StatDate, StartDate, EndDate, DaysInPeriod)
            select @FNYPeriodExplodedID, PropertyID, Year, PeriodNumber, StatDate, StartDate, EndDate, DaysInPeriod from daily
            fetch next from fnyCursor into @FNYPeriodExplodedID
            END
            close fnyCursor
            deallocate fnyCursor
         </update>
      </triggers>
   </table>

   <table name="FNYPeriodDailyExploded" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="FNYPeriodExplodedID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Year" type="short" required="true"/>
         <column name="PeriodNumber" type="byte" required="true"/>
         <column name="StatDate" type="date"/>
         <column name="StartDate" type="date"/>
         <column name="EndDate" type="date"/>
         <column name="DaysInPeriod" type="byte" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="Year"/>
            <column name="PeriodNumber"/>
            <column name="StatDate"/>
         </unique>
         <index>
            <column name="FNYPeriodExplodedID"/>
         </index>
      </keys>
      <relations>
         <relation src="FNYPeriodExplodedID" table="FNYPeriodExploded" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="GLDetail" data="true" exportDataColumn="ProfitHistoryID">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="PeriodNo" type="short" required="true"/>
         <column name="ProfitHistoryID" type="int" required="true"/>
         <column name="PostedTypeCode" type="enum" length="2" required="true" enumType="PostedType"/>
         <column name="PostedDate" type="date" required="true"/>
         <column name="Description" type="varchar" length="100" required="true"/>
         <column name="VendorID" type="int"/>
         <column name="ActAmount" type="decimal" length="19" scale="4"/>
         <column name="EstAmount" type="decimal" length="19" scale="4"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="BudgetLineID"/>
            <column name="PeriodNo"/>
            <column name="ProfitHistoryID"/>
            <column name="PostedTypeCode"/>
            <column name="PostedDate"/>
         </index>
      </keys>
      <relations>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
         <relation src="ProfitHistoryID" table="ProfitHistory" column="ID" type="cascade"/>
         <relation src="VendorID" table="Vendor" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="GLDetailMisc" data="true" exportDataColumn="ProfitHistoryID">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AccountID" type="int" required="true"/>
         <column name="PeriodNo" type="short" required="true"/>
         <column name="ProfitHistoryID" type="int" required="true"/>
         <column name="PostedTypeCode" type="enum" length="2" required="true" enumType="PostedType"/>
         <column name="PostedDate" type="date" required="true"/>
         <column name="Description" type="varchar" length="100" required="true"/>
         <column name="VendorID" type="int"/>
         <column name="ActAmount" type="decimal" length="19" scale="4"/>
         <column name="EstAmount" type="decimal" length="19" scale="4"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="AccountID"/>
            <column name="PeriodNo"/>
            <column name="ProfitHistoryID"/>
            <column name="PostedTypeCode"/>
            <column name="PostedDate"/>
         </index>
      </keys>
      <relations>
         <relation src="AccountID" table="Account" column="ID" type="cascade"/>
         <relation src="ProfitHistoryID" table="ProfitHistory" column="ID" type="cascade"/>
         <relation src="VendorID" table="Vendor" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="GlobalData" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Tag" type="varchar" length="50" required="true"/>
         <column name="TagValue" type="varchar" length="1000"/>
         <column name="TagData" type="blob"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="Tag"/>
         </unique>
      </keys>
   </table>

   <table name="HistoryType">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Code" type="char" length="2" required="true"/>
         <column name="Name" type="varchar" length="25" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Code"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="Holiday">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="HolidayDate" type="date" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="HolidayTypeID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="HolidayDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="HolidayTypeID" table="HolidayType" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="HolidayData" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="HolidayID" type="int" required="true"/>
         <column name="PayGroupID" type="int" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="EarningTypeID" type="int"/>
         <column name="HoursWorked" type="decimal" length="19" scale="2"/>
         <column name="OtherHours" type="decimal" length="19" scale="2"/>
         <column name="AvgDay" type="decimal" length="19" scale="2"/>
         <column name="EligibleHours" type="decimal" length="19" scale="2"/>
         <column name="Rate" type="decimal" length="9" scale="4"/>
         <column name="FixedCosts" type="decimal" length="19" scale="2"/>
         <column name="RuleItemID" type="int"/>
         <column name="EligibleWorked" type="boolean" required="true"/>
         <column name="EligibleNotWorked" type="boolean" required="true"/>
         <column name="ApproveToPay" type="boolean" required="true" default="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="HolidayID"/>
            <column name="PayGroupID"/>
            <column name="ID"/>
         </unique>
      </keys>
      <relations>
         <relation src="HolidayID" table="Holiday" column="ID" type="cascade"/>
         <relation src="PayGroupID" table="PayGroup" column="ID" type="cascade"/>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="EarningTypeID" table="EarningType" column="ID" type="setnull"/>
         <relation src="RuleItemID" table="RuleItem" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="HolidayPayGroupStatus" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="PayGroupID" type="int" required="true"/>
         <column name="HolidayID" type="int" required="true"/>
         <column name="DataCreatedByUserID" type="int"/>
         <column name="DataCreatedOn" type="datetime"/>
         <column name="EarningsCreatedByUserID" type="int"/>
         <column name="EarningsCreatedOn" type="datetime"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="HolidayID"/>
            <column name="PayGroupID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="HolidayID" table="Holiday" column="ID" type="cascade"/>
         <relation src="PayGroupID" table="PayGroup" column="ID" type="cascade"/>
         <relation src="DataCreatedByUserID" table="WatsonUser" column="ID" type="setnull"/>
         <relation src="EarningsCreatedByUserID" table="WatsonUser" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="HolidayType">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="HoursDistribution" data="true">
      <columns>
         <column name="PropertyID" type="int" required="true"/>
         <column name="HoursDistributionTypeID" type="int" required="true"/>
         <column name="ShiftID" type="int" required="true"/>
         <column name="Date" type="date" required="true"/>
         <column name="OriginalHours" type="decimal" length="9" scale="4"/>
         <column name="Hours" type="decimal" length="9" scale="4"/>
         <column name="BaseRate" type="decimal" length="9" scale="4"/>
         <column name="PremiumRate" type="decimal" length="9" scale="4"/>
         <column name="TotalCosts" type="decimal" length="9" scale="2"/>
         <column name="HoursRuleItemID" type="int"/>
         <column name="RateRuleItemID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="PropertyID"/>
            <column name="Date"/>
            <column name="HoursDistributionTypeID"/>
            <column name="ShiftID"/>
         </primary>
         <index>
            <column name="ShiftID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="HoursDistributionTypeID" table="HoursDistributionType" column="ID" type="cascade"/>
         <relation src="ShiftID" table="EmployeeShift" column="ID" type="cascade"/>
         <relation src="HoursRuleItemID" table="RuleItem" column="ID" type="setnull"/>
         <relation src="RateRuleItemID" table="RuleItem" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="HoursDistributionType" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="ProcessorCode" type="varchar" length="20" required="true"/>
         <column name="Premium" type="boolean" required="true"/>
         <column name="Factor" type="decimal" length="9" scale="2" required="true" default="1.0"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="Name"/>
         </unique>
      </keys>
      <initialData>
         <sql>insert into HoursDistributionType (Name,ProcessorCode,Premium,Factor) values ('Regular','REG','N',1.0)</sql>
         <sql>insert into HoursDistributionType (Name,ProcessorCode,Premium,Factor) values ('Overtime','OT','Y',1.5)</sql>
         <sql>insert into HoursDistributionType (Name,ProcessorCode,Premium,Factor) values ('Double Time','DT','Y',2.0)</sql>
      </initialData>
   </table>

   <table name="ImportActualEarnings" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="UserID" type="int"/>
         <column name="EarningDate" type="date"/>
         <column name="EmpNo" type="varchar" length="25"/>
         <column name="TKCode" type="varchar" length="255"/>
         <column name="EarningProcessorCode" type="varchar" length="20"/>
         <column name="Hours" type="decimal" length="9" scale="2"/>
         <column name="Dollars" type="decimal" length="9" scale="2"/>
         <column name="Notes" type="varchar" length="100"/>
         <column name="EmployeeID" type="int"/>
         <column name="AssignmentID" type="int"/>
         <column name="EarningTypeID" type="int"/>
         <column name="ValidationCode" type="varchar" length="25"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="EarningTypeID" table="EarningType" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ImportActualHours" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ShiftDate" type="date" required="true"/>
         <column name="TKCode" type="varchar" length="255" required="true"/>
         <column name="EmpNo" type="varchar" length="25"/>
         <column name="RegHours" type="decimal" length="19" scale="2"/>
         <column name="OTHours" type="decimal" length="19" scale="2"/>
         <column name="DTHours" type="decimal" length="19" scale="2"/>
         <column name="RegDollars" type="decimal" length="19" scale="4"/>
         <column name="OTDollars" type="decimal" length="19" scale="4"/>
         <column name="DTDollars" type="decimal" length="19" scale="4"/>
         <column name="StartTime" type="datetime"/>
         <column name="EndTime" type="datetime"/>
         <column name="IsTraining" type="boolean" required="true"/>
         <column name="ShiftCategoryID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="PropertyID"/>
            <column name="ShiftDate"/>
            <column name="TKCode"/>
            <column name="EmpNo"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ShiftCategoryID" table="ShiftCategory" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="ImportRevenueData" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyCode" type="varchar" length="25" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="SourceReport" type="varchar" length="25" required="true"/>
         <column name="SourceLine" type="varchar" length="25" required="true"/>
         <column name="SourceCell" type="varchar" length="25" required="true"/>
         <column name="RawValue" type="decimal" length="19" scale="2"/>
         <column name="Reason" type="varchar" length="50"/>
         <column name="AccountNo" type="varchar" length="25"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyCode"/>
            <column name="StatDate"/>
            <column name="SourceReport"/>
            <column name="SourceLine"/>
            <column name="SourceCell"/>
         </unique>
      </keys>
   </table>

   <table name="IncomeJournal" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AccountID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="Category" type="varchar" length="4" required="true"/>
         <column name="Description" type="varchar" length="100" required="true"/>
         <column name="Amount" type="decimal" length="19" scale="2"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="AccountID"/>
            <column name="StatDate"/>
         </index>
         <index>
            <column name="StatDate"/>
            <column name="AccountID"/>
         </index>
      </keys>
      <relations>
         <relation src="AccountID" table="Account" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="InterfaceData" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="InterfaceMapID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="RawValue" type="decimal" length="19" scale="4"/>
         <column name="AdjValue" type="decimal" length="19" scale="4"/>
         <column name="Reason" type="varchar" length="50"/>
         <column name="AccountNo" type="varchar" length="25"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="InterfaceMapID"/>
            <column name="StatDate"/>
         </index>
         <index>
            <column name="InterfaceMapID"/>
         </index>
      </keys>
      <relations>
         <relation src="InterfaceMapID" table="RevenueCellInterfaceMap" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="InterfaceSettings" noExport="true" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="InterfaceType" type="enum" length="40" required="true" enumType="InterfaceType"/>
         <column name="ScriptData" type="blob"/>
         <column name="ScriptType" type="enum" length="9" enumType="ScriptType"/>
         <column name="ScriptName" type="varchar" length="100"/>
         <column name="Options" type="memo"/>
         <column name="Path" type="varchar" length="255"/>
         <column name="EmployeeSetID" type="int"/>
         <column name="ShiftCategoryID" type="int"/>
         <column name="ConnectInterface" type="boolean" required="true" default="N"/>
         <column name="ConnectURL" type="varchar" length="255"/>
         <column name="RMSInterface" type="boolean" required="true" default="N"/>
         <column name="ConfigName" type="varchar" length="100" required="true" />
         <column name="Vendor" type="varchar" length="100" />
         <column name="VendorVersion" type="varchar" length="100" />
         <column name="LastRunOn" type="datetime"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="InterfaceType"/>
            <column name="ShiftCategoryID"/>
            <column name="ConfigName"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="EmployeeSetID" table="EmployeeSet" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="ShiftCategoryID" table="ShiftCategory" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="Inventory">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Description" type="varchar" length="50" required="true"/>
         <column name="AccountID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="AccountID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="AccountID" table="Account" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="JobCategory">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="OrderNo" type="short" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="OrderNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="JobclassLaborData" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="JobclassID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="ForecastHours" type="decimal" length="19" scale="2"/>
         <column name="StandardHours" type="decimal" length="19" scale="2"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="JobclassID"/>
            <column name="StatDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="JobclassID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="KBI">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="ShowInModule" type="enum" length="1" required="true" enumType="ShowInModuleType"/>
         <column name="MasterKBICodeID" type="int"/>
         <column name="UnitID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="Code"/>
         </unique>
         <index>
            <column name="MasterKBICodeID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="UnitID" table="Unit" column="ID" type="setnull"/>
         <relation src="MasterKBICodeID" table="MasterKBICode" column="ID" type="setnull"/>
      </relations>
      <triggers>
         <delete databaseType="mssql">
            update EmployeeProductivityConfig set Ratio = null where KBI2ID is null;
         </delete>
         <delete databaseType="pgsql">
            update EmployeeProductivityConfig set Ratio = null where KBI2ID is null;
         </delete>
      </triggers>
   </table>

   <table name="KBIBudgetConfig">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="KBISetID" type="int" required="true"/>
         <column name="BudgetKBITypeCode" type="enum" length="1" required="true" enumType="KBIType"/>
         <column name="AccountID" type="int"/>
         <column name="RevenueAccountID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIID"/>
            <column name="KBISetID"/>
         </unique>
      </keys>
      <relations>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
         <relation src="KBISetID" table="KBISet" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="AccountID" table="Account" column="ID" type="setnull"/>
         <relation src="RevenueAccountID" table="Account" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="KBIConfig">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="KBISetID" type="int" required="true"/>
         <column name="KBITypeCode" type="enum" length="1" required="true" enumType="KBIType"/>
         <column name="IsEnv" type="boolean" required="true"/>
         <column name="IsPrimary" type="boolean" required="true"/>
         <column name="Notes" type="varchar" length="200"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIID"/>
            <column name="KBISetID"/>
         </unique>
      </keys>
      <relations>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
         <relation src="KBISetID" table="KBISet" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="KBIConfigEnvFlowPlan">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIConfigID" type="int" required="true"/>
         <column name="EnvID" type="int" required="true"/>
         <column name="FlowPlanID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIConfigID"/>
            <column name="EnvID"/>
            <column name="FlowPlanID"/>
         </unique>
      </keys>
      <relations>
         <relation src="KBIConfigID" table="KBIConfig" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="EnvID" table="Environment" column="ID" type="cascade"/>
         <relation src="FlowPlanID" table="FlowPlan" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="KBIConfigFormula">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIConfigID" type="int" required="true"/>
         <column name="Mode" type="enum" length="1" required="true" enumType="KBIModeType"/>
         <column name="FormulaText" type="memo"/>
         <column name="FormulaCode" type="blob"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIConfigID"/>
            <column name="Mode"/>
         </unique>
      </keys>
      <relations>
         <relation src="KBIConfigID" table="KBIConfig" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="KBIConfigFormulaUsage">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIConfigID" type="int" required="true"/>
         <column name="Mode" type="enum" length="1" required="true" enumType="KBIModeType"/>
         <column name="FormulaKBIConfigID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIConfigID"/>
            <column name="Mode"/>
            <column name="FormulaKBIConfigID"/>
         </unique>
         <unique>
            <column name="KBIConfigID"/>
            <column name="Mode"/>
            <column name="FormulaKBIConfigID"/>
         </unique>
      </keys>
      <relations>
         <relation src="KBIConfigID" table="KBIConfig" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="FormulaKBIConfigID" table="KBIConfig" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="KBIConfigPercent">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIConfigID" type="int" required="true"/>
         <column name="Mode" type="enum" length="1" required="true" enumType="KBIModeType"/>
         <column name="BaseKBIConfigID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIConfigID"/>
            <column name="Mode"/>
            <column name="BaseKBIConfigID"/>
         </unique>
      </keys>
      <relations>
         <relation src="KBIConfigID" table="KBIConfig" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="BaseKBIConfigID" table="KBIConfig" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="KBIConfigTAES">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIConfigID" type="int" required="true"/>
         <column name="Mode" type="enum" length="1" required="true" enumType="KBIModeType"/>
         <column name="DayNo" type="short" required="true" minValue="1" maxValue="7"/>
         <column name="RelatedKBIConfigID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIConfigID"/>
            <column name="Mode"/>
            <column name="DayNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="KBIConfigID" table="KBIConfig" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="RelatedKBIConfigID" table="KBIConfig" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="KBIConfigPercentOfBase">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIConfigID" type="int" required="true"/>
         <column name="Mode" type="enum" length="1" required="true" enumType="KBIModeType"/>
         <column name="PeriodNo" type="short" required="true" minValue="1" maxValue="13"/>
         <column name="SunPercent" type="decimal" length="12" scale="2"/>
         <column name="MonPercent" type="decimal" length="12" scale="2"/>
         <column name="TuePercent" type="decimal" length="12" scale="2"/>
         <column name="WedPercent" type="decimal" length="12" scale="2"/>
         <column name="ThuPercent" type="decimal" length="12" scale="2"/>
         <column name="FriPercent" type="decimal" length="12" scale="2"/>
         <column name="SatPercent" type="decimal" length="12" scale="2"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIConfigID"/>
            <column name="Mode"/>
            <column name="PeriodNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="KBIConfigID" table="KBIConfig" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="KBIConfigRegression">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIConfigID" type="int" required="true"/>
         <column name="Mode" type="enum" length="1" required="true" enumType="KBIModeType"/>
         <column name="DayNo" type="short" required="true" minValue="1" maxValue="7"/>
         <column name="RelatedKBIConfigNo" type="short" required="true" minValue="1" maxValue="500"/>
         <column name="RelatedKBIConfigID" type="int" required="true"/>
         <column name="OperationTypeCode" type="enum" length="1" required="true" enumType="KBIOperationType"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIConfigID"/>
            <column name="Mode"/>
            <column name="DayNo"/>
            <column name="RelatedKBIConfigID"/>
         </unique>
      </keys>
      <relations>
         <relation src="KBIConfigID" table="KBIConfig" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="RelatedKBIConfigID" table="KBIConfig" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="KBIConfigStatistical">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIConfigID" type="int" required="true"/>
         <column name="Mode" type="enum" length="1" required="true" enumType="KBIModeType"/>
         <column name="DayNo" type="short" required="true" minValue="1" maxValue="7"/>
         <column name="TypeCode" type="enum" length="1" required="true" enumType="KBIStatType"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIConfigID"/>
            <column name="Mode"/>
            <column name="DayNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="KBIConfigID" table="KBIConfig" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="KBILaborConfig">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="KBISetID" type="int" required="true"/>
         <column name="LaborKBITypeCode" type="enum" length="1" required="true" enumType="KBIType"/>
         <column name="KBIClassCode" type="enum" length="1" required="true" enumType="KBIClassType"/>
         <column name="FlowPlanID" type="int"/>
         <column name="ActFlowPlanID" type="int"/>
         <column name="ShowInWizard" type="boolean" required="true"/>
         <column name="ShowInReforecast" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIID"/>
            <column name="KBISetID"/>
         </unique>
      </keys>
      <relations>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
         <relation src="KBISetID" table="KBISet" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="FlowPlanID" table="FlowPlan" column="ID" type="setnull"/>
         <relation src="ActFlowPlanID" table="FlowPlan" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="KBISet">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Password" type="varchar" length="100"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="KBIStat" lockEscalation="disable" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="EstValue" type="decimal" length="19" scale="4"/>
         <column name="FstValue" type="decimal" length="19" scale="4"/>
         <column name="AdjValue" type="decimal" length="19" scale="4"/>
         <column name="ActValue" type="decimal" length="19" scale="4"/>
         <column name="FstMAPEInclusive" type="short"/>
         <column name="FstMADInclusive" type="int"/>
         <column name="AdjMAPEInclusive" type="short"/>
         <column name="AdjMADInclusive" type="int"/>
         <column name="FstMAPEExclusive" type="short"/>
         <column name="FstMADExclusive" type="int"/>
         <column name="AdjMAPEExclusive" type="short"/>
         <column name="AdjMADExclusive" type="int"/>
         <column name="LastDateTimeAccuracyCalculated" type="datetime"/>
         <column name="LastDateTimeForecastCalculated" type="datetime"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="StatDate"/>
            <column name="KBIID"/>
         </unique>
         <index>
            <column name="KBIID"/>
            <column name="StatDate"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="KBIStatOverride" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="StatValue" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIID"/>
            <column name="StatDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="KBIStatAudit" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="StatModeCode" type="enum" length="1" required="true" enumType="StatMode"/>
         <column name="ChangedOnDT" type="datetime" required="true"/>
         <column name="ChangedByUserID" type="int" required="true"/>
         <column name="OldValue" type="int"/>
         <column name="NewValue" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="KBIID"/>
            <column name="StatDate"/>
         </index>
         <index>
            <column name="ChangedByUserID"/>
            <column name="ChangedOnDT"/>
         </index>
      </keys>
      <relations>
         <relation src="KBIID" table="KBI" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="ChangedByUserID" table="WatsonUser" column="ID" type="enforce"/>
      </relations>
   </table>

   <table name="LaborLevel">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ParentLevelID" type="int"/>
         <column name="Level" type="int" required="true"/>
         <column name="PluralName" type="varchar" length="50" required="true"/>
         <column name="SingularName" type="varchar" length="50" required="true"/>
         <column name="IsJob" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Level"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="SingularName"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="PluralName"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ParentLevelID" table="LaborLevel" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="LocalTax">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ManageSchedulesAudit" data="true" noExport="true" compress="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ChangedByUserID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ChangedOnDT" type="datetime" required="true"/>
         <column name="PlanningPeriodStartDate" type="datetime" required="true"/>
         <column name="PlanningPeriodEndDate" type="datetime" required="true"/>
         <column name="ManageSchedulesChangeCategory" type="enum" enumType="ManageSchedulesChangeCategoryType" length="1" required="true"/>
         <column name="RequestedJobIDs" type="memo"/>
         <column name="ChangedJobIDs" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index compress="true">
            <column name="PropertyID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ChangedByUserID" table="WatsonUser" column="ID" type="enforce"/>
      </relations>
   </table>

   <table name="ManualCheck" data="true" exportDataColumn="PPEDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="PPEDate" type="date" required="true"/>
         <column name="CheckDate" type="date" required="true"/>
         <column name="CheckNo" type="varchar" length="25" required="true"/>
         <column name="CheckAmount" type="decimal" length="19" scale="4" required="true"/>
         <column name="Tax" type="decimal" length="19" scale="4"/>
         <column name="Note" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EmployeeID"/>
            <column name="PPEDate"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="MarketGroup">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="ShowInModule" type="enum" length="1" required="true" enumType="ShowInModuleType"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="MarketSegment">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="MarketGroupID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="MSTypeCode" type="enum" length="2" required="true" enumType="MarketSegmentType"/>
         <column name="RoomsKBIID" type="int" required="true"/>
         <column name="ArrivalsKBIID" type="int"/>
         <column name="GuestsKBIID" type="int"/>
         <column name="DeparturesKBIID" type="int"/>
         <column name="ArrivalsCalculated" type="boolean" required="true"/>
         <column name="GuestsCalculated" type="boolean" required="true"/>
         <column name="ForecastAccuracyModerateThreshold" type="short" minValue="1" maxValue="100"/>
         <column name="ForecastAccuracyCriticalThreshold" type="short" minValue="1" maxValue="100"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="MarketGroupID"/>
            <column name="MSTypeCode"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="MarketGroupID" table="MarketGroup" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="RoomsKBIID" table="KBI" column="ID" type="cascade"/>
         <relation src="ArrivalsKBIID" table="KBI" column="ID" type="setnull" disableUsageChecking="true"/>
         <relation src="GuestsKBIID" table="KBI" column="ID" type="setnull" disableUsageChecking="true"/>
         <relation src="DeparturesKBIID" table="KBI" column="ID" type="setnull" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="MasterDivision" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="MasterKBIID" type="int"/>
         <column name="ProductivityUnitCode" type="enum" length="2" enumType="ProductivityUnitType"/>
         <column name="ShortName" type="varchar" length="50"/>
         <column name="SortOrder" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="ShortName"/>
         </unique>
      </keys>
      <relations>
         <relation src="MasterKBIID" table="MasterKBICode" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="MasterDepartment" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="MasterDivisionID" type="int" required="true"/>
         <column name="MasterKBIID" type="int"/>
         <column name="ProductivityUnitCode" type="enum" length="2" enumType="ProductivityUnitType"/>
         <column name="ShortName" type="varchar" length="50"/>
         <column name="SortOrder" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="MasterDivisionID"/>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="MasterDivisionID"/>
            <column name="ShortName"/>
         </unique>
      </keys>
      <relations>
         <relation src="MasterKBIID" table="MasterKBICode" column="ID" type="setnull"/>
         <relation src="MasterDivisionID" table="MasterDivision" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="MasterJob" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="MasterDepartmentID" type="int" required="true"/>
         <column name="MasterKBIID" type="int"/>
         <column name="ProductivityUnitCode" type="enum" length="2" enumType="ProductivityUnitType"/>
         <column name="ShortName" type="varchar" length="50"/>
         <column name="SortOrder" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="MasterDepartmentID"/>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="MasterDepartmentID"/>
            <column name="ShortName"/>
         </unique>
      </keys>
      <relations>
         <relation src="MasterKBIID" table="MasterKBICode" column="ID" type="setnull"/>
         <relation src="MasterDepartmentID" table="MasterDepartment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="MasterKBICode" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="Description" type="varchar" length="50" required="true"/>
         <column name="ShowOnDashboard" type="boolean" required="true"/>
         <column name="SortOrder" type="int"/>
         <column name="GroupingFreeForm" type="varchar" length="50"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="Code"/>
         </unique>
      </keys>
   </table>

   <table name="Notes" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TableName" type="varchar" length="50" required="true"/>
         <column name="TableID" type="int" required="true"/>
         <column name="NoteText" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="TableName"/>
            <column name="TableID"/>
         </unique>
      </keys>
   </table>

   <table name="OpCode">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="OpCodeJobclass">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="OpCodeID" type="int" required="true"/>
         <column name="DivisionID" type="int"/>
         <column name="DepartmentID" type="int"/>
         <column name="JobclassID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="OpCodeID"/>
            <column name="DivisionID"/>
            <column name="DepartmentID"/>
            <column name="JobclassID"/>
         </index>
      </keys>
      <relations>
         <relation src="OpCodeID" table="OpCode" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="DivisionID" table="Assignment" column="ID" type="cascade"/>
         <relation src="DepartmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="JobclassID" table="Assignment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="PayGroup">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="PayPeriodTypeCode" type="enum" length="2" required="true" enumType="DateRangeType"/>
         <column name="PayPeriodStartDayOfMonth" type="int" required="true" minValue="1" maxValue="31"/>
         <column name="CurrentPayPeriodStartDate" type="date" required="true"/>
         <column name="CurrentPayPeriodEndDate" type="date" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="WorkDayStartTime" type="time" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="PayGroupExportInterfaceMapping">
       <columns>
           <column name="ID" type="sequence" required="true"/>
           <column name="PayGroupID" type="int" required="true"/>
           <column name="PPExportConfigID" type="int" required="true"/>
       </columns>
       <keys>
           <primary>
               <column name="ID"/>
           </primary>
           <unique cluster="true">
               <column name="PayGroupID"/>
               <column name="PPExportConfigID"/>
           </unique>
       </keys>
       <relations>
           <relation src="PayGroupID" table="PayGroup" column="ID" type="cascade"/>
           <relation src="PPExportConfigID" table="PPExportConfig" column="ID" type="cascade"/>
       </relations>
   </table>

   <table name="PayRateReason">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="Code"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="PayrollCode">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="PayCode" type="varchar" length="25" required="true"/>
         <column name="TKCodeID" type="int"/>
         <column name="WorkersCompClass" type="varchar" length="25"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="AssignmentID"/>
         </index>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="TKCodeID" table="TKCode" column="ID" type="enforce" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="PayrollJEMap">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Description" type="varchar" length="50" required="true"/>
         <column name="Type" type="enum" length="1" required="true" enumType="PayrollJEMapType"/>
         <column name="AssignmentID" type="int"/>
         <column name="DollarsAccountID" type="int"/>
         <column name="HoursAccountID" type="int"/>
         <column name="EarningTypeID" type="int"/>
         <column name="TaxTypeID" type="int"/>
         <column name="BudgetLineID" type="int"/>
         <column name="ReverseSign" type="boolean" required="true"/>
         <column name="UseAccrualPercent" type="boolean" required="true"/>
         <column name="AccrualPercent" type="decimal" length="19" scale="2"/>
         <column name="IncludeInEPEP" type="boolean" required="true"/>
         <column name="IncludeInAccruals" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="AssignmentID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="DollarsAccountID" table="Account" column="ID" type="cascade"/>
         <relation src="HoursAccountID" table="Account" column="ID" type="cascade"/>
         <relation src="EarningTypeID" table="EarningType" column="ID" type="cascade"/>
         <relation src="TaxTypeID" table="TaxType" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="PayrollJournal" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Description" type="varchar" length="50" required="true"/>
         <column name="Type" type="enum" length="1" required="true" enumType="PayrollJournalType"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="EndDate" type="date" required="true"/>
         <column name="HoursAccountID" type="int"/>
         <column name="DollarsAccountID" type="int"/>
         <column name="JobID" type="int"/>
         <column name="BudgetLineID" type="int"/>
         <column name="Hours" type="decimal" length="19" scale="2"/>
         <column name="Dollars" type="decimal" length="19" scale="2"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="PropertyID"/>
            <column name="Type"/>
            <column name="EndDate"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="HoursAccountID" table="Account" column="ID" type="cascade"/>
         <relation src="DollarsAccountID" table="Account" column="ID" type="cascade"/>
         <relation src="JobID" table="Assignment" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="PlanningWorkflow">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="WorkingTask" type="enum" required="true" enumType="PlanningWatsonTask"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="PortalMessage" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="SentByEmployeeID" type="int" required="true"/>
         <column name="Subject" type="varchar" length="255" required="true"/>
         <column name="Message" type="memo" required="true"/>
         <column name="Important" type="boolean" required="true"/>
         <column name="DateTimeSent" type="datetime" required="true"/>
         <column name="DateTimeExpires" type="datetime" required="true"/>
         <column name="MessageType" type="enum" length="1" required="true" enumType="MessageType"/>
         <column name="AssignmentID" type="int"/>
         <column name="ShiftID" type="int"/>
         <column name="Deleted" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="SentByEmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="ShiftID" table="EmployeeShift" column="ID" type="donothing"/>
      </relations>
   </table>

   <table name="PortalMessageArchive" noExport="true" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="SentByEmployeeID" type="int" required="true"/>
         <column name="Subject" type="varchar" length="255" required="true"/>
         <column name="Message" type="memo" required="true"/>
         <column name="Important" type="boolean" required="true"/>
         <column name="DateTimeSent" type="datetime" required="true"/>
         <column name="DateTimeArchived" type="datetime" required="true"/>
         <column name="MessageType" type="enum" length="1" required="true" enumType="MessageType"/>
         <column name="AssignmentID" type="int"/>
         <column name="ShiftID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="SentByEmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="ShiftID" table="EmployeeShift" column="ID" type="donothing"/>
      </relations>
   </table>

   <table name="PortalMessageRecipient" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PortalMessageID" type="int" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="MessageRead" type="boolean" required="true"/>
         <column name="Deleted" type="boolean" required="true"/>
         <column name="DateTimeRead" type="datetime"/>
         <column name="Pinned" type="boolean" required="true"/>
         <column name="SentToEmail" type="varchar" length="254"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EmployeeID"/>
         </index>
         <index include="ID, EmployeeID, MessageRead, DateTimeRead, Pinned, SentToEmail">
            <column name="PortalMessageID"/>
         </index>
      </keys>
      <relations>
         <relation src="PortalMessageID" table="PortalMessage" column="ID" type="cascade"/>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="PortalMessageRecipientArchive" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PortalMessageID" type="int" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="MessageRead" type="boolean" required="true"/>
         <column name="DateTimeRead" type="datetime"/>
         <column name="SentToEmail" type="varchar" length="254"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="PortalMessageID" table="PortalMessageArchive" column="ID" type="cascade"/>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="Portfolio" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="ExcludeFromCorpReports" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="Code"/>
         </unique>
      </keys>
   </table>

   <table name="PPExportConfig">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ExportType" type="enum" length="1" required="true" enumType="PPExportConfigType"/>
         <column name="FileType" type="enum" length="1" required="true" enumType="PPExportConfigFileType"/>
         <column name="OutputPath" type="varchar" length="255" required="true"/>
         <column name="OutputFile" type="varchar" length="255" required="true"/>
         <column name="Delimiter" type="char" length="1"/>
         <column name="BlankValue" type="char" length="1"/>
         <column name="OpCodeID" type="int"/>
         <column name="ConnectInterface" type="boolean" required="true" default="N"/>
         <column name="ConfigForExportPayroll" type="boolean" required="true" default="Y"/>
         <column name="ConfigForClosePayPeriod" type="boolean" required="true" default="Y"/>
         <column name="ConnectURL" type="varchar" length="255"/>
         <column name="InterfaceSettingsID" type="int" />
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="ExportType"/>
            <column name="OpCodeID"/>
            <column name="ConfigForExportPayroll"/>
            <column name="InterfaceSettingsID"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="ExportType"/>
            <column name="OpCodeID"/>
            <column name="ConfigForClosePayPeriod"/>
            <column name="InterfaceSettingsID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="OpCodeID" table="OpCode" column="ID" type="cascade"/>
         <relation src="InterfaceSettingsID" table="InterfaceSettings" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="PPExportData" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ConfigName" type="varchar" length="100" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ExportStartDate" type="date"/>
         <column name="ExportEndDate" type="date" required="true"/>
         <column name="ExportType" type="enum" length="1" required="true" enumType="PPExportConfigType"/>
         <column name="OutputFile" type="varchar" length="255" required="true"/>
         <column name="ExportData" type="blob" required="true"/>
         <column name="UploadedOnDT" type="datetime" required="true"/>
         <column name="UploadedByUserID" type="int" required="true"/>
         <column name="ExportedOnDT" type="datetime"/>
         <column name="ExportedByUserID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="ExportEndDate"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ExportedByUserID" table="WatsonUser" column="ID" type="setnull"/>
         <relation src="UploadedByUserID" table="WatsonUser" column="ID" type="enforce"/>
      </relations>
   </table>

   <table name="PreSchedule" data="true" exportDataColumn="ScheduleDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="ScheduleDate" type="date" required="true"/>
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
         <column name="JobID" type="int" required="true"/>
         <column name="ShiftCategoryID" type="int" required="true"/>
         <column name="AssignmentID" type="int"/>
         <column name="Comment" type="varchar" length="255"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EmployeeID"/>
            <column name="ScheduleDate"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="JobID" table="Assignment" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="PreScheduleJobclass">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="OrderNo" type="short" required="true" minValue="1"/>
         <column name="JobclassID" type="int" required="true"/>
         <column name="GroupNo" type="short"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="OrderNo"/>
            <column name="JobclassID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="JobclassID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="ProcessorPayType">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="PayTypeCode" type="enum" enumType="EmployeePayType" required="true"/>
         <column name="ProcessorCode" type="varchar" length="25" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="PayTypeCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ProfitAccrualCalculationConfig">
      <columns>
         <column name="ID" type="sequence" required="true"></column>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="Description" type="varchar" length="50" required="true"/>
         <column name="AccrualType" type="enum" length="2" required="true" enumType="AccrualType" default="'EP'"/>
         <column name="AccrualCalculationMethod" type="enum" length="1" required="true" enumType="AccrualCalculationMethod" default="'F'"/>
         <column name="Operation" type="enum" length="1" required="true" enumType="OperationType" default="'+'"/>
         <column name="Amount" type="decimal" length="19" scale="2"/>
         <column name="KBIID" type="int" required="false"/>
         <column name="StatTypeUsageType" type="enum" enumType="StatTypeUsageType" length="1" required="false" default="'A'"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="BudgetLineID"/>
            <column name="Description"/>
         </unique>
      </keys>
      <relations>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
         <relation src="KBIID" table="KBI" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="ProfitAccrualPercentLineConfig">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ProfitAccrualCalculationConfigID" type="int" required="true"/>
         <column name="BudgetLineID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="ProfitAccrualCalculationConfigID"/>
            <column name="BudgetLineID"/>
         </unique>
      </keys>
      <relations>
         <relation src="ProfitAccrualCalculationConfigID" table="ProfitAccrualCalculationConfig" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ProfitData" data="true" exportDataColumn="ProfitHistoryID">
      <columns>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="ProfitHistoryID" type="int" required="true"/>
         <column name="PTDActual" type="decimal" length="19" scale="4"/>
         <column name="RPAmount" type="decimal" length="19" scale="4"/>
         <column name="AddlAmount" type="decimal" length="19" scale="4"/>
         <column name="PEAmount" type="decimal" length="19" scale="4"/>
         <column name="PTDAccrual" type="decimal" length="19" scale="4"/>
         <column name="FlexAmount" type="decimal" length="19" scale="4"/>
      </columns>
      <keys>
         <primary>
            <column name="BudgetLineID"/>
            <column name="ProfitHistoryID"/>
         </primary>
      </keys>
      <relations>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
         <relation src="ProfitHistoryID" table="ProfitHistory" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ProfitHistory" data="true" exportDataColumn="Year">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="HistoryTypeCode" type="char" length="2" required="true"/>
         <column name="PeriodNo" type="int" required="true"/>
         <column name="SubmittedDate" type="date" required="true"/>
         <column name="Year" type="int" required="true"/>
         <column name="ImportDate" type="date"/>
         <column name="SubmissionCount" type="int"/>
         <column name="UserID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="HistoryTypeCode"/>
            <column name="PeriodNo"/>
            <column name="Year"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="UserID" table="WatsonUser" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="ProfitImport" data="true">
      <columns>
         <column name="PropertyID" type="int" required="true"/>
         <column name="PostedTypeCode" type="enum" length="2" required="true" enumType="PostedType"/>
         <column name="PeriodNo" type="short" required="true"/>
         <column name="LastImport" type="datetime" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="PropertyID"/>
            <column name="PostedTypeCode"/>
            <column name="PeriodNo"/>
            <column name="LastImport"/>
         </primary>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ProfitKBIStat" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="KBIID" type="int" required="true"/>
         <column name="ProfitHistoryID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="StatValue" type="decimal" length="19" scale="4"/>
         <column name="StatRate" type="decimal" length="19" scale="4"/>
         <column name="StatTotal" type="decimal" length="19" scale="4"/>
         <column name="CorpRate" type="decimal" length="19" scale="4"/>
         <column name="CorpTotal" type="decimal" length="19" scale="4"/>
      </columns>
      <keys>
         <primary>
            <column name="KBIID"/>
            <column name="StatDate"/>
            <column name="ProfitHistoryID"/>
         </primary>
         <index>
            <column name="ProfitHistoryID"/>
         </index>
      </keys>
      <relations>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
         <relation src="ProfitHistoryID" table="ProfitHistory" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ProfitLineConfig">
      <columns>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="VendorID" type="int"/>
         <column name="Threshold" type="decimal" length="19" scale="4"/>
         <column name="CalcPTDMode" type="short"/>
      </columns>
      <keys>
         <primary>
            <column name="BudgetLineID"/>
         </primary>
      </keys>
      <relations>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
         <relation src="VendorID" table="Vendor" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ProjectedHoursJobLock">
      <columns>
         <column name="ID" type="longsequence" required="true"/>
         <column name="BatchID" type="uuid" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="JobID" type="int" required="true"/>
         <column name="PeriodStartDate" type="date" required="true"/>
         <column name="PeriodEndDate" type="date" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="PropertyID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="JobID" table="Assignment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="Property">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="ShortName" type="varchar" length="25" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="AltCode" type="varchar" length="25" required="true"/>
         <column name="NumberRooms" type="short" required="true" minValue="0" maxValue="20000"/>
         <column name="PeriodStartDate" type="date" required="true"/>
         <column name="PeriodEndDate" type="date" required="true"/>
         <column name="WeekEndDay" type="short" required="true" minValue="1" maxValue="7"/>
         <column name="WeeksOut" type="short" required="true" minValue="1" maxValue="4"/>
         <column name="PayPeriodTypeCode" type="enum" length="2" required="true" enumType="PayPeriodType"/>
         <column name="PayPeriodStartDayOfMonth" type="int" required="true" minValue="1" maxValue="31"/>
         <column name="CurrentPPEndDate" type="date"/>
         <column name="PlanningPeriodType" type="enum" length="2" required="true" enumType="DateRangeType"/>
         <column name="PlanningPeriodStartDayOfMonth" type="int" required="true" minValue="1" maxValue="31"/>
         <column name="EmployeeIDGenerator" type="enum" length="1" required="true" enumType="EmployeeIDGeneratorType"/>
         <column name="MinEmployeeIDLength" type="short" required="true" minValue="1" maxValue="25"/>
         <column name="MaxEmployeeIDLength" type="short" required="true" minValue="4" maxValue="25"/>
         <column name="PunchIDMethod" type="enum" length="10" required="true" enumType="PunchIDMethodType"/>
         <column name="MaxEmployeeSkills" type="short" required="true" minValue="1" maxValue="100"/>
         <column name="StartOfDay" type="time" required="true"/>
         <column name="FinancialYearTypeCode" type="enum" length="1" required="true" enumType="FinancialYearType"/>
         <column name="FinancialYearStartDate" type="date" required="true"/>
         <column name="ScheduleStateCode" type="enum" length="1" required="true" enumType="ScheduleStateType"/> <!-- Deprecated - now on SchedulingAssignmentLog table -->
         <column name="PeriodLength" type="int" required="true"/>
         <column name="PeriodsPerHour" type="int" required="true"/>
         <column name="PeriodsPerDay" type="int" required="true"/>
         <column name="ScheduleMode" type="enum" length="1" required="true" enumType="ScheduleModeType"/>
         <column name="TimeZoneID" type="varchar" length="50"/>
         <column name="ShowOnReports" type="boolean" required="true"/>
         <column name="FstVarianceFrom" type="short" minValue="0" maxValue="100"/>
         <column name="FstVarianceTo" type="short" minValue="0" maxValue="100"/>
         <column name="StdVarianceFrom" type="short" minValue="0" maxValue="100"/>
         <column name="StdVarianceTo" type="short" minValue="0" maxValue="100"/>
         <column name="OTPercentage" type="short" minValue="0" maxValue="100"/>
         <column name="DefaultLocale" type="varchar" length="10" required="true" default="'en-US'"/>
         <column name="DefaultShiftCategoryID" type="int"/>
         <column name="ForecastStandardSetID" type="int"/>
         <column name="AnalysisStandardSetID" type="int"/>
         <column name="PlanningPeriodEndDate" type="date"/>
         <column name="CalendarPlanID" type="int"/>
         <column name="StateID" type="int"/>
         <column name="RegionID" type="int" required="true"/>
         <column name="BrandID" type="int"/>
         <column name="PortfolioID" type="int"/>
         <column name="FTEFactor" type="decimal" length="9" scale="2"/>
         <column name="OTRate" type="decimal" length="9" scale="2"/>
         <column name="DTRate" type="decimal" length="9" scale="2"/>
         <column name="License" type="blob"/>
         <column name="EnableUFTCRestrictions" type="boolean" required="true"/>
         <column name="EnableUFTCCanChangeJobs" type="boolean" required="true"/>
         <column name="PunchToScheduleMethod" type="enum" length="2" required="true" enumType="PunchToScheduleMethod"/>
         <column name="PromptToEnterTips" type="boolean" required="true"/>
         <column name="PunchToSchedPreGraceMin" type="int" minValue="0"/>
         <column name="PunchToSchedPostGraceMin" type="int" minValue="0"/>
         <column name="EditRevenueInterfaceColumns" type="boolean" required="true" default="true"/>
         <column name="Active" type="boolean" required="true" default="true"/>
         <column name="LaborStandardsLocked" type="boolean" required="true"/>
         <column name="UseActualFlowsForStandardHours" type="boolean" required="true" default="true"/>
         <column name="MaxSchedulerPasses" type="int" required="true"/>
         <column name="MaxBalanceLevels" type="int" required="true"/>
         <column name="DefaultPayGroupID" type="int"/>
         <column name="WeatherLocationID" type="int"/>
         <column name="RevenueCenterForecastAccuracyModerateThreshold" type="short" required="true" default="10" minValue="1" maxValue="100"/>
         <column name="RevenueCenterForecastAccuracyCriticalThreshold" type="short" required="true" default="20" minValue="1" maxValue="100"/>
         <column name="MarketSegmentForecastAccuracyModerateThreshold" type="short" required="true" default="10" minValue="1" maxValue="100"/>
         <column name="MarketSegmentForecastAccuracyCriticalThreshold" type="short" required="true" default="20" minValue="1" maxValue="100"/>
         <column name="TemperatureScale" type="enum" length="1" required="true" enumType="TemperatureScaleType" default="'F'"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="Code"/>
         </unique>
         <unique>
            <column name="AltCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="DefaultShiftCategoryID" table="ShiftCategory" column="ID" type="setnull"/>
         <relation src="ForecastStandardSetID" table="StandardSet" column="ID" type="setnull"/>
         <relation src="AnalysisStandardSetID" table="StandardSet" column="ID" type="setnull"/>
         <relation src="CalendarPlanID" table="CalendarPlan" column="ID" type="setnull"/>
         <relation src="StateID" table="State" column="ID" type="setnull"/>
         <relation src="RegionID" table="Region" column="ID" type="enforce"/>
         <relation src="BrandID" table="Brand" column="ID" type="setnull"/>
         <relation src="PortfolioID" table="Portfolio" column="ID" type="setnull"/>
         <relation src="DefaultPayGroupID" table="PayGroup" column="ID" type="setnull"/>
      </relations>
      <triggers>
         <update databaseType="mssql">
            <![CDATA[
            if not exists(select ID from deleted) and exists(select ID from inserted)
            begin
               insert into SystemStatType (PropertyID, StatTypeCode, Name) select ID, 'O', 'Original' from inserted;
               insert into SystemStatType (PropertyID, StatTypeCode, Name) select ID, 'E', 'End of Year Forecast' from inserted;
               insert into SystemStatType (PropertyID, StatTypeCode, Name) select ID, 'Y', 'Year End Forecast' from inserted;
               insert into SystemStatType (PropertyID, StatTypeCode, Name) select ID, 'A', 'Actuals' from inserted;
               insert into SystemStatType (PropertyID, StatTypeCode, Name) select ID, 'F', 'Flex' from inserted;
               insert into SystemStatType (PropertyID, StatTypeCode, Name) select ID, 'P', 'Profit' from inserted;
               insert into SystemStatType (PropertyID, StatTypeCode, Name) select ID, 'T', 'Thirty' from inserted;
               insert into SystemStatType (PropertyID, StatTypeCode, Name) select ID, 'S', 'Sixty' from inserted;
               insert into SystemStatType (PropertyID, StatTypeCode, Name) select ID, 'N', 'Ninety' from inserted;
               insert into SystemStatType (PropertyID, StatTypeCode, Name) select ID, 'X', 'EPEP Current' from inserted;
               insert into SystemStatType (PropertyID, StatTypeCode, Name) select ID, 'V', 'Virtual' from inserted;
               insert into SystemStatType (PropertyID, StatTypeCode, Name) select ID, 'R', 'Trailing 12 Forecast' from inserted;
            end;
            ]]>
         </update>
         <update databaseType="pgsql">
            <![CDATA[
            if tg_op = 'INSERT' then
               insert into SystemStatType (PropertyID, StatTypeCode, Name) values (new.ID, 'O', 'Original');
               insert into SystemStatType (PropertyID, StatTypeCode, Name) values (new.ID, 'E', 'End of Year Forecast');
               insert into SystemStatType (PropertyID, StatTypeCode, Name) values (new.ID, 'Y', 'Year End Forecast');
               insert into SystemStatType (PropertyID, StatTypeCode, Name) values (new.ID, 'A', 'Actuals');
               insert into SystemStatType (PropertyID, StatTypeCode, Name) values (new.ID, 'F', 'Flex');
               insert into SystemStatType (PropertyID, StatTypeCode, Name) values (new.ID, 'P', 'Profit');
               insert into SystemStatType (PropertyID, StatTypeCode, Name) values (new.ID, 'T', 'Thirty');
               insert into SystemStatType (PropertyID, StatTypeCode, Name) values (new.ID, 'S', 'Sixty');
               insert into SystemStatType (PropertyID, StatTypeCode, Name) values (new.ID, 'N', 'Ninety');
               insert into SystemStatType (PropertyID, StatTypeCode, Name) values (new.ID, 'X', 'EPEP Current');
               insert into SystemStatType (PropertyID, StatTypeCode, Name) values (new.ID, 'V', 'Virtual');
               insert into SystemStatType (PropertyID, StatTypeCode, Name) values (new.ID, 'R', 'Trailing 12 Forecast');
            end if;
            ]]>
         </update>
      </triggers>
   </table>

   <table name="PropertyBreak">
      <columns>
         <column name="PropertyID" type="int" required="true"/>
         <column name="BreakNo" type="short" required="true" minValue="1" maxValue="10"/>
         <column name="BreakAfter" type="decimal" length="9" scale="2" required="true"/>
         <column name="BreakLength" type="decimal" length="9" scale="2" required="true"/>
         <column name="BreakRepeat" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="PropertyID"/>
            <column name="BreakNo"/>
         </primary>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="PropertyData">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Tag" type="varchar" length="50" required="true"/>
         <column name="TagValue" type="memo"/>
         <column name="TagData" type="blob"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Tag"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="PropertyRule">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="RuleTypeCode" type="enum" length="2" required="true" enumType="RuleType"/>
         <column name="RuleSetID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="RuleTypeCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="RuleSetID" table="RuleSet" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="PropertyScheduleBreak">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="BreakNo" type="short" required="true" minValue="1" maxValue="10"/>
         <column name="BreakDescription" type="varchar" length="25" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="BreakNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="PropertyTag">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="TagID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="TagID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="TagID" table="Tag" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="PunchTypeEarningType">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="PunchTypeCode" type="enum" length="8" required="true" enumType="PunchType"/>
         <column name="EarningTypeID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="PunchTypeCode"/>
            <column name="EarningTypeID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="EarningTypeID" table="EarningType" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RawPunch" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="EmployeeID" type="int"/>
         <column name="PunchDateTime" type="datetime" required="true"/>
         <column name="PunchTypeCode" type="enum" length="8" required="true" enumType="PunchType"/>
         <column name="BadgeNo" type="varchar" length="25" required="true"/>
         <column name="TimeClockID" type="int" required="true"/>
         <column name="RawData" type="varchar" length="100" required="true"/>
         <column name="InsertDateTime" type="datetime" required="true" default="CURRENT_TIMESTAMP"/>
         <column name="ExtraData" type="varchar" length="50"/>
         <column name="Invalid" type="boolean" required="true"/>
         <column name="InvalidReason" type="varchar" length="25"/>
         <column name="AssignmentID" type="int"/>
         <column name="latitude" type="decimal" length="10" scale="8"/>
         <column name="longitude" type="decimal" length="11" scale="8"/>
         <column name="accuracy" type="decimal" length="19" scale="2"/>
         <column name="AutoPunchMode" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="PunchDateTime"/>
            <column name="PunchTypeCode"/>
            <column name="BadgeNo"/>
         </unique>
         <index>
            <column name="PropertyID"/>
            <column name="InsertDateTime"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="TimeClockID" table="TimeClock" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="setnull"/>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RawPunchFile" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="TimeClockID" type="int" required="true"/>
         <column name="ImportedOnDT" type="datetime" required="true"/>
         <column name="FileData" type="memo" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="PropertyID"/>
            <column name="ImportedOnDT"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="TimeClockID" table="TimeClock" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RawPunchLog" data="true" exportDataColumn="PunchDateTime">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="TimeClockID" type="int"/>
         <column name="PunchDateTime" type="datetime"/>
         <column name="PunchTypeCode" type="enum" length="8" enumType="PunchType"/>
         <column name="BadgeNo" type="varchar" length="25"/>
         <column name="RawData" type="varchar" length="100"/>
         <column name="InsertDateTime" type="datetime" required="true" default="CURRENT_TIMESTAMP"/>
         <column name="ExtraData" type="varchar" length="50"/>
         <column name="Offline" type="boolean" required="true"/>
         <column name="Override" type="boolean" required="true"/>
         <column name="Reject" type="boolean" required="true"/>
         <column name="AssignmentID" type="int"/>
         <column name="EmployeeID" type="int"/>
         <column name="RejectReasonKey" type="varchar" length="25"/>
         <column name="AcceptedOnDT" type="datetime"/>
         <column name="AcceptedByUserID" type="int"/>
         <column name="Correction" type="boolean" required="true"/>
         <column name="latitude" type="decimal" length="10" scale="8"/>
         <column name="longitude" type="decimal" length="11" scale="8"/>
         <column name="accuracy" type="decimal" length="19" scale="2"/>
         <column name="AutoPunchMode" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="Correction"/>
            <column name="EmployeeID"/>
            <column name="PunchDateTime"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="PropertyID"/>
            <column name="EmployeeID"/>
         </index>
         <index>
            <column name="Reject"/>
            <column name="EmployeeID"/>
            <column name="PunchDateTime"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="TimeClockID" table="TimeClock" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="setnull"/>
         <relation src="EmployeeID" table="Employee" column="ID" type="setnull"/>
         <relation src="AcceptedByUserID" table="WatsonUser" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="PostPunchResponseLog" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RuleItemID" type="int"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="AnsweredOnDT" type="datetime" required="true"/>
         <column name="Question" type="memo"/>
         <column name="Response" type="varchar" length="50"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="RuleItemID" table="RuleItem" column="ID" type="setnull"/>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RevenueCenterPeriod">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RevenueCenterID" type="int" required="true"/>
         <column name="PeriodNo" type="short" required="true" minValue="1" maxValue="96"/>
         <column name="PeriodName" type="varchar" length="50" required="true"/>
         <column name="KBIID" type="int"/>
         <column name="UnitID" type="int"/>
         <column name="ForecastAccuracyModerateThreshold" type="short" minValue="1" maxValue="100"/>
         <column name="ForecastAccuracyCriticalThreshold" type="short" minValue="1" maxValue="100"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RevenueCenterID"/>
            <column name="PeriodName"/>
         </unique>
         <unique>
            <column name="RevenueCenterID"/>
            <column name="PeriodNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="RevenueCenterID" table="RevenueCenter" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="KBIID" table="KBI" column="ID" type="setnull"/>
         <relation src="UnitID" table="Unit" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="RevenueCenterPeriodStandardSet">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="RevenueCenterPeriodID" type="int" required="true"/>
         <column name="CaptureRatioKBIID" type="int"/>
         <column name="CalendarPlanID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RevenueCenterPeriodID"/>
            <column name="StandardSetID"/>
         </unique>
      </keys>
      <relations>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="RevenueCenterPeriodID" table="RevenueCenterPeriod" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="CaptureRatioKBIID" table="KBI" column="ID" type="setnull"/>
         <relation src="CalendarPlanID" table="CalendarPlan" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="RevenueCenterPeriodDay">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RevenueCenterPeriodStandardSetID" type="int" required="true"/>
         <column name="DayNo" type="short" required="true" minValue="1" maxValue="7"/>
         <column name="StartTime" type="time"/>
         <column name="EndTime" type="time"/>
         <column name="Capacity" type="int" minValue="0" maxValue="9999"/>
         <column name="Retention" type="time"/>
         <column name="Utilization" type="int" minValue="0" maxValue="100"/>
         <column name="IsOpen" type="boolean" required="true"/>
         <column name="MinVolume" type="int" minValue="0"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RevenueCenterPeriodStandardSetID"/>
            <column name="DayNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="RevenueCenterPeriodStandardSetID" table="RevenueCenterPeriodStandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="ReconcileCode">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="ReconcileCode" type="varchar" length="255" required="true"/>
         <column name="AltReconcileCode" type="varchar" length="255" required="false"/>
         <column name="PayCodeOverride" type="varchar" length="50"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="ReconcileCode"/>
         </unique>
         <index>
            <column name="AssignmentID"/>
         </index>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="ReconcileLog" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RunDateTime" type="datetime" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="TotalActiveEmployees" type="int" default="0"/>
         <column name="EmployeesNotInReconcileCounts" type="int" default="0"/>
         <column name="EmployeesSkipped" type="int" default="0"/>
         <column name="InvalidEmployeeCounts" type="int" default="0"/>
         <column name="UpdatedEmployeeCounts" type="int" default="0"/>
         <column name="InsertedEmployeeCounts" type="int" default="0"/>
         <column name="EmployeeNumbersUpdatedCounts" type="int" default="0"/>
         <column name="DeactivatedEmployeeCounts" type="int" default="0"/>
         <column name="ToDeactivateEmployeeCounts" type="int" default="0"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="PropertyID"/>
         </index>
      </keys>
   </table>

   <table name="Region" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="ShortName" type="varchar" length="25" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="ExcludeFromCorpReports" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="Code"/>
         </unique>
      </keys>
   </table>

   <table name="ReportLibrary" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ReportName" type="varchar" length="200" required="true"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="EndDate" type="date" required="true"/>
         <column name="GeneratedDateTime" type="datetime" required="true"/>
         <column name="ReportType" type="varchar" length="100" required="true"/>
         <column name="ReportData" type="blob"/>
         <column name="HTMLReportData" type="blob"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="ReportName"/>
            <column name="GeneratedDateTime"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RevenueBudgetData" data="true" noExport="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="RevenueLineID" type="int" required="true"/>
         <column name="RevenueCellID" type="int"/>
         <column name="StatTypeCode" type="enum" enumType="BudgetStatType" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="Unit" type="decimal" length="19" scale="2"/>
         <column name="Rate" type="decimal" length="19" scale="4"/>
         <column name="Revenue" type="decimal" length="19" scale="4"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="StatTypeCode"/>
            <column name="StatDate"/>
            <column name="RevenueLineID"/>
            <column name="RevenueCellID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="RevenueLineID" table="RevenueLine" column="ID" type="cascade"/>
         <relation src="RevenueCellID" table="RevenueCell" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="RevenueCell">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RevenueLineID" type="int" required="true"/>
         <column name="CellTypeCode" type="enum" length="3" required="true" enumType="RevenueCellType"/>
         <column name="Code" type="varchar" length="25"/>
         <column name="KBIID" type="int"/>
         <column name="OverrideEditInterfaceColumn" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RevenueLineID"/>
            <column name="CellTypeCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="RevenueLineID" table="RevenueLine" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="KBIID" table="KBI" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="RevenueCellAccount">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RevenueCellID" type="int" required="true"/>
         <column name="AccountID" type="int"/>
         <column name="OffsetAccountID" type="int"/>
         <column name="LinkedRevenueCellAccountID" type="int"/>
         <column name="DefaultCOGPercent" type="decimal" length="9" scale="2" minValue="0"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="RevenueCellID"/>
         </index>
      </keys>
      <relations>
         <relation src="RevenueCellID" table="RevenueCell" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="AccountID" table="Account" column="ID" type="setnull"/>
         <relation src="OffsetAccountID" table="Account" column="ID" type="setnull"/>
         <relation src="LinkedRevenueCellAccountID" table="RevenueCellAccount" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="RevenueCellInterfaceMap">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RevenueCellID" type="int" required="true"/>
         <column name="SourceReport" type="varchar" length="25" required="true"/>
         <column name="SourceLine" type="varchar" length="255" required="true"/>
         <column name="SourceCell" type="varchar" length="255" required="true"/>
         <column name="InterfaceType" type="enum" length="1" required="true" enumType="RevenueCellInterfaceType"/>
         <column name="ReverseSign" type="boolean" required="true"/>
         <column name="Operation" type="enum" length="1" required="true" enumType="RevenueCellInterfaceOperationType"/>
         <column name="OperandAmount" type="decimal" length="19" scale="4"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RevenueCellID"/>
            <column name="SourceReport"/>
            <column name="SourceLine"/>
            <column name="SourceCell"/>
         </unique>
      </keys>
      <relations>
         <relation src="RevenueCellID" table="RevenueCell" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="RevenueData" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="RevenueCellID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="OrgValue" type="decimal" length="19" scale="4"/>
         <column name="AdjValue" type="decimal" length="19" scale="4"/>
         <column name="NoteText" type="memo"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="StatDate"/>
            <column name="RevenueCellID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="RevenueCellID" table="RevenueCell" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RevenueDays" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="StatusTypeCode" type="enum" length="1" required="true" enumType="RevenueStatusType"/>
         <column name="NoteText" type="memo"/>
         <column name="OutOfBalance" type="decimal" length="19" scale="4"/>
         <column name="TotalNetRevenue" type="decimal" length="19" scale="4"/>
         <column name="ARBalance" type="decimal" length="19" scale="4"/>
         <column name="ADR" type="decimal" length="19" scale="4"/>
         <column name="Occupancy" type="decimal" length="19" scale="4"/>
         <column name="RevPar" type="decimal" length="19" scale="4"/>
         <column name="TotalAdjustments" type="decimal" length="19" scale="4"/>
         <column name="TotalTax" type="decimal" length="19" scale="4"/>
         <column name="TotalReceipts" type="decimal" length="19" scale="4"/>
         <column name="TotalCreditCards" type="decimal" length="19" scale="4"/>
         <column name="TotalCash" type="decimal" length="19" scale="4"/>
         <column name="TotalAR" type="decimal" length="19" scale="4"/>
         <column name="TotalWriteoffs" type="decimal" length="19" scale="4"/>
         <column name="TotalFunds" type="decimal" length="19" scale="4"/>
         <column name="TotalGross" type="decimal" length="19" scale="4"/>
         <column name="TotalRooms" type="decimal" length="19" scale="4"/>
         <column name="CashVariance" type="decimal" length="19" scale="4"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="StatDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RevenueDayValidation">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="RevenueLine1ID" type="int" required="true"/>
         <column name="RevenueCell1ID" type="int" required="true"/>
         <column name="RevenueLine2ID" type="int" required="true"/>
         <column name="RevenueCell2ID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RevenueLine1ID"/>
            <column name="RevenueCell1ID"/>
            <column name="RevenueLine2ID"/>
            <column name="RevenueCell2ID"/>
         </unique>
         <index>
            <column name="PropertyID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="RevenueLine1ID" table="RevenueLine" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="RevenueLine2ID" table="RevenueLine" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="RevenueCell1ID" table="RevenueCell" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="RevenueCell2ID" table="RevenueCell" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="RevenueLine">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ParentLineID" type="int"/>
         <column name="Description" type="varchar" length="50" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="LineTypeCode" type="enum" length="3" required="true" enumType="RevenueLineType"/>
         <column name="GlobalOrderNo" type="short" required="true"/>
         <column name="OrderNo" type="short" required="true"/>
         <column name="LevelNo" type="short" required="true"/>
         <column name="Active" type="boolean" required="true"/>
         <column name="CreateJE" type="boolean" required="true"/>
         <column name="ReverseJE" type="boolean" required="true"/>
         <column name="Detail" type="boolean" required="true"/>
         <column name="ExtraData" type="varchar" length="200"/>
         <column name="BudgetLineID" type="int"/>
         <column name="KBIID" type="int"/>
         <column name="UnitID" type="int"/>
         <column name="EnableMonthlyEdit" type="boolean" required="true"/>
         <column name="OverrideIncomeJournalCalc" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Code"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="ParentLineID"/>
            <column name="Description"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="ParentLineID"/>
            <column name="OrderNo"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="GlobalOrderNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ParentLineID" table="RevenueLine" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="setnull"/>
         <relation src="KBIID" table="KBI" column="ID" type="setnull"/>
         <relation src="UnitID" table="Unit" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="RevenueLineIncomeJournalMap">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RevenueLineID" type="int" required="true"/>
         <column name="RevenueCellID" type="int" required="true"/>
         <column name="AccountID" type="int" required="true"/>
         <column name="Signage" type="enum" enumType="RevenueLineIncomeJournalSignage" required="true" default="'+'"/>
         <column name="IncludeInEPEP" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RevenueLineID"/>
            <column name="RevenueCellID"/>
            <column name="AccountID"/>
            <column name="Signage"/>
         </unique>
      </keys>
      <relations>
         <relation src="RevenueLineID" table="RevenueLine" column="ID" type="cascade"/>
         <relation src="RevenueCellID" table="RevenueCell" column="ID" type="cascade"/>
         <relation src="AccountID" table="Account" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RevenueLineLinkedLine">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RevenueLineID" type="int" required="true"/>
         <column name="LinkedRevenueLineID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RevenueLineID"/>
            <column name="LinkedRevenueLineID"/>
         </unique>
      </keys>
      <relations>
         <relation src="RevenueLineID" table="RevenueLine" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="LinkedRevenueLineID" table="RevenueLine" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RevenueLineNote" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RevenueLineID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="NoteText" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RevenueLineID"/>
            <column name="StatDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="RevenueLineID" table="RevenueLine" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="RevenueFBLog" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RevenueLineID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="PromoAccountID" type="int" required="true"/>
         <column name="Description" type="varchar" length="100"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="RevenueLineID"/>
            <column name="StatDate"/>
         </index>
      </keys>
      <relations>
         <relation src="RevenueLineID" table="RevenueLine" column="ID" type="cascade"/>
         <relation src="PromoAccountID" table="Account" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RevenueFBLogDetail" data="true" exportDataColumn="RevenueFBLogID">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RevenueFBLogID" type="int" required="true"/>
         <column name="RevenueCellID" type="int" required="true"/>
         <column name="AccountID" type="int"/>
         <column name="Value" type="decimal" length="19" scale="4"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RevenueFBLogID"/>
            <column name="RevenueCellID"/>
            <column name="AccountID"/>
         </unique>
      </keys>
      <relations>
         <relation src="RevenueFBLogID" table="RevenueFBLog" column="ID" type="cascade"/>
         <relation src="RevenueCellID" table="RevenueCell" column="ID" type="cascade"/>
         <relation src="AccountID" table="Account" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RevenueMisc" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RevenueLineID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="Description" type="varchar" length="50" required="true"/>
         <column name="AccountID" type="int" required="true"/>
         <column name="Amount" type="decimal" length="19" scale="4"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="RevenueLineID"/>
            <column name="StatDate"/>
         </index>
      </keys>
      <relations>
         <relation src="RevenueLineID" table="RevenueLine" column="ID" type="cascade"/>
         <relation src="AccountID" table="Account" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RevenueRoomLog" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RevenueLineID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="NoRooms" type="short"/>
         <column name="RoomNo" type="varchar" length="25"/>
         <column name="Reason" type="varchar" length="100"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="RevenueLineID"/>
            <column name="StatDate"/>
         </index>
      </keys>
      <relations>
         <relation src="RevenueLineID" table="RevenueLine" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RevenueCenter">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ReconcileEmployee" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="EmpNo" type="varchar" length="25" required="true"/>
         <column name="OldEmpNo" type="varchar" length="25"/>
         <column name="BadgeNo" type="varchar" length="25"/>
         <column name="AltEmpNo" type="varchar" length="25"/>
         <column name="FirstName" type="varchar" length="50"/>
         <column name="MiddleName" type="varchar" length="25"/>
         <column name="LastName" type="varchar" length="50"/>
         <column name="FullName" type="varchar" length="50"/>
         <column name="HireDate" type="date"/>
         <column name="SeniorityDate" type="date"/>
         <column name="StatusTypeCode" type="enum" length="1" enumType="EmployeeStatusType"/>
         <column name="StatusChangeReasonCode" type="varchar" length="25"/>
         <column name="TerminationDate" type="date"/>
         <column name="LeaveOfAbsenceDate" type="date"/>
         <column name="LeaveOfAbsenceReturnDate" type="date"/>
         <column name="ReHireDate" type="date"/>
         <column name="WorkClassCode" type="varchar" length="25"/>
         <column name="PrimaryClassCode" type="varchar" length="25"/>
         <column name="SecondaryClassCode" type="varchar" length="25"/>
         <column name="EmployeeType" type="enum" length="1" enumType="EmployeeType"/>
         <column name="HoursAvailable" type="decimal" length="9" scale="2"/>
         <column name="BirthDate" type="date"/>
         <column name="Gender" type="enum" length="1" enumType="GenderType"/>
         <column name="Tipped" type="enum" length="1" enumType="TippedType"/>
         <column name="Address" type="varchar" length="50"/>
         <column name="Address2" type="varchar" length="50"/>
         <column name="City" type="varchar" length="50"/>
         <column name="State" type="varchar" length="25"/>
         <column name="Zip" type="varchar" length="25"/>
         <column name="HomePhone" type="varchar" length="25"/>
         <column name="MobilePhone" type="varchar" length="25"/>
         <column name="OtherPhone" type="varchar" length="25"/>
         <column name="Email" type="varchar" length="254"/>
         <column name="EmergencyContact" type="varchar" length="50"/>
         <column name="EmergencyPhone" type="varchar" length="25"/>
         <column name="OrientationDate" type="date"/>
         <column name="Eligible401KDate" type="date"/>
         <column name="Enrolled401KDate" type="date"/>
         <column name="NextReviewDate" type="date"/>
         <column name="LastReviewDate" type="date"/>
         <column name="MaritalStatus" type="enum" length="1" enumType="MaritalStatusType"/>
         <column name="NumDependents" type="short"/>
         <column name="ADA" type="varchar" length="100"/>
         <column name="SSN" type="varchar" length="12"/>
         <column name="EthnicityCode" type="char" length="1"/>
         <column name="ErrorReason" type="memo"/>
         <column name="ReconcileHashCode" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="EmpNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ReconcileEmployeeAssignment" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ReconcileEmployeeID" type="int" required="true"/>
         <column name="Code" type="varchar" length="255" required="true"/>
         <column name="SkillDate" type="date"/>
         <column name="Rank" type="int"/>
         <column name="JobOrder" type="int"/>
         <column name="RateType" type="char" length="1"/>
         <column name="HourlyRate" type="decimal" length="9" scale="4"/>
         <column name="AnnualRate" type="decimal" length="9" scale="2"/>
         <column name="PieceRate" type="decimal" length="9" scale="4"/>
         <column name="ContractHours" type="decimal" length="9" scale="2"/>
         <column name="ContractDays" type="decimal" length="9" scale="2"/>
         <column name="RateEffectiveDate" type="date"/>
         <column name="DeactivationDate" type="date"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="ReconcileEmployeeID" table="ReconcileEmployee" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ReconcileEmployeeData" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Data" type="blob" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
   </table>

   <table name="ReconcileEmployeeError" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ReconcileLogID" type="int" required="true"/>
         <column name="EmpNo" type="varchar" length="25" required="true"/>
         <column name="Name" type="varchar" length="100"/>
         <column name="ErrorReason" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="ReconcileLogID" table="ReconcileLog" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ReconcileEmployeeCustomData" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ReconcileEmployeeID" type="int" required="true"/>
         <column name="FieldName" type="varchar" length="50" required="true"/>
         <column name="Value" type="varchar" length="255"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="ReconcileEmployeeID" table="ReconcileEmployee" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ReconcileEmployeeTimeOff" noExport="true">
      <columns>
         <column name="PropertyCode" type="varchar" length="25" required="true"/>
         <column name="EmpNo" type="varchar" length="25" required="true"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="EndDate" type="date" required="true"/>
         <column name="StartTime" type="time" required="true"/>
         <column name="EndTime" type="time" required="true"/>
         <column name="Reason" type="varchar" length="25" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="PropertyCode"/>
            <column name="EmpNo"/>
            <column name="StartDate"/>
            <column name="EndDate"/>
            <column name="StartTime"/>
            <column name="EndTime"/>
            <column name="Reason"/>
         </primary>
      </keys>
   </table>

   <table name="ReconcileLMSUser" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RecordNumber" type="int" required="true"/>
         <column name="LoginId" type="varchar" length="50" required="true"/>
         <column name="EmpId" type="varchar" length="25"/>
         <column name="Active" type="boolean"/>
         <column name="EmailAddress" type="varchar" length="50"/>
         <column name="Locale" type="varchar" length="10"/>
         <column name="ErrorReason" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RecordNumber"/>
         </unique>
      </keys>
   </table>

   <table name="ReconcileLMSUserMember" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ReconcileLMSUserID" type="int" required="true"/>
         <column name="MemberTypeCode" type="enum" enumType="ReconcileLMSUserMemberType" length="1" required="true"/>
         <column name="Value" type="varchar" length="50" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="ReconcileLMSUserID" table="ReconcileLMSUser" column="ID" type="cascade"/>
      </relations>
   </table>

   <!-- This table stores the resource overrides for strings in the system -->
   <table name="ResourceOverride" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ResourceKey" type="varchar" length="255" required="true"/>
         <column name="Locale" type="varchar" length="10" required="true"/>
         <column name="ResourceText" type="memo" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="ResourceKey"/>
            <column name="Locale"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ReconcileTimeOffReasons" noExport="true">
      <columns>
         <column name="PropertyCode" type="varchar" length="25" required="true"/>
         <column name="Reason" type="varchar" length="25" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="PropertyCode"/>
            <column name="Reason"/>
         </primary>
      </keys>
   </table>

   <table name="RotationPlan">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="WeeklyRotation" type="boolean" required="true"/>
         <column name="RotateInterval" type="short" required="true" minValue="1" maxValue="100"/>
         <column name="RotateEveryDay" type="boolean" required="true"/>
         <column name="ApplyToRegularEmployees" type="boolean" required="true"/>
         <column name="ApplyToPermanentEmployees" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RuleItem">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RuleSetID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="RuleClassCode" type="varchar" length="50" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RuleSetID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="RuleSetID" table="RuleSet" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="RuleItemParam">
      <columns>
         <column name="RuleItemID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Value" type="memo" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="RuleItemID"/>
            <column name="Name"/>
         </primary>
      </keys>
      <relations>
         <relation src="RuleItemID" table="RuleItem" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="RuleSet">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Description" type="memo" required="true"/>
         <column name="RuleTypeCode" type="enum" length="2" required="true" enumType="RuleType"/>
         <column name="ReqApproval" type="boolean" required="true"/>
         <column name="Salience" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="SalaryDist">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="MonValue" type="decimal" length="9" scale="4"/>
         <column name="TueValue" type="decimal" length="9" scale="4"/>
         <column name="WedValue" type="decimal" length="9" scale="4"/>
         <column name="ThuValue" type="decimal" length="9" scale="4"/>
         <column name="FriValue" type="decimal" length="9" scale="4"/>
         <column name="SatValue" type="decimal" length="9" scale="4"/>
         <column name="SunValue" type="decimal" length="9" scale="4"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ScheduleGroup">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ScheduleNote" data="true" exportDataColumn="ScheduleDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="ScheduleDate" type="date" required="true"/>
         <column name="Note" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EmployeeID"/>
            <column name="ScheduleDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="SchedulingShiftAudit" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ShiftDate" type="date" required="true"/>
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
         <column name="JobID" type="int" required="true"/>
         <column name="JobName" type="varchar" length="50" required="true"/>
         <column name="AssignmentID" type="int"/>
         <column name="AssignmentName" type="varchar" length="50"/>
         <column name="EmployeeID" type="int"/>
         <column name="ChangedOnDT" type="datetime" required="true"/>
         <column name="ChangedByUserID" type="int" required="true"/>
         <column name="Description" type="memo" required="true"/>
         <column name="PenaltyDescription" type="memo"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="ChangedOnDT"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="JobID"/>
            <column name="ShiftDate"/>
         </index>
         <index>
            <column name="ChangedByUserID"/>
            <column name="ChangedOnDT"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="ChangedByUserID" table="WatsonUser" column="ID" type="enforce"/>
      </relations>
   </table>

   <table name="Season">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="SeasonPeriod">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="SeasonID" type="int" required="true"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="EndDate" type="date" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="SeasonID"/>
            <column name="StartDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="SeasonID" table="Season" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="ShareWithSchedule" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="DayNo" type="short" required="true" minValue="1" maxValue="7"/>
         <column name="StartTime" type="time" required="true"/>
         <column name="EndTime" type="time" required="true"/>
         <column name="JobclassID" type="int" required="true"/>
         <column name="AssignmentID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EmployeeID"/>
            <column name="DayNo"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="JobclassID" table="Assignment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ShiftCategory">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Code" type="varchar" length="1" required="true"/>
         <column name="TrainingShiftCategoryID" type="int"/>
         <column name="IncludeInProductivity" type="boolean" required="true"/>
         <column name="TrainingShift" type="boolean" required="true"/>
         <column name="ContractShift" type="boolean" required="true" default="false"/>
         <column name="AutoSyncScheduledHours" type="boolean" required="true"/>
         <column name="AutoCalculateCosts" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="Code"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="TrainingShiftCategoryID" table="ShiftCategory" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="ShiftChangeReason" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="25" required="true"/>
         <column name="ChangeReasonType" type="enum" length="1" required="true" enumType="ChangeReasonType"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
            <column name="ChangeReasonType"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ShiftDefinition">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="25" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="StartTime" type="time" required="true"/>
         <column name="EndTime" type="time" required="true"/>
         <column name="BreakDuration" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="StartTime"/>
            <column name="EndTime"/>
            <column name="BreakDuration"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ShiftExportAdjust" data="true" exportDataColumn="PayPeriodEndDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="PayPeriodEndDate" type="date" required="true"/>
         <column name="AdjustmentCode" type="varchar" length="25" required="true"/>
         <column name="Value" type="decimal" length="19" scale="2" required="true"/>
         <column name="TipSubPoolID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EmployeeID"/>
            <column name="PayPeriodEndDate"/>
            <column name="AdjustmentCode"/>
         </index>
      </keys>
      <relations>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
         <relation src="TipSubPoolID" table="TipSubPool" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="StaffingRequirement" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="JobID" type="int" required="true"/>
         <column name="PlanType" type="enum" length="1" required="true" enumType="PlanType"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="Bodies" type="memo" required="true"/>
         <column name="AssignmentID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="JobID"/>
            <column name="PlanType"/>
            <column name="StatDate"/>
         </index>
      </keys>
      <relations>
         <relation src="JobID" table="Assignment" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="StandardSet">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="KBISetID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Password" type="varchar" length="100"/>
         <column name="GenerateProjectedHours" type="boolean" required="true" default="true"/>
         <column name="GenerateStandardHours" type="boolean" required="true" default="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="KBISetID" table="KBISet" column="ID" type="enforce"/>
      </relations>
   </table>

   <table name="StandardSetDynamicRanges">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="FromValue" type="int" required="true"/>
         <column name="ToValue" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="KBIID" table="KBI" column="ID" type="enforce"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="enforce"/>
      </relations>
   </table>

   <table name="StandardSetUtilizedLog">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="EffectiveDate" type="date" required="true"/>
         <column name="PlanType" type="enum" length="1" required="true" enumType="PlanType"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="KBIValue" type="int"/>
         <column name="CreatedOn" type="datetime" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="PlanType"/>
            <column name="AssignmentID"/>
            <column name="EffectiveDate"/>
            <column name="ID"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentId" table="Assignment" column="ID" type="cascade"/>
         <relation src="PropertyId" table="Property" column="ID" type="cascade"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="enforce"/>
      </relations>
   </table>

   <table name="State">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="PostalCode" type="varchar" length="25" required="true"/>
         <column name="StateTax" type="boolean" required="true"/>
         <column name="Country" type="varchar" length="50" required="true"/>
         <column name="TaxJurCode" type="char" length="2"/>
         <column name="MinWage" type="decimal" length="19" scale="2"/>
         <column name="MaxTipCredit" type="decimal" length="19" scale="2"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TAESCalculationLog" noExport="true">
      <columns>
         <column name="CorrelationId" type="varchar" length="100"/>
         <column name="CreatedDateTime" type="datetime"/>
         <column name="KBIID" type="int"/>
         <column name="StatDate" type="date"/>
         <column name="CalculationData" type="varchar" length="250"/>
      </columns>
   </table>

   <table name="Tag" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ParentTagID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="ParentTagID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="ParentTagID" table="Tag" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="TapeEntryOrder">
      <columns>
         <column name="PropertyID" type="int" required="true"/>
         <column name="OrderNo" type="int" required="true"/>
         <column name="InterfaceMapID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="PropertyID"/>
            <column name="OrderNo"/>
         </primary>
         <unique>
            <column name="InterfaceMapID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="InterfaceMapID" table="RevenueCellInterfaceMap" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="TaxType">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="TaxPercent" type="decimal" length="19" scale="2"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TempFlowPattern" data="true" exportDataColumn="StatDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="FlowPatternID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="KBIID"/>
            <column name="StatDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
         <relation src="FlowPatternID" table="FlowPattern" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="Ticket" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Category" type="varchar" length="200" required="true"/>
         <column name="CreatedBy" type="int" required="true"/>
         <column name="CreatedOn" type="datetime" required="true"/>
         <column name="Status" type="enum" length="1" required="true" enumType="TicketStatusType"/>
         <column name="Summary" type="varchar" length="255" required="true"/>
         <column name="ViewOptions" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="PropertyID"/>
            <column name="Category"/>
            <column name="CreatedOn"/>
         </index>
         <index>
            <column name="CreatedBy"/>
         </index>
      </keys>
      <relations>
         <relation src="CreatedBy" table="WatsonUser" column="ID" type="enforce"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TicketNote" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TicketID" type="int" required="true"/>
         <column name="NoteDT" type="datetime" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="NoteText" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="TicketID"/>
            <column name="NoteDT"/>
         </unique>
         <index>
            <column name="UserID"/>
         </index>
      </keys>
      <relations>
         <relation src="TicketID" table="Ticket" column="ID" type="cascade"/>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TicketRead" data="true" noExport="true">
      <columns>
         <column name="TicketID" type="int" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="ReadOn" type="datetime" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="TicketID"/>
            <column name="UserID"/>
            <column name="ReadOn"/>
         </primary>
         <index>
            <column name="UserID"/>
            <column name="ReadOn"/>
         </index>
      </keys>
      <relations>
         <relation src="TicketID" table="Ticket" column="ID" type="cascade"/>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TimeClock">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Code" type="varchar" length="25" required="true"/>
         <column name="ClockTypeCode" type="enum" length="10" required="true" enumType="ClockType"/>
         <column name="Active" type="boolean" required="true"/>
         <column name="ConnectionType" type="enum" length="1" required="true" enumType="ConnectionType"/>
         <column name="ComPort" type="int"/>
         <column name="BaudRate" type="int"/>
         <column name="PhoneNo" type="varchar" length="25"/>
         <column name="ModemInitStr" type="varchar" length="100"/>
         <column name="IPAddress" type="varchar" length="255"/>
         <column name="IPPort" type="int"/>
         <column name="TzID" type="varchar" length="50"/>
         <column name="ReaderID" type="int"/>
         <column name="LastPolledDT" type="datetime"/>
         <column name="CurrentVersion" type="int"/>
         <column name="RequiredVersion" type="int"/>
         <column name="LastUpdatedOn" type="datetime"/>
         <column name="LastHeartbeatDT" type="datetime"/>
         <column name="Latitude" type="decimal" length="9" scale="6"/>
         <column name="Longitude" type="decimal" length="9" scale="6"/>
         <column name="Radius" type="decimal" length="7" scale="2"/>
         <column name="ImageVersion" type="varchar" length="100"/>
         <column name="GPSValidationMode" type="enum" length="1" required="true" enumType="GPSValidationModeType" default="'A'"/>
         <column name="ActivationCode" type="varchar" length="200"/>
         <column name="ApiSecret" type="varchar" length="200"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="Code"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TimeClockActivation">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TimeClockID" type="int" required="true"/>
         <column name="StatusChangedByUserID" type="int" required="true"/>
         <column name="StatusChangedOn" type="datetime"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="TimeClockID" table="TimeClock" column="ID" type="cascade"/>
         <relation src="StatusChangedByUserID" table="WatsonUser" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TimeClockAssignmentRestriction">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TimeClockID" type="int" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="InPunchAllowed" type="boolean" required="true"/>
         <column name="BreakPunchAllowed" type="boolean" required="true"/>
         <column name="BackPunchAllowed" type="boolean" required="true"/>
         <column name="OutPunchAllowed" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="TimeClockID"/>
            <column name="AssignmentID"/>
         </unique>
      </keys>
      <relations>
         <relation src="TimeClockID" table="TimeClock" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TimeClockCommand" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TimeClockID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="CreatedByWatsonUserID" type="int" required="true"/>
         <column name="Command" type="memo" required="true"/>
         <column name="CommandCreatedDT" type="datetime"/>
         <column name="CommandSentDT" type="datetime" required="false"/>
         <column name="CommandResult" type="memo" required="false"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="TimeClockID"/>
            <column name="CommandCreatedDT"/>
         </unique>
      </keys>
      <relations>
         <relation src="TimeClockID" table="TimeClock" column="ID" type="cascade"/>
         <relation src="CreatedByWatsonUserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TipPool" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="EndDate" type="date" required="true"/>
         <column name="TotalTips" type="decimal" length="19" scale="2"/>
         <column name="AppliedOnDT" type="datetime"/>
         <column name="AppliedByUserID" type="int"/>
         <column name="DateRangeType" type="enum" length="1" required="true" enumType="TipPoolDateRangeType"/>
         <column name="PercentHoldback" type="decimal" length="19" scale="4" required="true"/>
         <column name="TimeRanged" type="boolean" required="true"/>
         <column name="StartTime" type="time"/>
         <column name="EndTime" type="time"/>
         <column name="MinimumQualifyingHours" type="decimal" length="9" scale="2"/>
         <column name="TipPoolDistributeType" type="enum" length="1" required="true" enumType="TipPoolDistributeType" default="'P'"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="AppliedByUserID" table="WatsonUser" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="TipPoolType">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="DateRangeType" type="enum" length="1" required="true" enumType="TipPoolDateRangeType"/>
         <column name="PercentHoldback" type="decimal" length="19" scale="4" required="true"/>
         <column name="TimeRanged" type="boolean" required="true"/>
         <column name="StartTime" type="time"/>
         <column name="EndTime" type="time"/>
         <column name="MinimumQualifyingHours" type="decimal" length="9" scale="2"/>
         <column name="TipPoolDistributeType" type="enum" length="1" required="true" enumType="TipPoolDistributeType" default="'P'"/>
         <column name="PayGroupID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TipSubPool">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TipPoolID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="PercentOfPool" type="decimal" length="19" scale="4" required="true"/>
         <column name="Tips" type="decimal" length="19" scale="2" required="true"/>
         <column name="DistMethod" type="enum" length="1" required="true" enumType="DistMethodType"/>
         <column name="HoursMode" type="enum" length="1" required="true" enumType="HoursModeType"/>
         <column name="PointsAllocation" type="enum" length="1" required="true" enumType="PointsAllocationType" default="'D'"/>
         <column name="UnitType" type="enum" length="1" required="true" enumType="UnitType"/>
         <column name="EarningTypeID" type="int" required="true"/>
         <column name="EmployeeSetID" type="int" required="true"/>
         <column name="BaselineUnits" type="decimal" length="19" scale="2" required="true"/>
         <column name="DistributeToWorkedJobs" type="boolean" required="true"/>
         <column name="RawTipUnits" type="decimal" length="19" scale="2"/>
         <column name="TipUnits" type="decimal" length="19" scale="2"/>
         <column name="Hours" type="decimal" length="19" scale="2"/>
         <column name="FactorAdjustment" type="boolean" required="true" default='true'/>
         <column name="DollarsAdjustment" type="boolean" required="true" default='true'/>
         <column name="UnitsAdjustment" type="boolean" required="true" default='true'/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="EarningTypeID" table="EarningType" column="ID" type="cascade"/>
         <relation src="EmployeeSetID" table="EmployeeSet" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TipSubPoolEmployee" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TipSubPoolID" type="int" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="HoursWorked" type="decimal" length="19" scale="2"/>
         <column name="RawTipUnit" type="decimal" length="19" scale="2"/>
         <column name="Factor" type="decimal" length="19" scale="2"/>
         <column name="TipUnit" type="decimal" length="19" scale="2"/>
         <column name="PercentOfSubPool" type="decimal" length="19" scale="4" required="true"/>
         <column name="GrossAllocatedTips" type="decimal" length="19" scale="2"/>
         <column name="AdjustmentToTips" type="decimal" length="19" scale="2"/>
         <column name="NetAllocatedTips" type="decimal" length="19" scale="2"/>
         <column name="TipUnitAdjustment" type="decimal" length="19" scale="2"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="TipSubPoolID"/>
            <column name="EmployeeID"/>
         </unique>
      </keys>
      <relations>
         <relation src="TipSubPoolID" table="TipSubPool" column="ID" type="cascade"/>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TipSubPoolEmployeeHours" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TipSubPoolEmployeeID" type="int" required="true"/>
         <column name="JobID" type="int" required="true"/>
         <column name="HoursWorked" type="decimal" length="19" scale="2"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="TipSubPoolEmployeeID"/>
            <column name="JobID"/>
         </unique>
      </keys>
      <relations>
         <relation src="TipSubPoolEmployeeID" table="TipSubPoolEmployee" column="ID" type="cascade"/>
         <relation src="JobID" table="Assignment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TipSubPoolType">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TipPoolTypeID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="PercentOfPool" type="decimal" length="19" scale="4" required="true"/>
         <column name="DistMethod" type="enum" length="1" required="true" enumType="DistMethodType"/>
         <column name="HoursMode" type="enum" length="1" required="true" enumType="HoursModeType"/>
         <column name="PointsAllocation" type="enum" length="1" required="true" enumType="PointsAllocationType" default="'D'"/>
         <column name="UnitType" type="enum" length="1" required="true" enumType="UnitType"/>
         <column name="EarningTypeID" type="int" required="true"/>
         <column name="EmployeeSetID" type="int" required="true"/>
         <column name="BaselineUnits" type="decimal" length="19" scale="2" required="true"/>
         <column name="DistributeToWorkedJobs" type="boolean" required="true"/>
         <column name="FactorAdjustment" type="boolean" required="true" default='true'/>
         <column name="DollarsAdjustment" type="boolean" required="true" default='true'/>
         <column name="UnitsAdjustment" type="boolean" required="true" default='true'/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="TipPoolTypeID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="TipPoolTypeID" table="TipPoolType" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="EarningTypeID" table="EarningType" column="ID" type="cascade"/>
         <relation src="EmployeeSetID" table="EmployeeSet" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TKCode">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="TKCode" type="varchar" length="255" required="true"/>
         <column name="ShiftCategoryID" type="int" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="TKCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="ShiftCategoryID" table="ShiftCategory" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TORDistribution" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TimeOffRequestID" type="int" required="true"/>
         <column name="Date" type="date" required="true"/>
         <column name="Hours" type="decimal" length="9" scale="2" required="true"/>
         <column name="JobID" type="int" required="true"/>
         <column name="EarningTypeID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="TimeOffRequestID"/>
            <column name="Date"/>
            <column name="JobID"/>
         </index>
      </keys>
      <relations>
         <relation src="TimeOffRequestID" table="EmployeeTimeOff" column="ID" type="cascade"/>
         <relation src="JobID" table="Assignment" column="ID" type="cascade"/>
         <relation src="EarningTypeID" table="EarningType" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="Unit">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="SingularName" type="varchar" length="50" required="true"/>
         <column name="Symbol" type="varchar" length="5" required="true"/>
         <column name="Comment" type="varchar" length="255"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
         <unique>
            <column name="PropertyID"/>
            <column name="SingularName"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="UserData" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="PropertyID" type="int"/>
         <column name="Tag" type="varchar" length="50" required="true"/>
         <column name="TagValue" type="varchar" length="255"/>
         <column name="TagData" type="blob"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="PropertyID"/>
            <column name="Tag"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="UserDefinedMapping">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="MappingGroup" type="varchar" length="25" required="true"/>
         <column name="PropertyID" type="int"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Code" type="varchar" length="25"/>
         <column name="UserDefined1" type="varchar" length="50"/>
         <column name="UserDefined2" type="varchar" length="50"/>
         <column name="UserDefined3" type="varchar" length="50"/>
         <column name="UserDefined4" type="varchar" length="50"/>
         <column name="UserDefined5" type="varchar" length="50"/>
         <column name="UserDefined6" type="varchar" length="50"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="UserPreference" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="PreferenceKey" type="varchar" length="50" required="true"/>
         <column name="ViewName" type="varchar" length="50"/>
         <column name="DefaultView" type="boolean" required="true"/>
         <column name="Preferences" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="PropertyID"/>
            <column name="PreferenceKey"/>
            <column name="ViewName"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="UserPropertyData" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Tag" type="varchar" length="100" required="true"/>
         <column name="TagValue" type="varchar" length="255"/>
         <column name="TagData" type="blob"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="PropertyID"/>
            <column name="Tag"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="Vendor">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="VendorNo" type="varchar" length="25" required="true"/>
         <column name="VendorName" type="varchar" length="50" required="true"/>
         <column name="Active" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="VendorNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonGroup" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="Name"/>
         </unique>
      </keys>
   </table>

   <table name="WatsonGroupActionSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="GroupID" type="int" required="true"/>
         <column name="SecurityCode" type="varchar" length="255" required="true"/>
         <column name="AccessCode" type="enum" length="1" required="true" enumType="AccessCodeType"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="GroupID"/>
            <column name="SecurityCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="GroupID" table="WatsonGroup" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonGroupAuthorizationLevel" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="GroupID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="AuthorizationLevelType" type="enum" required="true" enumType="AuthorizationLevelType"/>
         <column name="Level" type="int" minValue="0" maxValue="255" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="GroupID"/>
            <column name="PropertyID"/>
            <column name="AuthorizationLevelType"/>
         </unique>
      </keys>
      <relations>
         <relation src="GroupID" table="WatsonGroup" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonGroupBudgetSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="GroupID" type="int" required="true"/>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="AccessLevel" type="enum" length="1" required="true" enumType="AccessLevelType"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="GroupID"/>
            <column name="BudgetLineID"/>
         </unique>
      </keys>
      <relations>
         <relation src="GroupID" table="WatsonGroup" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonGroupEarningTypeSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="GroupID" type="int" required="true"/>
         <column name="EarningTypeID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="GroupID"/>
            <column name="EarningTypeID"/>
         </unique>
      </keys>
      <relations>
         <relation src="GroupID" table="WatsonGroup" column="ID" type="cascade"/>
         <relation src="EarningTypeID" table="EarningType" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="WatsonGroupKBISecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="GroupID" type="int" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="GroupID"/>
            <column name="KBIID"/>
         </unique>
      </keys>
      <relations>
         <relation src="GroupID" table="WatsonGroup" column="ID" type="cascade"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="WatsonGroupLaborSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="GroupID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="DivisionID" type="int"/>
         <column name="DepartmentID" type="int"/>
         <column name="JobclassID" type="int"/>
         <column name="Schedules" type="boolean" required="true"/>
         <column name="Notifications" type="boolean" required="true"/>
         <column name="Reports" type="boolean" required="true"/>
         <column name="Configuration" type="boolean" required="true"/>
         <column name="Approval" type="boolean" required="true"/>
         <column name="ModifyScheduleState" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="GroupID"/>
            <column name="PropertyID"/>
            <column name="DivisionID"/>
            <column name="DepartmentID"/>
            <column name="JobclassID"/>
         </index>
      </keys>
      <relations>
         <relation src="GroupID" table="WatsonGroup" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="DivisionID" table="Assignment" column="ID" type="cascade"/>
         <relation src="DepartmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="JobclassID" table="Assignment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonGroupMarketGroupSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="GroupID" type="int" required="true"/>
         <column name="MarketGroupID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="GroupID"/>
            <column name="MarketGroupID"/>
         </unique>
      </keys>
      <relations>
         <relation src="GroupID" table="WatsonGroup" column="ID" type="cascade"/>
         <relation src="MarketGroupID" table="MarketGroup" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="WatsonGroupOpCodeSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="GroupID" type="int" required="true"/>
         <column name="OpCodeID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="GroupID"/>
            <column name="OpCodeID"/>
         </unique>
      </keys>
      <relations>
         <relation src="GroupID" table="WatsonGroup" column="ID" type="cascade"/>
         <relation src="OpCodeID" table="OpCode" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonGroupReportSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="GroupID" type="int" required="true"/>
         <column name="ReportID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="GroupID"/>
            <column name="ReportID"/>
         </unique>
      </keys>
      <relations>
         <relation src="GroupID" table="WatsonGroup" column="ID" type="cascade"/>
         <relation src="ReportID" table="WatsonReport" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonGroupRevenueCenterSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="GroupID" type="int" required="true"/>
         <column name="RevenueCenterID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="GroupID"/>
            <column name="RevenueCenterID"/>
         </unique>
      </keys>
      <relations>
         <relation src="GroupID" table="WatsonGroup" column="ID" type="cascade"/>
         <relation src="RevenueCenterID" table="RevenueCenter" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="WatsonGroupScheduleGroupSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="GroupID" type="int" required="true"/>
         <column name="ScheduleGroupID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="GroupID"/>
            <column name="ScheduleGroupID"/>
         </unique>
      </keys>
      <relations>
         <relation src="GroupID" table="WatsonGroup" column="ID" type="cascade"/>
         <relation src="ScheduleGroupID" table="ScheduleGroup" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonGroupStandardSetSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="GroupID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="GroupID"/>
            <column name="StandardSetID"/>
         </unique>
      </keys>
      <relations>
         <relation src="GroupID" table="WatsonGroup" column="ID" type="cascade"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="WatsonLock" noExport="true" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="LockName" type="varchar" length="255" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="SessionID" type="varchar" length="255" required="true"/>
         <column name="LockTime" type="datetime" required="true"/>
         <column name="LockData" type="varchar" length="255"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="LockName"/>
            <column name="UserID"/>
            <column name="SessionID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonReport" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="OrderNo" type="short" required="true"/>
         <column name="Title" type="varchar" length="100" required="true"/>
         <column name="URL" type="varchar" length="255" required="true"/>
         <column name="IsReport" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="OrderNo"/>
         </unique>
         <unique>
            <column name="Title"/>
         </unique>
      </keys>
   </table>

   <table name="WatsonTask" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="TaskName" type="varchar" length="100" required="true"/>
         <column name="ReferenceDate" type="date" required="true"/>
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime"/>
         <column name="CompletedBy" type="int"/>
         <column name="Complete" type="boolean" required="true"/>
         <column name="TaskNotes" type="memo"/>
         <column name="StackTrace" type="memo"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="StartDateTime"/>
            <column name="ID"/>
         </unique>
         <index compress="true">
            <column name="PropertyID"/>
            <column name="TaskName"/>
            <column name="ReferenceDate"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="CompletedBy" table="WatsonUser" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="WatsonUser" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Name" type="varchar" length="254" required="true"/>
         <column name="PortalUserID" type="int"/>
         <column name="DefaultPropertyID" type="int"/>
         <column name="Flags" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="Name"/>
         </unique>
         <index>
            <column name="PortalUserID"/>
         </index>
      </keys>
      <relations>
         <relation src="DefaultPropertyID" table="Property" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="WatsonUserActionSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="SecurityCode" type="varchar" length="255" required="true"/>
         <column name="AccessCode" type="enum" length="1" required="true" enumType="AccessCodeType"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="PropertyID"/>
            <column name="SecurityCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonUserAuthorizationLevel" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="AuthorizationLevelType" type="enum" required="true" enumType="AuthorizationLevelType"/>
         <column name="Level" type="int" minValue="0" maxValue="255" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="PropertyID"/>
            <column name="AuthorizationLevelType"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonUserBudgetSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="BudgetLineID" type="int" required="true"/>
         <column name="AccessLevel" type="enum" length="1" required="true" enumType="AccessLevelType"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="BudgetLineID"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="BudgetLineID" table="BudgetLine" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonUserCorporateSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="SecurityCode" type="varchar" length="255" required="true"/>
         <column name="AccessCode" type="enum" length="1" required="true" enumType="AccessCodeType"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="SecurityCode"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonUserEarningTypeSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="EarningTypeID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="EarningTypeID"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="EarningTypeID" table="EarningType" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="WatsonUserGroup" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="GroupID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="GroupID"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="GroupID" table="WatsonGroup" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonUserKBISecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="KBIID"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="WatsonUserLaborSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="DivisionID" type="int"/>
         <column name="DepartmentID" type="int"/>
         <column name="JobclassID" type="int"/>
         <column name="Schedules" type="boolean" required="true"/>
         <column name="Notifications" type="boolean" required="true"/>
         <column name="Reports" type="boolean" required="true"/>
         <column name="Configuration" type="boolean" required="true"/>
         <column name="Approval" type="boolean" required="true"/>
         <column name="ModifyScheduleState" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="UserID"/>
            <column name="PropertyID"/>
            <column name="DivisionID"/>
            <column name="DepartmentID"/>
            <column name="JobclassID"/>
         </index>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="DivisionID" table="Assignment" column="ID" type="cascade"/>
         <relation src="DepartmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="JobclassID" table="Assignment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonUserMarketGroupSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="MarketGroupID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="MarketGroupID"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="MarketGroupID" table="MarketGroup" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="WatsonUserOpCodeSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="OpCodeID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="OpCodeID"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="OpCodeID" table="OpCode" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonUserPropertySecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="IsAdmin" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="PropertyID"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonUserReportSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="ReportID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="ReportID"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="ReportID" table="WatsonReport" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WatsonUserRevenueCenterSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="RevenueCenterID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="RevenueCenterID"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade"/>
         <relation src="RevenueCenterID" table="RevenueCenter" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="WatsonUserScheduleGroupSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="ScheduleGroupID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="ScheduleGroupID"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="ScheduleGroupID" table="ScheduleGroup" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="WatsonUserStandardSetSecurity" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="UserID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="HasAccess" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="UserID"/>
            <column name="StandardSetID"/>
         </unique>
      </keys>
      <relations>
         <relation src="UserID" table="WatsonUser" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="MasterBudgetLine" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ParentLineID" type="int"/>
         <column name="Description" type="varchar" length="50" required="true"/>
         <column name="OrderNo" type="short" required="true"/>
         <column name="PercentLineID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="ParentLineID"/>
            <column name="Description"/>
         </unique>
         <unique>
            <column name="ParentLineID"/>
            <column name="OrderNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="ParentLineID" table="MasterBudgetLine" column="ID" type="cascade"/>
         <relation src="PercentLineID" table="MasterBudgetLine" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="Attribute">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="AttributeType" type="enum" length="3" required="true" enumType="AttributeType"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
            <column name="AttributeType"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="Attribute" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="ChangedEventOrdersWidgetSummary">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="SummarizedDate" type="date" required="true"/>
         <column name="AssignmentID" type="int"/>
         <column name="WorkDate" type="date"/>
         <column name="EventOrderID" type="int" required="true"/>
         <column name="TotalSetupTeardownWorkContentHours" type="decimal" length="9" scale="2" required="true"/>
         <column name="TotalServiceWorkContentHours" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="SummarizedDate"/>
            <column name="AssignmentID"/>
            <column name="WorkDate"/>
            <column name="EventOrderID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EventOrderID" table="EventOrder" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
      </relations>
   </table>

   <!-- This table holds the basic information about about a client's entire series of events on a single trip to the
        hotel or convention center. There could be several events occurring during this time, which is typically
        anywhere from 1 day to 1 or 2 weeks. All BEOs will have booking information detailing the client and their
        duration of stay -->

   <table name="EventBooking" data="true" exportDataColumn="StartDateTime">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="100" required="true"/>
         <column name="ClientName" type="varchar" length="100"/>

         <!-- not sure why these are here if the raw data does not contain them -->
         <!-- Answer: The raw data contains the BookingID (GroupID) and the ClientID will be added to it -->
         <column name="EMSBookingID" type="varchar" length="25"/>
         <column name="EMSClientID" type="int"/>

         <column name="Abbrev" type="varchar" length="20"/>
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
         <column name="EmployeeID1" type="int"/>
         <column name="EMSEmployeeName1" type="varchar" length="100"/>
         <column name="EmployeeID2" type="int"/>
         <column name="EMSEmployeeName2" type="varchar" length="100"/>
         <column name="EmployeeID3" type="int"/>
         <column name="EMSEmployeeName3" type="varchar" length="100"/>
         <column name="InHouse" type="boolean" required="true"/>
         <column name="EMSCreatedOnDateTime" type="datetime" required="true"/>
         <column name="CreatedOnDateTime" type="datetime" required="true"/>
         <column name="ChangedOnDateTime" type="datetime" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="StartDateTime"/>
            <column name="EMSBookingID"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="PropertyID"/>
            <column name="EMSBookingID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="EmployeeID1" table="Employee" column="ID" type="setnull"/>
         <relation src="EmployeeID2" table="Employee" column="ID" type="setnull"/>
         <relation src="EmployeeID3" table="Employee" column="ID" type="setnull"/>
      </relations>
   </table>

   <!-- Contains the Events around which resources and functions will be created. Examples of Events on a single Event Order
        might be an 8am to 5pm meeting with another Event that is a 12pm to 1pm lunch (same room
        or another). Each function can have notes associated with setup/teardown, beverage, menus, etc that are parsed
        during the import to add the appropriate resources and tasks to the EventResource and
        EventTask tables -->
   <table name="Event" data="true" exportDataColumn="EventOrderID">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="EventOrderID" type="int" required="true"/>
         <column name="EMSEventID" type="varchar" length="25"/>
         <column name="Name" type="varchar" length="100" required="true"/>
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
         <column name="ThemeID" type="int"/>
         <column name="StyleID" type="int"/>
         <column name="RoomID" type="int"/>
         <column name="PlannedGuests" type="int" required="true"/>
         <column name="GuaranteedGuests" type="int" required="true"/>
         <column name="SetGuests" type="int"/>
         <column name="NetSetGuests" type="int" required="true"/>
         <column name="ActualGuests" type="int" required="true"/>
         <column name="EstFoodRevenue" type="decimal" length="19" scale="4" required="true"/>
         <column name="EstBeverageRevenue" type="decimal" length="19" scale="4" required="true"/>
         <column name="EstResourceRevenue" type="decimal" length="19" scale="4" required="true"/>
         <column name="EstRoomRevenue" type="decimal" length="19" scale="4" required="true"/>
         <column name="EstAVRevenue" type="decimal" length="19" scale="4" required="true"/>
         <column name="EstOtherRevenue" type="decimal" length="19" scale="4" required="true"/>
         <column name="ActFoodRevenue" type="decimal" length="19" scale="4" required="true"/>
         <column name="ActBeverageRevenue" type="decimal" length="19" scale="4" required="true"/>
         <column name="ActResourceRevenue" type="decimal" length="19" scale="4" required="true"/>
         <column name="ActRoomRevenue" type="decimal" length="19" scale="4" required="true"/>
         <column name="ActAVRevenue" type="decimal" length="19" scale="4" required="true"/>
         <column name="ActOtherRevenue" type="decimal" length="19" scale="4" required="true"/>
         <column name="RecurringEvent" type="boolean" required="true"/>
         <column name="NumberGuestRooms" type="int" required="true"/>
         <column name="Ignore" type="boolean" required="true"/>
         <column name="FunctionDescription" type="memo"/>
         <column name="AVNote" type="memo"/>
         <column name="SetupNote" type="memo"/>
         <column name="BeverageNote" type="memo"/>
         <column name="MenuNote" type="memo"/>
         <column name="OtherNote" type="memo"/>
         <column name="EMSCreatedOnDateTime" type="datetime" required="true"/>
         <column name="CreatedOnDateTime" type="datetime" required="true"/>
         <column name="ChangedOnDateTime" type="datetime" required="true"/>
         <column name="VirtualEventID" type="int" required="false"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="EventOrderID"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="EventOrderID"/>
         </index>
         <index>
            <column name="VirtualEventID"/>
         </index>
      </keys>
      <relations>
         <relation src="EventOrderID" table="EventOrder" column="ID" type="cascade"/>
         <relation src="VirtualEventID" table="VirtualEvent" column="ID" type="setnull"/>
         <relation src="StyleID" table="Style" column="ID" type="setnull"/>
         <relation src="RoomID" table="Room" column="ID" type="setnull"/>
         <relation src="ThemeID" table="Theme" column="ID" type="setnull"/>
      </relations>
   </table>

   <!-- Contains the functions around which tasks and setup/teardown assignments will be created. Example of a function
        on a single Event might be a 12pm to 1pm lunch.
        Each function can have tasks associated with setup/teardown, beverage, menus, etc that are parsed
        during the import to add the appropriate tasks to the EventTask table -->
   <table name="EventFunction" data="true" exportDataColumn="EventID">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EventID" type="int" required="true"/>
         <column name="FunctionID" type="int"/>
         <column name="Source" type="enum" length="1" required="true" enumType="EventFunctionSourceType"/>
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EventID"/>
         </index>
      </keys>
      <relations>
         <relation src="EventID" table="Event" column="ID" type="cascade"/>
         <relation src="FunctionID" table="Functions" column="ID" type="enforce"/>
      </relations>
   </table>

   <!-- Holds the resources that will be setup in an Event (e.g. chairs, tables, etc.). A resource can be recognized
        or added in or more of the following fashions:
            1. On import directly from Notes
            2. During the auto-resource calculation based on setup styles, room, theme, or Function
            3. Manually changed, added, or ignored by the reviewer.

        It is useful to know how many came from each method, hence the reason for the multiple quantities below. The
        user can adjust the quantity, and the adjustment would be placed in the ManualQuantity Field. -->
   <table name="EventResource" data="true" exportDataColumn="EventID">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EventID" type="int" required="true"/>
         <column name="Ignore" type="boolean" required="true"/>
         <column name="ResourceID" type="int" required="true"/>
         <column name="ImportQuantity" type="int" required="true"/>
         <column name="StyleQuantity" type="int" required="true"/>
         <column name="ThemeQuantity" type="int" required="true"/>
         <column name="FunctionQuantity" type="int" required="true"/>
         <column name="ManualQuantity" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EventID"/>
            <column name="ResourceID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EventID" table="Event" column="ID" type="cascade"/>
         <relation src="ResourceID" table="Resource" column="ID" type="cascade"/>
      </relations>
   </table>

   <!-- Holds tasks that are either added automatically based on the function type, theme, notes, or room or are added
        manually by the user. We need to define a dynamically added task when we design the task table so that the user
        can add something on demand, such as Hang Signs or whatever -->
   <table name="EventTask" data="true" exportDataColumn="EventID">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EventID" type="int" required="true"/>
         <column name="Source" type="enum" length="1" required="true" enumType="EventTaskSourceType"/>
         <column name="Ignore" type="boolean" required="true"/>
         <column name="TaskStandardID" type="int" required="true"/>
         <column name="IncludeInMultiEventTasks" type="boolean"/>
         <column name="LinkedEventTaskID" type="int"/>
         <column name="IgnoreEventTaskLink" type="boolean"/>
         <column name="ManualLink" type="boolean" required="true"/>
         <column name="OverrideShifts" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EventID"/>
            <column name="TaskStandardID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EventID" table="Event" column="ID" type="cascade"/>
         <relation src="LinkedEventTaskID" table="EventTask" column="ID" type="setnull"/>
         <relation src="TaskStandardID" table="TaskStandard" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EventAudit" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="EventBookingID" type="int" required="true"/>
         <column name="EventOrderID" type="int"/>
         <column name="EventFunctionID" type="int"/>
         <column name="EventTaskID" type="int"/>
         <column name="EventResourceID" type="int"/>
         <column name="Type" type="char" length="1" required="true"/>
         <column name="ResourceKey" type="varchar" length="255"/>
         <column name="ResourceParams" type="memo"/>
         <column name="ChangedOnDateTime" type="datetime" required="true"/>
         <column name="ChangedByUserID" type="int"/>
         <column name="PropertyName" type="varchar" length="100"/>
         <column name="OldValue" type="memo"/>
         <column name="NewValue" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EventBookingID"/>
         </index>
         <index>
            <column name="EventOrderID"/>
         </index>
         <index>
            <column name="EventFunctionID"/>
         </index>
         <index>
            <column name="EventTaskID"/>
         </index>
         <index>
            <column name="EventResourceID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="EventBookingID" table="EventBooking" column="ID" type="cascade"/>
         <relation src="EventOrderID" table="EventOrder" column="ID" type="cascade"/>
         <relation src="EventFunctionID" table="EventFunction" column="ID" type="cascade"/>
         <relation src="EventTaskID" table="EventTask" column="ID" type="cascade"/>
         <relation src="EventResourceID" table="EventResource" column="ID" type="cascade"/>
         <relation src="ChangedByUserID" table="WatsonUser" column="ID" type="enforce"/>
      </relations>
   </table>

   <table name="EventExceptions" data="true" exportDataColumn="EventOrderID">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int"/>
         <column name="EventOrderID" type="int" required="true"/>
         <column name="EventID" type="int" required="true"/>
         <column name="EventExceptionType" type="enum" length="3" required="true" enumType="EventExceptionType"/>
         <column name="CreatedOnDateTime" type="datetime" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EventOrderID"/>
         </index>
         <index>
            <column name="EventID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="EventOrderID" table="EventOrder" column="ID" type="cascade"/>
         <relation src="EventID" table="Event" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EventExceptionsLink" data="true">
      <columns>
         <column name="EventExceptions1" type="int" required="true"/>
         <column name="EventExceptions2" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="EventExceptions1"/>
            <column name="EventExceptions2"/>
         </primary>
      </keys>
      <relations>
         <relation src="EventExceptions1" table="EventExceptions" column="ID" type="cascade"/>
         <relation src="EventExceptions2" table="EventExceptions" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EventActiveExceptions" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int"/>
         <column name="EventExceptionType" type="enum" length="3" required="true" enumType="EventExceptionType"/>
         <column name="RunPostImport" type="char" length="1"/>
         <column name="RunPreSchedule" type="char" length="1"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <!-- This table maintains a log of all imports that have been performed, whether manually by a user or through an
        automated process. The child table (EventImportHistoryDetail) contains the specific BEOs that were imported
        and what their resolution was (i.e. Added, Update, Ignored, etc.). This table is used for troubleshooting only
        and should be automatically purged after a month or two. The process used to log to this table should probably
        be the one responsible for the purging to make things easy. -->
   <!-- THIS TABLE PROBABLY GETS REMOVED AND REPLACED BY SOMETHING IN CONNECT -->
   <table name="EventImportHistory" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ImportDateTime" type="datetime" required="true"/>
         <column name="ImportByID" type="int"/>
         <!-- A null value indicates an automated import occurred -->
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="ImportDateTime"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ImportByID" table="WatsonUser" column="ID" type="enforce"/>
      </relations>
   </table>

   <!-- Refer to notes above on EventImportHistory table -->
   <!-- THIS TABLE PROBABLY GETS REMOVED AND REPLACED BY SOMETHING IN CONNECT -->
   <table name="EventImportHistoryDetail" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ImportHistoryID" type="int" required="true"/>
         <column name="EventOrderID" type="int" required="true"/>
         <column name="ImportResolution" type="enum" length="1" required="true" enumType="ImportResolution"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="ImportHistoryID"/>
            <column name="EventOrderID"/>
         </unique>
         <index>
            <column name="ImportHistoryID"/>
         </index>
      </keys>
      <relations>
         <relation src="ImportHistoryID" table="EventImportHistory" column="ID" type="enforce"/>
         <relation src="EventOrderID" table="EventOrder" column="ID" type="cascade"/>
      </relations>
   </table>

   <!-- The Event Staging History table is a log of all transfers from the Event Management System (EMS) to the staging
        tables to be imported. Maintains a date range that is used to verify that the range being imported into the
        actual event tables has actually been fully transferred. This is important as the non-existence of an event
        in the staging tables is assumed to be a deletion or cancellation, which could be disastrous if the user
        importing the events accidentally chose an incorrect date range. It is also handy to know who is doing the
        imports so whatever form of identification is available (i.e. Windows user name or IP address for example)
        will be tracked. -->
   <!-- THIS TABLE PROBABLY GETS REMOVED AND REPLACED BY SOMETHING IN CONNECT -->
   <table name="EventStagingHistory" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="RangeStartDate" type="datetime" required="true"/>
         <column name="RangeEndDate" type="datetime" required="true"/>
         <column name="DateImported" type="datetime" required="true"/>
         <column name="ImportedBy" type="varchar" length="100" required="true"/>
         <column name="ImportedByIPAddress" type="varchar" length="40" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="PropertyID"/>
            <column name="DateImported"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <!-- The Event Booking Staging table holds raw data exported from the various EMS's bookings and are placed here
        temporarily to be parsed into actual booings -->
   <table name="EventBookingStaging" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="EMSBookingID" type="varchar" length="25"/>
         <column name="EMSClientID" type="int"/>
         <column name="Name" type="varchar" length="100" required="true"/>
         <column name="Abbrev" type="varchar" length="20"/>
         <column name="ClientName" type="varchar" length="100"/>
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
         <column name="EmployeeName1" type="varchar" length="100"/>
         <column name="EmployeeName2" type="varchar" length="100"/>
         <column name="EmployeeName3" type="varchar" length="100"/>
         <column name="EmployeeID1" type="int"/>
         <column name="EmployeeID2" type="int"/>
         <column name="EmployeeID3" type="int"/>
         <column name="EMSCreatedOnDateTime" type="datetime" required="true"/>
         <column name="BatchCreatedOnDateTime" type="datetime" required="true"/>
         <column name="Imported" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="EmployeeID1" table="Employee" column="ID" type="setnull"/>
         <relation src="EmployeeID2" table="Employee" column="ID" type="setnull"/>
         <relation src="EmployeeID3" table="Employee" column="ID" type="setnull"/>
      </relations>
   </table>

   <!-- The Event Order Staging table holds the raw data exported from the various EO's within a booking and are
        placed here temporarily to be parsed into actual events -->
   <table name="EventOrderStaging" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="EMSInternalID" type="varchar" length="25" required="true"/>
         <column name="EventOrderNumber" type="int"/>
         <column name="Name" type="varchar" length="100"/>
         <column name="ClientName" type="varchar" length="100"/>
         <column name="EventStatusID" type="int" required="true"/>
         <column name="EMSCreatedOnDateTime" type="datetime" required="true"/>
         <column name="EventBookingStagingID" type="int" required="true"/>
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
         <column name="ThemeName" type="varchar" length="100"/>

         <!-- this data seems pointless in the staging process -->
         <!--column name="BookingName" type="varchar" length="100" required="true"/>
         <column name="StatusName" type="varchar" length="100"-->
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="EMSInternalID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EventBookingStagingID" table="EventBookingStaging" column="ID" type="cascade"/>
         <relation src="EventStatusID" table="EventStatus" column="ID" type="cascade"/>
      </relations>
   </table>
   <!-- The Event Function Staging holds the raw data exported from the various functions (or events as they are
        sometimes referred to as) within a BEO and are placed here temporarily to be parsed into actual functions -->
   <table name="EventStaging" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EventOrderStagingID" type="int" required="true"/>
         <column name="EMSFunctionID" type="varchar" length="25"/>
         <column name="Name" type="varchar" length="100" required="true"/>
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
         <column name="ThemeID" type="int"/>
         <column name="StyleID" type="int"/>
         <column name="RoomID" type="int"/>
         <column name="PlannedGuests" type="int" required="true"/>
         <column name="GuaranteedGuests" type="int"/>
         <column name="SetGuests" type="int"/>
         <column name="NetSetGuests" type="int" required="true"/>
         <column name="ActualGuests" type="int"/>
         <column name="EstFoodRevenue" type="decimal" length="19" scale="4"/>
         <column name="EstBeverageRevenue" type="decimal" length="19" scale="4"/>
         <column name="EstResourceRevenue" type="decimal" length="19" scale="4"/>
         <column name="EstRoomRevenue" type="decimal" length="19" scale="4"/>
         <column name="EstAVRevenue" type="decimal" length="19" scale="4"/>
         <column name="EstOtherRevenue" type="decimal" length="19" scale="4"/>
         <column name="ActFoodRevenue" type="decimal" length="19" scale="4"/>
         <column name="ActBeverageRevenue" type="decimal" length="19" scale="4"/>
         <column name="ActResourceRevenue" type="decimal" length="19" scale="4"/>
         <column name="ActRoomRevenue" type="decimal" length="19" scale="4"/>
         <column name="ActAVRevenue" type="decimal" length="19" scale="4"/>
         <column name="ActOtherRevenue" type="decimal" length="19" scale="4"/>
         <column name="FunctionDescription" type="memo"/>
         <column name="AVNote" type="memo"/>
         <column name="SetupNote" type="memo"/>
         <column name="BeverageNote" type="memo"/>
         <column name="MenuNote" type="memo"/>
         <column name="OtherNote" type="memo"/>
         <column name="EMSCreatedOnDateTime" type="datetime"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="EventOrderStagingID" table="EventOrderStaging" column="ID" type="cascade"/>
         <relation src="ThemeID" table="Theme" column="ID" type="cascade"/>
         <relation src="StyleID" table="Style" column="ID" type="cascade"/>
         <relation src="RoomID" table="Room" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EventFunctionStaging" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
         <column name="FunctionID" type="int" required="true"/>
         <column name="EventStagingID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="EventStagingID" table="EventStaging" column="ID" type="cascade"/>
         <relation src="FunctionID" table="Functions" column="ID" type="enforce"/>
      </relations>
   </table>

   <table name="EventResourceStaging" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ResourceLookupID" type="int" required="true"/>
         <column name="EventStagingID" type="int" required="true"/>
         <column name="Quantity" type="int" required="true"/>
         <column name="MatchedLine" type="memo" required="true"/>
         <column name="NoteType" type="enum" enumType="NoteType" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="ResourceLookupID" table="ResourceLookup" column="ID" type="enforce"/>
         <relation src="EventStagingID" table="EventStaging" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="VirtualEvent" data="true" exportDataColumn="StartDateTime">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
         <column name="RoomID" type="int" required="true"/>
         <column name="EventBookingID" type="int" required="true"/>
         <column name="Dirty" type="boolean" required="true" default="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="RoomID" table="Room" column="ID" type="cascade"/>
         <relation src="EventBookingID" table="EventBooking" column="ID" type="cascade"/>
      </relations>
   </table>

   <!-- The Event Order table is equivalent to a BEO. It is the shell that specifies an event or series of events,
        typically in one room or adjoining rooms and always for a single day. There is no rule in an Event management
        system as to what the relation of the functions within a BEO has to be, but generally the properties have
        ensured that it is serving either a single room or the same group of people who are potentially moving from
        general sessions to breakouts. There will be a 1 to 1 or more relationship between EventBooking and EventOrder -->
   <table name="EventOrder" data="true" exportDataColumn="EventBookingID">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="EventBookingID" type="int" required="true"/>
         <column name="EventOrderNumber" type="int"/>
         <column name="Name" type="varchar" length="100" required="true"/>
         <column name="StatusID" type="int" required="true"/>

         <!-- TODO: change to EventOrderType -->
         <column name="EventType" type="enum" length="1" required="true" enumType="EventType"/>
         <column name="StartDate" type="date" required="true"/>
         <!-- Only for convenience in queries -->
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
         <column name="EMSCreatedOnDateTime" type="datetime"/>
         <column name="CreatedOnDateTime" type="datetime" required="true"/>
         <column name="ChangedOnDateTime" type="datetime" required="true"/>
         <column name="EMSInternalID" type="varchar" length="25" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="EventType"/>
            <column name="StartDate"/>
            <column name="EMSInternalID"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="EventBookingID"/>
         </index>
         <index>
            <column name="PropertyID"/>
            <column name="EMSInternalID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="enforce"/>
         <relation src="EventBookingID" table="EventBooking" column="ID" type="cascade"/>
         <relation src="StatusID" table="EventStatus" column="ID" type="enforce"/>
      </relations>
   </table>

   <!-- This table contains the review status for each event. There will typically be 1 or 2 review stages at best
        and they must be able to be undone, removing the review state record. When a review status exists that has
        been marked in the definition table (EventReviewStage) as locking the import overwrite, any changes that
        would result to this event as a result of a later import must be reviewed and approved after import. If not,
        the entire event can be re-synced automatically -->
   <table name="EventOrderReview" data="true" exportDataColumn="EventOrderID">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EventOrderID" type="int" required="true"/>
         <column name="ReviewStageID" type="int" required="true"/>
         <column name="DateReviewed" type="datetime" required="true"/>
         <column name="ReviewedByID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="EventOrderID"/>
            <column name="ReviewStageID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EventOrderID" table="EventOrder" column="ID" type="cascade"/>
         <relation src="ReviewStageID" table="EventOrderReviewStage" column="ID" type="enforce"/>
         <relation src="ReviewedByID" table="WatsonUser" column="ID" type="enforce"/>
      </relations>
   </table>

   <!-- The Event Review Stage Definition table defines the checks that will be involved in the event review process.
        In the case where a single individual reviews all Events, there should only be one stage defined (probably
        called something like "Complete"). In the event where individual managers review their portions of the BEOs,
        as would be the case when there is a Banquet (Servers) Manager and a Houseman or Facilities Manager (setup
        and teardown), there might be two records named "Service Review Complete" and "Setup Review Complete" -->
   <table name="EventOrderReviewStage" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="WatsonUserID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="WatsonUserID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="WatsonUserID" table="WatsonUser" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="PlannedShiftEventOrder" data="true">
      <columns>
         <column name="PlannedShiftID" type="int" required="true"/>
         <column name="EventOrderID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="PlannedShiftID"/>
            <column name="EventOrderID"/>
         </primary>
      </keys>
      <relations>
         <relation src="PlannedShiftID" table="PlannedShift" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="EventOrderID" table="EventOrder" column="ID" type="cascade"/>
      </relations>
   </table>

   <!-- Event Status Definition table (e.g. Definite, Tentative, Pending, etc...). This table is populated with the
        exact definitions (name is used to match) as found in the Event Management System -->
   <table name="EventStatus" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="ImportEvents" type="boolean" required="true"/>
         <column name="DefaultStatus" type="boolean" required="true"/>
         <column name="IgnoreEventStatus" type="boolean" required="true"/>
         <column name="CreateLabor" type="boolean" required="true"/>
         <column name="ShowOnSchedule" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="EventStatus" column="ID" type="setnull"/>
      </relations>
   </table>

   <!-- Not fully thought out yet, but the next two tables (EventTipPool and EventTipPoolFunction) are intended to
        hold calculations for estimated tips to be used in determining scheduling orders (San Francisco, for example,
        has a very rigid union requirement for this). When a function is created that requires tips (has not been
        added to Functions table yet) a record will be inserted in EventTipPool using some combination of the BEO #
        and function name as the tip pool name. A record will then be added to the EventTipPoolFunction table with
        a reference to the FunctionID. So...by default, all events imported will have an EventTipPool record and a
        matching EventTipPoolFunction record. Based on certain rules, we may automatically (or the user may manually)
        put two functions into one tip pool in certain scenarios, the most prevalent of which would be a dinner and
        a reception, where the same people work the functions but, based on property requirements, may or may not
        share the tips equally. For example, If I have a need for 2 Reception Servers and 5 dinner servers, I will
        likely have the 2 reception servers roll over into dinner servers. They might get to split the reception
        tips amongst themselves and then share the dinner tips with the other 3 servers.

        We could automatically convert these to tip pools during some process that occurs after actuals are imported
        in which case we would also have actual revenues and could convert the tips fairly accurately (because we also
        know which employees worked the functions).  If it is determined at some point that this table needs to be exported,
        then we can remove the no export flag but we need to ensure that there is a path to the primary table (i.e. Property)
        through the relations.-->
   <table name="EventTipPool" data="true" exportDataColumn="TipPoolDate" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="TipPoolDate" type="datetime" required="true"/>
         <column name="EstimatedTips" type="decimal" length="19" scale="4" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
   </table>

   <!-- See comments with EventTipPool table above -->
   <table name="EventTipPoolFunction" data="true" exportDataColumn="EventFunctionID" noExport="true">
      <columns>
         <column name="EventTipPoolID" type="int" required="true"/>
         <column name="EventFunctionID" type="int" required="true"/>
         <column name="EstimatedTips" type="decimal" length="19" scale="4" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="EventTipPoolID"/>
            <column name="EventFunctionID"/>
         </primary>
      </keys>
      <relations>
         <relation src="EventTipPoolID" table="EventTipPool" column="ID" type="cascade"/>
         <relation src="EventFunctionID" table="EventFunction" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="FunctionAttribute">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="FunctionID" type="int" required="true"/>
         <column name="AttributeID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="FunctionID"/>
            <column name="AttributeID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="FunctionID" table="Functions" column="ID" type="cascade"/>
         <relation src="AttributeID" table="Attribute" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="FunctionAttribute" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="FunctionLookup">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="FunctionID" type="int" required="true"/>
         <column name="ImportLookupDefID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="FunctionID"/>
            <column name="ImportLookupDefID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="FunctionID" table="Functions" column="ID" type="cascade"/>
         <relation src="ImportLookupDefID" table="ImportLookupDef" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="FunctionLookup" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="FunctionResource">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="FunctionID" type="int" required="true"/>
         <column name="ResourceID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="Quantity" type="int"/>
         <column name="MinQuantity" type="int"/>
         <column name="Increment" type="int"/>
         <column name="Capacity" type="decimal" length="9" scale="2"/>
         <column name="MinGuests" type="int" required="true"/>
         <column name="MaxGuests" type="int" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="FunctionID"/>
            <column name="ResourceID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="FunctionID" table="Functions" column="ID" type="cascade"/>
         <relation src="ResourceID" table="Resource" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="FunctionResource" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="FunctionResourceAttribute">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="FunctionResourceID" type="int" required="true"/>
         <column name="AttributeID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="AddWhenAttributePresent" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="FunctionResourceID"/>
            <column name="AttributeID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="FunctionResourceID" table="FunctionResource" column="ID" type="cascade"/>
         <relation src="AttributeID" table="Attribute" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="FunctionResourceAttribute" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="Functions">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Abbrev" type="varchar" length="10" required="true"/>
         <column name="FunctionType" type="enum" length="1" required="true" enumType="FunctionType"/>
         <column name="CoversApply" type="boolean" required="true"/>
         <column name="UnknownFunction" type="boolean" required="true"/>
         <column name="IncludeOnDaily" type="boolean" required="true"/>
         <column name="ForceStartTime" type="boolean" required="true"/>
         <column name="StartTimeType" type="enum" length="1" required="true" enumType="FunctionStartTimeType"/>
         <column name="SpecificStartTime" type="time" length="5"/>
         <column name="MinutesAfterStart" type="int"/>
         <column name="MinutesBeforeEnd" type="int"/>
         <column name="TimeBlockID" type="int"/>
         <column name="NoLessThanMinutes" type="int"/>
         <column name="ForceEndTime" type="boolean" required="true"/>
         <column name="EndTimeType" type="enum" length="1" required="true" enumType="FunctionEndTimeType"/>
         <column name="SpecificEndTime" type="time" length="5"/>
         <column name="ETMinutesAfterStart" type="int"/>
         <column name="ETMinutesBeforeEnd" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="TimeBlockID" table="TimeBlock" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="Functions" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="FunctionTask">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="FunctionID" type="int" required="true"/>
         <column name="TaskStandardID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="FunctionID"/>
            <column name="TaskStandardID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="FunctionID" table="Functions" column="ID" type="cascade"/>
         <relation src="TaskStandardID" table="TaskStandard" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="FunctionTask" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ImportLookupDef">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>

         <!-- remove this, do we need an enum for filtering by type? -->
         <column name="Name" type="varchar" length="50" required="true"/>

         <!-- comma separated list of things to search for (CHANGE TO MAX) -->
         <column name="LookFor" type="varchar" length="255" required="true"/>
         <column name="InAnyOrder" type="boolean" required="true"/>
         <column name="RequireAll" type="boolean" required="true"/>

         <!-- where to search for the text -->
         <column name="LookInFunctionDescription" type="boolean" required="true"/>
         <column name="LookInSetupNotes" type="boolean" required="true"/>
         <column name="LookInOtherNotes" type="boolean" required="true"/>
         <column name="LookInAVNotes" type="boolean" required="true"/>
         <column name="LookInMenuNames" type="boolean" required="true"/>
         <column name="LookInMenuItems" type="boolean" required="true"/>

         <column name="VerifiableQuantity" type="boolean" required="true"/>
         <column name="VerifiableQuantityBOL" type="boolean" required="true"/>
         <column name="ExcludeSymbols" type="varchar" length="100"/>
         <column name="VerifiableDimension" type="boolean" required="true"/>
         <column name="VerifiableDimensionBOL" type="boolean" required="true"/>
         <column name="DimExcludeSymbols" type="varchar" length="100"/>
         <column name="VerifiableTime" type="boolean" required="true"/>
         <column name="VerifiableTimeBOL" type="boolean" required="true"/>
         <column name="VerifiableTimeRange" type="boolean" required="true"/>
         <column name="VerifiableTimeRangeBOL" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="ImportLookupDef" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="Intersection">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int"/>
         <column name="Name" type="varchar" length="50"/>
         <column name="RoomID" type="int"/>
         <column name="TravelThrough" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="PropertyID"/>
            <column name="Name"/>
         </index>
         <index>
            <column name="RoomID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="RoomID" table="Room" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="IntersectionDistance">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="FromIntersectionID" type="int" required="true"/>
         <column name="ToIntersectionID" type="int" required="true"/>
         <column name="Distance" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="FromIntersectionID"/>
            <column name="ToIntersectionID"/>
         </unique>
      </keys>
      <relations>
         <relation src="FromIntersectionID" table="Intersection" column="ID" type="cascade"/>
         <relation src="ToIntersectionID" table="Intersection" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="NetChangedWidgetCoverageSummary">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="SummarizedDate" type="date" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="WorkDate" type="date" required="true"/>
         <column name="DistributedSetupTeardownWorkContentHours" type="decimal" length="9" scale="2" required="true"/>
         <column name="UndistributedSetupTeardownWorkContentHours" type="decimal" length="9" scale="2" required="true"/>
         <column name="DistributedServiceWorkContentHours" type="decimal" length="9" scale="2" required="true"/>
         <column name="UndistributedServiceWorkContentHours" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="SummarizedDate"/>
            <column name="AssignmentID"/>
            <column name="WorkDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="NetChangedWidgetLaborSummary">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="SummarizedDate" type="date" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="WorkDate" type="date" required="true"/>
         <column name="TotalSetupTeardownPlannedShiftHours" type="decimal" length="9" scale="2" required="true"/>
         <column name="TotalServicePlannedShiftHours" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="SummarizedDate"/>
            <column name="AssignmentID"/>
            <column name="WorkDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="NewEventOrdersWidgetSummary">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="SummarizedDate" type="date" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="WorkDate" type="date" required="true"/>
         <column name="EventOrderID" type="int" required="true"/>
         <column name="TotalSetupTeardownWorkContentHours" type="decimal" length="9" scale="2" required="true"/>
         <column name="TotalServiceWorkContentHours" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="SummarizedDate"/>
            <column name="AssignmentID"/>
            <column name="WorkDate"/>
            <column name="EventOrderID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="EventOrderID" table="EventOrder" column="ID" type="cascade"/>
      </relations>
   </table>

   <!-- The resource table contains both the master resource records and the property-selected records. ALL resources
        must contain a master (even those being added that appear to be custom to a specific property). By adding a
        record for the property, which creates only the Resource record (not the additional ResourceParameter,
        ResourceAttribute, etc. records), it is making that resource available. If the resource is available to the
        property, it can then have all parameters overridden, such as setup timings and display name -->
   <table name="Resource">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="Active" type="boolean" required="true"/>
         <column name="ResourceCategoryID" type="int" required="true"/>
         <column name="SetupGroupID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="StorageToRoom" type="boolean" required="true"/>
         <column name="RoomToStorage" type="boolean" required="true"/>
         <column name="ForceTeardown" type="boolean" required="true"/>
         <column name="OnlyImportIfSole" type="boolean" required="true" default="false"/>
         <column name="IncludeOnEquipmentReport" type="boolean" required="true"/>
         <column name="IncludeOnLocationReport" type="boolean" required="true"/>
         <column name="MoveBetweenRooms" type="boolean" required="true"/>
         <column name="IncludeOnWorkflow" type="boolean" required="true"/>
         <column name="HasDimension" type="boolean" required="true"/>
         <!-- Indicates that the resource is a dimension-driven resource, such as a stage or dance floor (e.g. 6'x8' Stage)
              and that upon identification of the resource on import, the number of units will attempt to be determined
              by the dimensions found in the imported notes (or whatever). The units below will be used to determine
              the conversion. For example, if First and Second Dimensions are 4 and 8 respectively, and a measurement
              such as 16 x 24 x 18 is encountered, the first two elements will be converted from 16 and 32 to 4 and 3
              respectively and then multiplied against each other to arrive at the total number of units for the
              resource, which would be 4 x 3 = 12 in the example. The stage resource package would include a resource
              of "Stage Piece" that would have the Quantity and PerUnit set to 1, meaning add 1 resource for every
              1 unit calculated, meaning 12. It might include another resource called a stage skirt that has Quantity
              and PerUnit set to 1 and 3, meaning add 1 skirt per 3 stage pieces. -->
         <column name="FirstDimensionUnits" type="decimal" length="9" scale="2" required="true"/>
         <column name="SecondDimensionUnits" type="decimal" length="9" scale="2" required="true"/>
         <!-- remove the PrepMinutes column -->
         <column name="PrepMinutes" type="decimal" length="9" scale="4" required="true"/>
         <column name="TransPrepMinutes" type="decimal" length="9" scale="4" required="true"/>
         <column name="SetupMinutes" type="decimal" length="9" scale="4" required="true"/>
         <column name="TeardownMinutes" type="decimal" length="9" scale="4" required="true"/>
         <column name="CleanMinutes" type="decimal" length="9" scale="4" required="true"/>
         <column name="RefreshMinutes" type="decimal" length="9" scale="4" required="true"/>
         <column name="NumberEmployees" type="int" required="true"/>
         <!-- A number between 1 and 100 indicating the overall popularity of this resource against others. The most popular resource will always be 100 -->
         <column name="popularity" type="int" required="true" minValue="0" maxValue="100"/>
         <column name="Volume" type="decimal" length="9" scale="2" required="true" default="0.0"/>
         <column name="HandCarryTransportInMinutes" type="decimal" length="9" scale="4" required="true" default="0.0"/>
         <column name="HandCarryTransportQuantity" type="int" required="true" default="0"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ResourceCategoryID" table="ResourceCategory" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="Resource" column="ID" type="setnull"/>
         <relation src="SetupGroupID" table="SetupGroup" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ResourceAllowedTransport">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ResourceID" type="int" required="true"/>
         <column name="ResourceTransportID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="PrimaryTransport" type="boolean" required="true"/>
         <column name="FromCount" type="int" required="true"/>
         <column name="ToCount" type="int" required="true"/>
         <column name="MinDistance" type="decimal" length="9" scale="2" required="true"/>
         <column name="MaxDistance" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="ResourceID"/>
            <column name="ResourceTransportID"/>
            <column name="FromCount"/>
            <column name="MinDistance"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="ResourceID" table="Resource" column="ID" type="cascade"/>
         <relation src="ResourceTransportID" table="ResourceTransport" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="ResourceAllowedTransport" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ResourceAttribute">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ResourceID" type="int" required="true"/>
         <column name="AttributeID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="ResourceID"/>
            <column name="AttributeID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="ResourceID" table="Resource" column="ID" type="cascade"/>
         <relation src="AttributeID" table="Attribute" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="ResourceAttribute" column="ID" type="cascade"/>
      </relations>
   </table>

   <!-- Capacity override is unique in that it can be overridden on a resource/setup style combination, meaning it is
        actually merging property level overrides into the master set to attain the full set of capacity records -->
   <table name="ResourceCapacity">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ResourceID" type="int" required="true"/>
         <column name="StyleID" type="int" required="true"/>
         <column name="Capacity" type="decimal" length="9" scale="2" required="true"/>
         <column name="MinQuantity" type="int" required="true"/>
         <column name="Increment" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="ResourceID"/>
            <column name="StyleID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="ResourceID" table="Resource" column="ID" type="cascade"/>
         <relation src="StyleID" table="Style" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="ResourceCapacity" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ResourceCategory">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="Name" type="varchar" length="50" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="ResourceCategory" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="ResourceLookup">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ResourceID" type="int" required="true"/>
         <column name="ImportLookupDefID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="ResourceID"/>
            <column name="ImportLookupDefID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="ResourceID" table="Resource" column="ID" type="cascade"/>
         <relation src="ImportLookupDefID" table="ImportLookupDef" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="ResourceLookup" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ResourcePackage">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ResourceID" type="int" required="true"/>
         <column name="ChildResourceID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="Quantity" type="int" required="true"/>
         <column name="PerUnit" type="int" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="ResourceID"/>
            <column name="ChildResourceID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="ResourceID" table="Resource" column="ID" type="cascade"/>
         <relation src="ChildResourceID" table="Resource" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="ResourcePackage" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ResourceStorageRoom">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ResourceID" type="int" required="true"/>
         <column name="RoomID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="ResourceID"/>
            <column name="RoomID"/>
         </unique>
      </keys>
      <relations>
         <relation src="ResourceID" table="Resource" column="ID" type="cascade"/>
         <relation src="RoomID" table="Room" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ResourceTransport">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="PrepMinutes" type="decimal" length="9" scale="2" required="true"/>
         <column name="NoLoadTransportMinutes" type="decimal" length="9" scale="2" required="true"/>
         <column name="FullLoadTransportMinutes" type="decimal" length="9" scale="2" required="true"/>
         <column name="Volume" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="ResourceTransport" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="Room">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Abbrev" type="varchar" length="10" required="true"/>
         <column name="RoomGroupID" type="int" required="true"/>
         <column name="StyleID" type="int"/>
         <column name="SortOrder" type="int" required="true"/>
         <column name="RoomRestrictionID" type="int"/>
         <column name="MultiRoom" type="boolean" required="true"/>
         <column name="DistanceBetweenRooms" type="decimal" length="9" scale="2" required="true"/>
         <column name="StorageRoom" type="boolean" required="true"/>
         <column name="ComboRoom" type="boolean" required="true"/>
         <column name="AllowOverlap" type="boolean" required="true"/>
         <column name="AllowStaging" type="boolean" required="true"/>
         <column name="Offsite" type="boolean" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RoomGroupID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="RoomGroupID" table="RoomGroup" column="ID" type="cascade"/>
         <relation src="StyleID" table="Style" column="ID" type="cascade"/>
         <relation src="RoomRestrictionID" table="RoomRestriction" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RoomAttribute">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RoomID" type="int" required="true"/>
         <column name="AttributeID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RoomID"/>
            <column name="AttributeID"/>
         </unique>
      </keys>
      <relations>
         <relation src="RoomID" table="Room" column="ID" type="cascade"/>
         <relation src="AttributeID" table="Attribute" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RoomDistance">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="FromRoomID" type="int" required="true"/>
         <column name="ToRoomID" type="int" required="true"/>
         <column name="DistanceFactor" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="FromRoomID"/>
            <column name="ToRoomID"/>
         </unique>
         <index>
            <column name="PropertyID"/>
         </index>
      </keys>
      <relations>
         <relation src="FromRoomID" table="Room" column="ID" type="cascade"/>
         <relation src="ToRoomID" table="Room" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RoomExclusion">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RoomID" type="int" required="true"/>
         <column name="ExcludeRoomID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RoomID"/>
            <column name="ExcludeRoomID"/>
         </unique>
      </keys>
      <relations>
         <relation src="RoomID" table="Room" column="ID" type="cascade"/>
         <relation src="ExcludeRoomID" table="Room" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RoomGroup">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RoomPath">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="FromRoomID" type="int" required="true"/>
         <column name="ToRoomID" type="int" required="true"/>
         <column name="Sequence" type="int" required="true"/>
         <column name="IntersectionID" type="int" required="true"/>
         <column name="CumulativeDistance" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="FromRoomID"/>
            <column name="ToRoomID"/>
            <column name="Sequence"/>
         </unique>
      </keys>
      <relations>
         <relation src="FromRoomID" table="Room" column="ID" type="cascade"/>
         <relation src="ToRoomID" table="Room" column="ID" type="cascade"/>
         <relation src="IntersectionID" table="Intersection" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RoomResource">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RoomID" type="int" required="true"/>
         <column name="ResourceID" type="int" required="true"/>
         <column name="Quantity" type="int" required="true"/>
         <column name="RemoveIfNotRequired" type="boolean" required="true"/>
         <column name="RemoveToRoomID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="RoomID"/>
            <column name="ResourceID"/>
         </unique>
      </keys>
      <relations>
         <relation src="RoomID" table="Room" column="ID" type="cascade"/>
         <relation src="ResourceID" table="Resource" column="ID" type="cascade"/>
         <relation src="RemoveToRoomID" table="Room" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RoomRestriction">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="DefaultRestriction" type="boolean" required="true"/>
         <column name="AdvanceSetupHours" type="decimal" length="9" scale="2" required="true"/>
         <column name="CompleteSetupHours" type="decimal" length="9" scale="2" required="true"/>
         <column name="CompleteTeardownHours" type="decimal" length="9" scale="2" required="true"/>
         <column name="NoSetupStartTime" type="time"/>
         <column name="NoSetupEndTime" type="time"/>
         <column name="SetupPriorityID" type="int"/>
         <column name="TeardownPriorityID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="SetupPriorityID" table="TaskPriority" column="ID" type="cascade"/>
         <relation src="TeardownPriorityID" table="TaskPriority" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RoomRestStartTime">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RoomRestrictionID" type="int" required="true"/>
         <column name="MinGuests" type="int" required="true"/>
         <column name="MaxGuests" type="int" required="true"/>
         <column name="EventOn" type="time" required="true"/>
         <column name="EventBefore" type="time" required="true"/>
         <column name="AdvancedDays" type="int" required="true"/>
         <column name="StartTime" type="time" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="RoomRestrictionID" table="RoomRestriction" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="RoomRestTeardownDelay">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RoomRestrictionID" type="int" required="true"/>
         <column name="MinGuests" type="int" required="true"/>
         <column name="MaxGuests" type="int" required="true"/>
         <column name="EventEndsOn" type="time" required="true"/>
         <column name="TeardownAfter" type="time" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="RoomRestrictionID" table="RoomRestriction" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <!-- Defines setup groups that are used to identify what job class is responsible for a specific portion of
        setup (e.g. Housemen, A/V Technicians, Stewards, and sometimes Servers). This is the driving table behind
        creating a "Setup Furnishings" or "Teardown A/V" assignment. There can only be one record per job class. -->
   <table name="SetupGroup">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="MaxAdvanceSetDays" type="int" required="true" minValue="1" maxValue="5" default="3"/>
         <column name="MaxAdvanceSetTime" type="time" required="true"/>
         <column name="MinSetupHours" type="decimal" length="9" scale="2" minValue="0.0" required="true" maxValue="24.0"/>
         <column name="MaxTeardownDays" type="int" required="true" minValue="0" maxValue="5" default="1"/>
         <column name="MaxTeardownTime" type="time" required="true"/>
         <column name="MinTeardownHours" type="decimal" length="9" scale="2" minValue="0.0" required="true" maxValue="24.0"/>
         <column name="PreferredStartTime" type="time" required="true" default="'18:00'"/>
         <column name="PreferredAdvanceSetDays" type="int" required="true" minValue="0" maxValue="5" default="1"/>
         <column name="BaseSetMinutes" type="int" minValue="0" maxValue="1440"/>
         <column name="BaseTeardownMinutes" type="int" minValue="0" maxValue="1440"/>

         <column name="SetupStandardPriorityID" type="int" required="true"/>
         <column name="SetupTurnPriorityID" type="int" required="true"/>
         <column name="SetupQuickSetPriorityID" type="int" required="true"/>

         <column name="TearDownStandardPriorityID" type="int" required="true"/>
         <column name="TearDownTurnPriorityID" type="int" required="true"/>
         <column name="TearDownQuickSetPriorityID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="SetupGroup" column="ID" type="setnull"/>
         <relation src="SetupStandardPriorityID" table="TaskPriority" column="ID" type="cascade"/>
         <relation src="SetupTurnPriorityID" table="TaskPriority" column="ID" type="cascade"/>
         <relation src="SetupQuickSetPriorityID" table="TaskPriority" column="ID" type="cascade"/>
         <relation src="TearDownStandardPriorityID" table="TaskPriority" column="ID" type="cascade"/>
         <relation src="TearDownTurnPriorityID" table="TaskPriority" column="ID" type="cascade"/>
         <relation src="TearDownQuickSetPriorityID" table="TaskPriority" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="Style">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Abbrev" type="varchar" length="10" required="true"/>
         <column name="Existing" type="boolean" required="true"/>
         <column name="ServiceGroupSize" type="int" required="true"/>
         <column name="MergePriority" type="int" required="true"/>
         <column name="AllowOverride" type="boolean" required="true"/>
         <column name="ParentStyleID" type="int" required="false"/>
         <column name="UndesirableStyle" type="boolean" required="true" default="false"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="Style" column="ID" type="setnull"/>
         <relation src="ParentStyleID" table="Style" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="StyleAttribute">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="StyleID" type="int" required="true"/>
         <column name="AttributeID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="StyleID"/>
            <column name="AttributeID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="StyleID" table="Style" column="ID" type="cascade"/>
         <relation src="AttributeID" table="Attribute" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="StyleAttribute" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="StyleLookup">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="StyleID" type="int" required="true"/>
         <column name="ImportLookupDefID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="StyleID"/>
            <column name="ImportLookupDefID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="StyleID" table="Style" column="ID" type="cascade"/>
         <relation src="ImportLookupDefID" table="ImportLookupDef" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="StyleLookup" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="StyleResource">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="StyleID" type="int" required="true"/>
         <column name="ResourceID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="Quantity" type="int"/>
         <column name="MinQuantity" type="int"/>
         <column name="Increment" type="int"/>
         <column name="Capacity" type="decimal" length="9" scale="2"/>
         <column name="MinGuests" type="int" required="true"/>
         <column name="MaxGuests" type="int" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="false">
            <column name="StyleID"/>
            <column name="ResourceID"/>
            <column name="Deleted"/>
            <column name="MinGuests"/>
         </unique>
      </keys>
      <relations>
         <relation src="StyleID" table="Style" column="ID" type="cascade"/>
         <relation src="ResourceID" table="Resource" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="StyleResource" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="StyleResourceAttribute">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="StyleResourceID" type="int" required="true"/>
         <column name="AttributeID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="AddWhenAttributePresent" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="StyleResourceID"/>
            <column name="AttributeID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="StyleResourceID" table="StyleResource" column="ID" type="cascade"/>
         <relation src="AttributeID" table="Attribute" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="StyleResourceAttribute" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="StyleTask">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="StyleID" type="int" required="true"/>
         <column name="TaskStandardID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="StyleID"/>
            <column name="TaskStandardID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="StyleID" table="Style" column="ID" type="cascade"/>
         <relation src="TaskStandardID" table="TaskStandard" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="StyleTask" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TaskPriority">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Multiplier" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="TaskPriority" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="Theme">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Abbrev" type="varchar" length="10" required="true"/>
         <column name="Priority" type="int" required="true"/>
         <column name="SetupAdjustPercent" type="decimal" length="9" scale="2" required="true"/>
         <column name="TeardownAdjustPercent" type="decimal" length="9" scale="2" required="true"/>
         <column name="IgnoreEvents" type="boolean" required="true"/>
         <column name="DoNotImportEvents" type="boolean" required="true"/>
         <column name="GeneralSession" type="boolean" required="true"/>
         <column name="Breakout" type="boolean" required="true"/>
         <column name="AutoCorrectTime" type="boolean" required="true"/>
         <column name="SetupDuringEvent" type="boolean" required="true"/>
         <column name="DefaultStartTime" type="time" required="true"/>
         <column name="DefaultEndTime" type="time" required="true"/>
         <column name="MinStartTime" type="time"/>
         <column name="MaxEndTime" type="time"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="Theme" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="ThemeAttribute">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ThemeID" type="int" required="true"/>
         <column name="AttributeID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="ThemeID"/>
            <column name="AttributeID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="ThemeID" table="Theme" column="ID" type="cascade"/>
         <relation src="AttributeID" table="Attribute" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="ThemeAttribute" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ThemeFunction">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ThemeID" type="int" required="true"/>
         <column name="FunctionID" type="int" required="true"/>
         <column name="UseFunctionTime" type="boolean" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="ThemeID"/>
            <column name="FunctionID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="ThemeID" table="Theme" column="ID" type="cascade"/>
         <relation src="FunctionID" table="Functions" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="ThemeFunction" column="ID" type="cascade"/>
      </relations>
   </table>

   <!-- Defines the restrictions for adding the function based on attributes of the containing room -->
   <table name="ThemeFunctionAttribute">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ThemeFunctionID" type="int" required="true"/>
         <column name="AttributeID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="AddWhenAttributePresent" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="ThemeFunctionID"/>
            <column name="AttributeID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="ThemeFunctionID" table="ThemeFunction" column="ID" type="cascade"/>
         <relation src="AttributeID" table="Attribute" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="ThemeFunctionAttribute" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ThemeLookup">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ThemeID" type="int" required="true"/>
         <column name="ImportLookupDefID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="ThemeID"/>
            <column name="ImportLookupDefID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="ThemeID" table="Theme" column="ID" type="cascade"/>
         <relation src="ImportLookupDefID" table="ImportLookupDef" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="ThemeLookup" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ThemeResource">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ThemeID" type="int" required="true"/>
         <column name="ResourceID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="Quantity" type="int"/>
         <column name="MinQuantity" type="int"/>
         <column name="Increment" type="int"/>
         <column name="Capacity" type="decimal" length="9" scale="2"/>
         <column name="MinGuests" type="int" required="true"/>
         <column name="MaxGuests" type="int" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="ThemeID"/>
            <column name="ResourceID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="ThemeID" table="Theme" column="ID" type="cascade"/>
         <relation src="ResourceID" table="Resource" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="ThemeResource" column="ID" type="cascade"/>
      </relations>
   </table>

   <!-- Defines the restrictions for adding resources based on the attributes of the containing room -->
   <table name="ThemeResourceAttribute">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ThemeResourceID" type="int" required="true"/>
         <column name="AddWhenAttributePresent" type="boolean"/>
         <column name="AttributeID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="ThemeResourceID"/>
            <column name="AttributeID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="ThemeResourceID" table="ThemeResource" column="ID" type="cascade"/>
         <relation src="AttributeID" table="Attribute" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="ThemeResourceAttribute" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ThemeTask">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ThemeID" type="int" required="true"/>
         <column name="TaskStandardID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="ThemeID"/>
            <column name="TaskStandardID"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="ThemeID" table="Theme" column="ID" type="cascade"/>
         <relation src="TaskStandardID" table="TaskStandard" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="ThemeTask" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TimeBlock">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ClonedFromID" type="int"/>
         <column name="Deleted" type="boolean"/>
         <column name="Name" type="varchar" length="50" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="Name"/>
            <column name="Deleted"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ClonedFromID" table="TimeBlock" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="TimeBlockEndTimes">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TimeBlockID" type="int" required="true"/>
         <column name="EndTime" type="time" required="true"/>
         <column name="Description" type="varchar" length="15"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="TimeBlockID"/>
            <column name="EndTime"/>
            <column name="Description"/>
         </unique>
      </keys>
      <relations>
         <relation src="TimeBlockID" table="TimeBlock" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TaskStandard">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="TaskType" type="enum" length="1" required="true" enumType="TaskType"/>
         <column name="IncludeFor" type="enum" length="1" enumType="IncludeForType" required="true" default="'A'"/>
         <column name="TaskPriorityID" type="int" required="true"/>
         <column name="CoverCountType" type="enum" enumType="CoverCountType" required="true" default="'GU'"/>
         <column name="GeneratesFullShift" type="boolean" required="true"/>
         <!-- these 4 columns are only editable when GeneratesFullShift to be checked -->
         <column name="RotationBased" type="boolean" required="true"/>
         <column name="IncludeOnChecklist" type="boolean" required="true"/>
         <column name="ServiceType" type="enum" length="1" enumType="ServiceType"/>
         <column name="SchedulePeriodType" type="enum" length="1" enumType="SchedulePeriodType"/>
         <column name="AllowSlideEarlierMinutes" type="int" minValue="0" required="true"/>
         <column name="AllowSlideLaterMinutes" type="int" minValue="0" required="true"/>
         <column name="StartNoEarlierThan" type="int" minValue="0" required="true"/>
         <column name="FinishNoLaterThan" type="int" minValue="0" required="true"/>

         <!-- do we need these now? -->
         <!-- task splitting to multiple employees -->
         <column name="AllowSplits" type="boolean" required="true"/>

         <!-- the season the task is active -->
         <column name="SeasonID" type="int"/>

         <!-- 0% = floor coverage -->
         <column name="ProductivityPercentage" type="decimal" length="9" scale="2"/>

         <!-- what is this for? -->
         <column name="ScheduleCode" type="varchar" length="1"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade"/>
         <relation src="TaskPriorityID" table="TaskPriority" column="ID" type="cascade"/>
         <relation src="SeasonID" table="Season" column="ID" type="setnull"/>
      </relations>
   </table>

   <!-- one-to-one if event related -->
   <table name="EventTaskStandard">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TaskStandardID" type="int" required="true"/>
         <column name="RelativeStartAtToFunction" type="enum" length="1" enumType="FunctionStartRelativeType" required="true"/>
         <column name="RelativeStartFunctionID" type="int"/>
         <column name="RelativeEndAtToFunction" type="enum" length="1" enumType="FunctionEndRelativeType" required="true"/>
         <column name="RelativeEndFunctionID" type="int"/>
         <column name="IncludeInSetupGroupID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="TaskStandardID"/>
         </index>
      </keys>
      <relations>
         <relation src="TaskStandardID" table="TaskStandard" column="ID" type="cascade"/>
         <relation src="RelativeStartFunctionID" table="Functions" column="ID" type="setnull"/>
         <relation src="RelativeEndFunctionID" table="Functions" column="ID" type="setnull"/>
         <relation src="IncludeInSetupGroupID" table="SetupGroup" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="EventTaskStandardAdjustment">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EventTaskStandardID" type="int" required="true"/>
         <column name="EventTaskAdjustmentType" type="enum" enumType="EventTaskAdjustmentType" required="true"/>
         <column name="FromCovers" type="int" required="true" minValue="0"/>
         <column name="ToCovers" type="int" required="true" minValue="0"/>
         <column name="BaseAdjustment" type="int"/>
         <column name="AdditionalAdjustment" type="int"/>
         <column name="PerNumberGuests" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="EventTaskStandardID"/>
         </index>
      </keys>
      <relations>
         <relation src="EventTaskStandardID" table="EventTaskStandard" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TaskStandardStaffingLevels">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TaskStandardID" type="int" required="true"/>
         <column name="FromCovers" type="int" required="true"/>
         <column name="ToCovers" type="int" required="true"/>
         <column name="NumberEmployees" type="int" minValue="0" required="true"/>
         <column name="AdditionalEmployees" type="int" minValue="0" required="true"/>
         <column name="PerNumberGuests" type="int" minValue="0" required="true"/>
         <column name="CoverCountType" type="enum" enumType="CoverCountType" required="true" default="'GU'"/>
         <column name="MinEmployees" type="int" minValue="0" required="true"/>
         <column name="MaxEmployees" type="int" minValue="0" required="true"/>
         <column name="AllowedServiceOveragePercent" type="decimal" length="9" scale="2"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="TaskStandardID"/>
         </index>
      </keys>
      <relations>
         <relation src="TaskStandardID" table="TaskStandard" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EventTaskStandardLink">
      <columns>
         <column name="ParentEventTaskStandardID" type="int" required="true"/>
         <column name="ChildEventTaskStandardID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ParentEventTaskStandardID"/>
            <column name="ChildEventTaskStandardID"/>
         </primary>
      </keys>
      <relations>
         <relation src="ParentEventTaskStandardID" table="EventTaskStandard" column="ID" type="cascade"/>
         <relation src="ChildEventTaskStandardID" table="EventTaskStandard" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="MultiEventTaskStandard">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TaskStandardID" type="int" required="true"/>
         <column name="TimeRelativityType" type="enum" length="1" enumType="TimeRelativityType" required="true"/>
         <column name="TimeBlockID" type="int" required="true"/>
         <column name="StartRoomID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="TaskStandardID"/>
         </index>
      </keys>
      <relations>
         <relation src="TaskStandardID" table="TaskStandard" column="ID" type="cascade"/>
         <relation src="TimeBlockID" table="TimeBlock" column="ID" type="cascade"/>
         <relation src="StartRoomID" table="Room" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="MultiEventTaskFunction">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="MultiEventTaskStandardID" type="int" required="true"/>
         <column name="FunctionID" type="int" required="true"/>
         <column name="TimeMultiplier" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="MultiEventTaskStandardID"/>
         </index>
      </keys>
      <relations>
         <relation src="MultiEventTaskStandardID" table="MultiEventTaskStandard" column="ID" type="cascade"/>
         <relation src="FunctionID" table="Functions" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="MultiEventTaskRoomGroup">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="MultiEventTaskStandardID" type="int" required="true"/>
         <column name="RoomGroupID" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="MultiEventTaskStandardID"/>
         </index>
      </keys>
      <relations>
         <relation src="MultiEventTaskStandardID" table="MultiEventTaskStandard" column="ID" type="cascade"/>
         <relation src="RoomGroupID" table="RoomGroup" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="MultiEventTaskStandardAdjustment">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="MultiEventTaskStandardID" type="int" required="true"/>
         <column name="AdjustmentType" type="enum" enumType="AdjustmentType" required="true"/>
         <column name="FromCovers" type="int" required="true" minValue="0"/>
         <column name="ToCovers" type="int" required="true" minValue="0"/>
         <column name="AttributeID" type="int" required="false"/>
         <column name="BaseAdjustmentMinutes" type="int" required="true"/>
         <column name="PerUnitAdjustmentMinutes" type="int" required="true"/>
         <column name="UnitSize" type="int" required="true"/>
         <column name="TransportationMultiplier" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="MultiEventTaskStandardID"/>
         </index>
      </keys>
      <relations>
         <relation src="MultiEventTaskStandardID" table="MultiEventTaskStandard" column="ID" type="cascade"/>
         <relation src="AttributeID" table="Attribute" column="ID" type="cascade"/>
      </relations>
   </table>


   <table name="SetupTaskStandard">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="SetupGroupID" type="int" required="true"/>

      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
            <column name="StandardSetID"/>
            <column name="SetupGroupID"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="SetupGroupID" table="SetupGroup" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="TearDownTaskStandard">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="SetupGroupID" type="int" required="true"/>

      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
            <column name="StandardSetID"/>
            <column name="SetupGroupID"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="SetupGroupID" table="SetupGroup" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EventOrdersLaborWidgetSummary">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="SummarizedDate" type="date" required="true"/>
         <column name="EventOrderID" type="int" required="true"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="TotalWorkContentHours" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="SummarizedDate"/>
            <column name="EventOrderID"/>
            <column name="StartDate"/>
            <column name="AssignmentID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="EventOrderID" table="EventOrder" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="PropertyPlannerSettings">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="PeriodLength" type="int"/>
         <column name="MinShift" type="decimal" length="9" scale="2" minValue="0.0" maxValue="24.0"/>
         <column name="MaxShift" type="decimal" length="9" scale="2" minValue="0.0" maxValue="24.0"/>
         <column name="RoundingThresholdBelowOne" type="decimal" length="9" scale="2"/>
         <column name="RoundingThresholdAboveOne" type="decimal" length="9" scale="2"/>
         <column name="MealBreakAfter" type="decimal" length="9" scale="2"/>
         <column name="MealBreakLength" type="decimal" length="9" scale="2"/>
         <column name="NonMealBreakEvery" type="decimal" length="9" scale="2"/>
         <column name="NonMealBreakLength" type="decimal" length="9" scale="2"/>
         <column name="GenerateLongShifts" type="boolean"/>
         <column name="LimitShiftToMaxShift" type="boolean"/>
         <column name="TruncateMaxCoverage" type="boolean"/>
         <column name="DefaultNonFlowedDistributionMethod" type="enum" length="1" enumType="DefaultNonFlowedDistributionMethodEnum"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="PropertyID"/>
            <column name="StandardSetID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="AssignmentPlannerSettings">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="StandardType" type="enum" length="1" enumType="StandardTypeEnum"/>
         <column name="PeriodLength" type="int"/>
         <column name="MinShift" type="decimal" length="9" scale="2" minValue="0.0" maxValue="24.0"/>
         <column name="MaxShift" type="decimal" length="9" scale="2" minValue="0.0" maxValue="24.0"/>
         <column name="RoundingThresholdBelowOne" type="decimal" length="9" scale="2"/>
         <column name="RoundingThresholdAboveOne" type="decimal" length="9" scale="2"/>
         <column name="MealBreakAfter" type="decimal" length="9" scale="2"/>
         <column name="MealBreakLength" type="decimal" length="9" scale="2"/>
         <column name="NonMealBreakEvery" type="decimal" length="9" scale="2"/>
         <column name="NonMealBreakLength" type="decimal" length="9" scale="2"/>
         <column name="GenerateLongShifts" type="boolean" default="null"/>
         <column name="LimitShiftToMaxShift" type="boolean" default="null"/>
         <column name="TruncateMaxCoverage" type="boolean" default="null"/>
         <column name="DefaultNonFlowedDistributionMethod" type="enum" length="1" enumType="DefaultNonFlowedDistributionMethodEnum"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
            <column name="StandardSetID"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="AssignmentEffectiveDate">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="StartDate" type="date" required="true"/>
         <column name="EndDate" type="date" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="AssignmentID"/>
            <column name="StandardSetID"/>
            <column name="StartDate"/>
         </index>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="AssignmentMinMaxCoverage">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="EnvironmentID" type="int" required="true"/>

         <!-- comma separated integers, in 5 minute periods starting at midnight -->
         <!-- "1:2,1:2,1:2  BOTH MIN and MAX set-->
         <!-- "1:0,1:0,1:0 MIN but no MAX -->
         <!-- "0:2,0:2,0:2 MAX but no MIN -->
         <column name="StaffValues" type="memo" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
            <column name="StandardSetID"/>
            <column name="EnvironmentID"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="EnvironmentID" table="Environment" column="ID" type="cascade"/>
      </relations>
      <triggers>
         <update databaseType="mssql">
            <![CDATA[
            if UPDATE(StaffValues)
            begin
            declare @MinMaxCoverageID int
            declare @StaffValues varchar(MAX)

            declare periodMinMax cursor for select cast(dateadd(mi,(ElementPosition - 1)*5,'01-01-00 00:00:00') as time), ElementValue1, ElementValue2
            from
            dbo.SplitStringPairs('0:8,0:8,0:8,0:8,0:8,0:8,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,0:0,1:1,1:1,1:1,1:1,1:1,1:1,1:1,1:1,1:1,1:1,1:1,1:1,1:1,1:1,1:1,1:1,1:1,1:1,2:2,2:2,2:2,2:2,2:2,2:2,2:2,2:2,2:2,2:2,2:2,2:2,2:2,2:2,2:2,2:2,2:2,2:2,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8,0:8',
            ',', ':') where ElementValue1 > 0 or ElementValue2 > 0
            declare sv cursor for select ID, StaffValues from inserted
            open sv
            fetch next from sv into @MinMaxCoverageID, @StaffValues
            while @@FETCH_STATUS = 0
            BEGIN
            declare @time time
            declare @firstTime time
            declare @lastTime time
            declare @min int
            declare @max int
            declare @lastMin int
            declare @lastMax int
            delete from AssignmentMinMaxCoverageValues where MinMaxCoverageID = @MinMaxCoverageID

            open periodMinMax
            fetch next from periodMinMax into @lastTime, @lastMin, @lastMax
            set @firstTime = @lastTime
            while @@FETCH_STATUS = 0
            BEGIN
            fetch next from periodMinMax into @time, @min, @max
            if @min != @lastMin or @max != @lastMax
            BEGIN
            insert Into AssignmentMinMaxCoverageValues (MinMaxCoverageID, StartPeriod, EndPeriod, MinValue, MaxValue) values (@MinMaxCoverageID,
            @firstTime, @lastTime, @lastMin, @lastMax)
            set @firstTime = @time
            END
            set @lastTime = @time
            set @lastMin = @min
            set @lastMax = @max
            END
            insert Into AssignmentMinMaxCoverageValues (MinMaxCoverageID, StartPeriod, EndPeriod, MinValue, MaxValue) values (@MinMaxCoverageID,
            @firstTime, @lastTime, @lastMin, @lastMax)
            close periodMinMax
            fetch next from sv into @MinMaxCoverageID, @StaffValues
            END
            deallocate periodMinMax
            close sv
            deallocate sv
            end
            ]]>
         </update>
      </triggers>
   </table>

   <table name="AssignmentMinMaxCoverageValues">
      <columns>
         <column name="MinMaxCoverageID" type="int" required="true"/>
         <column name="StartPeriod" type="time" required="true"/>
         <column name="EndPeriod" type="time" required="true"/>
         <column name="MinValue" type="int" required="true"/>
         <column name="MaxValue" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="MinMaxCoverageID"/>
            <column name="StartPeriod"/>
         </primary>
      </keys>
      <relations>
         <relation src="MinMaxCoverageID" table="AssignmentMinMaxCoverage" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="ShiftRelatedStandard">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="AssignmentShiftID" type="int" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="WorkType" type="enum" length="1" enumType="WorkTypeEnum" required="true"/>
         <column name="Units" type="enum" length="2" enumType="UnitsEnum" required="true"/>
         <column name="DistributionMethod" type="enum" length="1" enumType="DistributionMethodEnum" required="true"/>
         <column name="NonFlowedDistributionMethod" type="enum" length="1" enumType="NonFlowedDistributionMethodEnum"/>
         <column name="FlowPlanID" type="int"/>
         <column name="IgnoreRetention" type="boolean" required="true"/>
         <column name="EarliestWorkStartTime" type="time"/>
         <column name="LatestWorkEndTime" type="time"/>
         <column name="Name" type="varchar" length="50"/>
         <column name="SuppressValue" type="int" required="true" minValue="0" default="0"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="AssignmentID"/>
            <column name="StandardSetID"/>
            <column name="AssignmentShiftID"/>
         </index>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="AssignmentShiftID" table="AssignmentShift" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
         <relation src="FlowPlanID" table="FlowPlan" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ShiftRelatedRange">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ShiftRelatedStandardID" type="int" required="true"/>
         <column name="FromVolume" type="int" required="true" minValue="0"/>
         <column name="ToVolume" type="int" required="true" minValue="0"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="ShiftRelatedStandardID"/>
         </index>
      </keys>
      <relations>
         <relation src="ShiftRelatedStandardID" table="ShiftRelatedStandard" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="ShiftRelatedStandardValue">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ShiftRelatedRangeID" type="int" required="true"/>
         <column name="EnvironmentID" type="int" required="true"/>
         <column name="Value" type="decimal" length="19" scale="4" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="ShiftRelatedRangeID"/>
            <column name="EnvironmentID"/>
         </unique>
      </keys>
      <relations>
         <relation src="ShiftRelatedRangeID" table="ShiftRelatedRange" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="EnvironmentID" table="Environment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ShiftRelatedStandardEnvironment">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EnvironmentID" type="int" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
      </columns>

      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="EnvironmentID"/>
            <column name="AssignmentID"/>
            <column name="StandardSetID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EnvironmentID" table="Environment" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="SpreadStandard">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="AssignmentShiftID" type="int" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="SpreadStandardType" type="enum" length="2" enumType="SpreadStandardTypeEnum" required="true" default="'F'"/>
         <column name="Units" type="enum" length="2" enumType="UnitsEnum"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="AssignmentID"/>
            <column name="StandardSetID"/>
            <column name="AssignmentShiftID"/>
            <column name="KBIID"/>
         </index>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="AssignmentShiftID" table="AssignmentShift" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="SpreadStandardRange">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="SpreadStandardID" type="int" required="true"/>
         <column name="FromVolume" type="int" required="true" minValue="0"/>
         <column name="ToVolume" type="int" required="true" minValue="0"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="SpreadStandardID"/>
            <column name="FromVolume"/>
         </index>
      </keys>
      <relations>
         <relation src="SpreadStandardID" table="SpreadStandard" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="SpreadStandardValue">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="SpreadStandardRangeID" type="int" required="true"/>
         <column name="EnvironmentID" type="int" required="true"/>
         <!-- comma separated integers, in 5 minute periods starting at midnight -->
         <column name="SpreadValues" type="memo" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="SpreadStandardRangeID"/>
            <column name="EnvironmentID"/>
         </unique>
      </keys>
      <relations>
         <relation src="SpreadStandardRangeID" table="SpreadStandardRange" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="EnvironmentID" table="Environment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="DynamicSpreadStandard">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="SpreadStandardRangeID" type="int" required="true"/>
         <column name="EnvironmentID" type="int" required="true"/>
         <column name="Value" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="SpreadStandardRangeID"/>
            <column name="EnvironmentID"/>
         </unique>
      </keys>
      <relations>
         <relation src="SpreadStandardRangeID" table="SpreadStandardRange" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="EnvironmentID" table="Environment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="DynamicSpreadValue">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="Type" type="enum" length="1" required="true" enumType="ValueTypeEnum"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="PeriodNo" type="int" required="true"/>
         <column name="Value" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="Type"/>
            <column name="KBIID"/>
            <column name="StatDate"/>
            <column name="PeriodNo"/>
         </unique>
      </keys>
      <relations>
         <relation src="KBIID" table="KBI" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="SpreadStandardEnvironment">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EnvironmentID" type="int" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
      </columns>

      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="EnvironmentID"/>
            <column name="AssignmentID"/>
            <column name="StandardSetID"/>
         </unique>
      </keys>
      <relations>
         <relation src="EnvironmentID" table="Environment" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="SalariedStandard">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="AssignmentShiftID" type="int" required="true"/>
         <column name="SalaryMode" type="enum" length="1" enumType="SalaryModeEnum" required="true"/>
         <column name="HoursPerWeek" type="decimal" length="9" scale="2"/>
         <column name="VacationHoursPerYear" type="decimal" length="9" scale="2"/>
         <column name="HoursPerYear" type="decimal" length="9" scale="2"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
            <column name="StandardSetID"/>
            <column name="AssignmentShiftID"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="AssignmentShiftID" table="AssignmentShift" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RecurringTaskStandard">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="InitialDate" type="date" required="true"/>
         <column name="FrequencyType" type="enum" length="1" enumType="FrequencyTypeEnum" required="true"/>

         <!-- type == DAILY -->
         <column name="DailyInterval" type="int"/>

         <!-- type == WEEKLY -->
         <column name="WeeklyInterval" type="int"/>
         <column name="WeeklyDaysOfWeek" type="varchar" length="25"/>
         <!-- int ??? -->

         <!-- type == MONTHLY -->
         <!--
         D = Day n of every n months
         W = nth week of every n months
         -->
         <column name="MonthlyIntervalType" type="enum" length="1" enumType="MonthlyIntervalEnum"/>

         <!-- Day N of Month (1-31) -->
         <column name="MonthlyDayOfMonth" type="int"/>

         <!-- The 2nd Tuesday of Month -->
         <!-- 1st, 2nd, 3rd, 4th, last -->
         <column name="MonthlyEveryNthWeek" type="int" minValue="1" maxValue="5"/>
         <column name="MonthlyDayOfWeek" type="int" minValue="1" maxValue="7"/>
         <!-- 1=Sunday ... 7=Saturday -->

         <column name="MonthlySelectedMonths" type="varchar" length="50"/>
         <!-- 1,3,12 where 1=Jan and 12=Dec -->

         <!--
         S - During Shift
         O - Single Occurrence
         M - Multiple Occurrences at Intervals
         -->
         <column name="OccurrenceType" type="enum" length="1" enumType="OccurrenceEnum"/>

         <column name="OccursDuringShiftID" type="int"/>

         <!-- Single occurrence time of day -->
         <column name="OccursAtTime" type="time"/>

         <!-- Hours between interval -->
         <column name="OccursEveryNHours" type="decimal" length="9" scale="2"/>
         <!-- Time of day to start recurrence -->
         <column name="OccursStartingAtTime" type="time"/>
         <!-- Time of day to end recurrence -->
         <column name="OccursEndingAtTime" type="time"/>

         <!-- FIXED or VARIABLE -->
         <column name="DurationType" type="enum" length="1" enumType="DurationTypeEnum"/>
         <column name="FixedHours" type="decimal" length="9" scale="2"/>
         <column name="KBIID" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="AssignmentID"/>
            <column name="StandardSetID"/>
            <column name="Name"/>
         </index>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
         <relation src="OccursDuringShiftID" table="AssignmentShift" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="RecurringVariableWork">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="RecurringTaskStandardID" type="int" required="true"/>
         <column name="FromVolume" type="int" required="true" minValue="0"/>
         <column name="ToVolume" type="int" required="true" minValue="0"/>
         <column name="BaseHours" type="decimal" length="9" scale="2"/>
         <column name="AdditionalHours" type="decimal" length="9" scale="2"/>
         <column name="PerNumberUnits" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="RecurringTaskStandardID"/>
         </index>
      </keys>
      <relations>
         <relation src="RecurringTaskStandardID" table="RecurringTaskStandard" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="TaskStandardDetail">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="ShiftRelatedStandardID" type="int" required="true"/>
         <column name="Name" type="varchar" length="50" required="true"/>
         <column name="Description" type="memo" required="true"/>
         <column name="NumberOfItems" type="int" required="true"/>
         <column name="ReasonableExpectancy" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="ShiftRelatedStandardID"/>
         </index>
      </keys>
      <relations>
         <relation src="ShiftRelatedStandardID" table="ShiftRelatedStandard" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="TaskStandardRange">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TaskStandardDetailID" type="int" required="true"/>
         <column name="FromVolume" type="int" required="true" minValue="0"/>
         <column name="ToVolume" type="int" required="true" minValue="0"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="TaskStandardDetailID"/>
         </index>
      </keys>
      <relations>
         <relation src="TaskStandardDetailID" table="TaskStandardDetail" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="TaskStandardFrequency">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="TaskStandardRangeID" type="int" required="true"/>
         <column name="EnvironmentID" type="int" required="true"/>
         <column name="Frequency" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="TaskStandardRangeID"/>
            <column name="EnvironmentID"/>
         </unique>
      </keys>
      <relations>
         <relation src="TaskStandardRangeID" table="TaskStandardRange" column="ID" type="cascade"/>
         <relation src="EnvironmentID" table="Environment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="LaborStandardsNote">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="AssignmentID" type="int"/>
         <column name="StandardSetID" type="int" required="true"/>
         <column name="PortalUserID" type="int" required="true"/>
         <column name="LastEditDateTime" type="datetime" required="true"/>
         <column name="Note" type="varchar" length="280" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="PropertyID"/>
            <column name="AssignmentID"/>
            <column name="StandardSetID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="StandardSetID" table="StandardSet" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="PlannedEvent" data="true" exportDataColumn="StartDateTime">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="text" required="true"/>
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
         <column name="EventNumber" type="text"/>
         <column name="Location" type="text"/>
         <column name="FunctionType" type="text"/>
         <column name="SetupType" type="text"/>
         <column name="ExpectedAttendees" type="int"/>
         <column name="GuaranteedAttendees" type="int"/>
         <column name="Notes" type="text"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="PropertyID"/>
            <column name="StartDateTime"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="PlannedShift" lockEscalation="disable" data="true" exportDataColumn="ShiftDate" compress="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="JobID" type="int" required="true"/>
         <column name="ShiftType" type="enum" length="1" required="true" enumType="PlanType"/>
         <column name="ShiftDate" type="date" required="true"/>
         <column name="DateShiftGeneratedFrom" type="date" required="true"/>
         <column name="StartDateTime" type="datetime" required="true"/>
         <column name="EndDateTime" type="datetime" required="true"/>
         <column name="Duration" type="decimal" length="9" scale="4" required="true"/>
         <column name="Source" type="enum" length="1" required="true" enumType="ShiftSourceType"/>
         <column name="AssignmentID" type="int"/>
         <column name="WorkContentLogID" type="int"/>
         <column name="ShiftCategoryID" type="int" required="true"/>
         <column name="PlannedEventID" type="int"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="ShiftType"/>
            <column name="JobID"/>
            <column name="ShiftDate"/>
            <column name="StartDateTime"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="PlannedEventID"/>
         </index>
      </keys>
      <relations>
         <relation src="JobID" table="Assignment" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="setnull"/>
         <relation src="WorkContentLogID" table="WorkContentLog" column="ID" type="cascade"/>
         <relation src="ShiftCategoryID" table="ShiftCategory" column="ID" type="cascade"/>
         <relation src="PlannedEventID" table="PlannedEvent" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="PlannedShiftAudit" data="true" noExport="true" compress="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="ChangedByUserID" type="int" required="true"/>
         <column name="ChangedOnDT" type="datetime" required="true"/>
         <column name="PlannedShiftID" type="int" required="true"/>
         <column name="AuditType" type="enum" enumType="AuditType" required="true"/>
         <column name="OldValue" type="memo"/>
         <column name="NewValue" type="memo"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index compress="true">
            <column name="PropertyID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="ChangedByUserID" table="WatsonUser" column="ID" type="enforce"/>
      </relations>
   </table>

   <table name="PlannedShiftWorkContent" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PlannedShiftID" type="int" required="true"/>
         <column name="WorkContentID" type="int" required="true"/>
         <column name="WorkStart" type="datetime" required="true"/>
         <column name="WorkEnd" type="datetime" required="true"/>
         <column name="WorkHours" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PlannedShiftID"/>
            <column name="WorkContentID"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="WorkContentID"/>
         </index>
      </keys>
      <relations>
         <relation src="PlannedShiftID" table="PlannedShift" column="ID" type="cascade"/>
         <relation src="WorkContentID" table="WorkContent" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="PlannedShiftWeightingCalculator" data="true" compress="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="CalculatorType" type="enum" length="1" required="true" enumType="PlannedShiftWeightingCalculatorType"/>
         <column name="OverrideMasterWeightingFactor" type="int"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
      </keys>
   </table>

   <table name="WorkContent" data="true" compress="true" exportDataColumn="EarliestStartDateTime">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="JobID" type="int" required="true"/>
         <column name="AssignmentID" type="int"/>
         <column name="WorkContentType" type="enum" length="1" required="true" enumType="WorkContentType"/>
         <column name="ShiftType" type="enum" length="1" required="true" enumType="PlanType"/>
         <column name="ShiftDate" type="date" required="true"/>
         <column name="WorkContentLogID" type="int"/>

         <!-- window -->
         <!-- should these 2 columns be required? -->
         <column name="EarliestStartDateTime" type="datetime"/>
         <column name="LatestEndDateTime" type="datetime"/>

         <column name="PreferredStartDateTime" type="datetime"/>

         <!-- for EL work, these might be null? -->
         <column name="CalculatedStartDateTime" type="datetime"/>
         <column name="CalculatedEndDateTime" type="datetime"/>

         <column name="CalculatedHours" type="decimal" length="9" scale="2" required="true"/>
         <column name="AdjustedHours" type="decimal" length="9" scale="2" required="true"/>

         <column name="Locked" type="boolean" required="true"/>

         <!-- only one of these is used at one time -->
         <column name="TaskStandardID" type="int"/>
         <column name="SetupTaskStandardID" type="int"/>
         <column name="TearDownTaskStandardID" type="int"/>

         <!-- potentially used iff TaskStandardID is used -->
         <column name="LinkedTaskStandardID" type="int"/>

         <column name="Description" type="varchar" length="100"/>
         <column name="MinNumberEmployees" type="int"/>
         <column name="MinSkillLevel" type="int"/>
         <column name="DistributedToDateTime" type="datetime"/>
         <column name="CalculatedPriority" type="int"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="JobID"/>
            <column name="EarliestStartDateTime"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="JobID"/>
            <column name="WorkContentType"/>
         </index>
      </keys>
      <relations>
         <relation src="JobID" table="Assignment" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="WorkContentLogID" table="WorkContentLog" column="ID" type="cascade"/>
         <relation src="TaskStandardID" table="TaskStandard" column="ID" type="cascade"/>
         <relation src="SetupTaskStandardID" table="SetupTaskStandard" column="ID" type="cascade"/>
         <relation src="TearDownTaskStandardID" table="TearDownTaskStandard" column="ID" type="cascade"/>
         <relation src="LinkedTaskStandardID" table="TaskStandard" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WorkContentDetail" data="true" compress="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="WorkContentID" type="int" required="true"/>
         <column name="WorkContentDetailType" type="enum" length="1" required="true" enumType="WorkContentDetailType"/>
         <column name="TotalHours" type="decimal" length="9" scale="2" required="true"/>
         <column name="KBIID" type="int"/>
         <column name="ResourceID" type="int"/>
         <column name="Notes" type="memo"/>
         <column name="TaskStandardID" type="int" required="false"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="WorkContentID"/>
            <column name="WorkContentDetailType"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="WorkContentID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="WorkContentID" table="WorkContent" column="ID" type="cascade"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
         <relation src="ResourceID" table="Resource" column="ID" type="cascade"/>
         <relation src="TaskStandardID" table="TaskStandard" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WorkContentEvent" data="true" compress="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="WorkContentID" type="int" required="true"/>
         <column name="EventOrderID" type="int" required="true"/>
         <column name="EventID" type="int" required="true"/>
         <column name="TotalHours" type="decimal" length="9" scale="2" required="true"/>
         <column name="EventFunctionID" type="int"/>
         <column name="EventTaskID" type="int" required="false"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="WorkContentID"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="WorkContentID"/>
         </index>
         <index>
            <column name="EventOrderID"/>
         </index>
         <index>
            <column name="EventID"/>
         </index>
         <index>
            <column name="EventTaskID"/>
         </index>
      </keys>
      <relations>
         <relation src="WorkContentID" table="WorkContent" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="EventOrderID" table="EventOrder" column="ID" type="cascade"/>
         <relation src="EventID" table="Event" column="ID" type="cascade"/>
         <relation src="EventFunctionID" table="EventFunction" column="ID" type="cascade"/>
         <relation src="EventTaskID" table="EventTask" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WorkContentLog" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="JobID" type="int" required="true"/>
         <column name="AssignmentID" type="int"/>
         <column name="AssignmentShiftID" type="int" required="true"/>
         <column name="PlanType" type="enum" length="1" required="true" enumType="PlanType"/>
         <column name="ShiftDate" type="date" required="true"/>
         <column name="MinShift" type="decimal" length="9" scale="2" required="true"/>
         <column name="MaxShift" type="decimal" length="9" scale="2" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="JobID"/>
            <column name="ID"/>
         </unique>
         <index>
            <column name="JobID"/>
         </index>
      </keys>
      <relations>
         <relation src="JobID" table="Assignment" column="ID" type="cascade"/>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
         <relation src="AssignmentShiftID" table="AssignmentShift" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WorkContentLogArray" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="WorkContentLogID" type="int" required="true"/>
         <column name="ArrayType" type="enum" length="7" required="true" enumType="WorkContentLogArrayType"/>
         <column name="ArrayData" type="memo" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="WorkContentLogID"/>
            <column name="ArrayType"/>
         </unique>
      </keys>
      <relations>
         <relation src="WorkContentLogID" table="WorkContentLog" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WorkContentLogDetail" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="WorkContentLogID" type="int" required="true"/>
         <column name="KBIID" type="int"/>
         <column name="KBIValue" type="int"/>
         <column name="WorkType" type="enum" length="1" enumType="WorkTypeEnum"/>
         <column name="Units" type="enum" length="2" enumType="UnitsEnum"/>
         <column name="SuppressValue" type="int"/>
         <column name="FromVolume" type="int"/>
         <column name="ToVolume" type="int"/>
         <column name="StandardValue" type="decimal" length="9" scale="2"/>
         <column name="WorkInMinutes" type="decimal" length="9" scale="2"/>
         <column name="Formula" type="varchar" length="200"/>
         <column name="DistributionMethod" type="enum" length="1" enumType="DistributionMethodEnum"/>
         <column name="NonFlowedDistributionMethod" type="enum" length="1" enumType="NonFlowedDistributionMethodEnum"/>
         <column name="FlowPatternID" type="int"/>
         <column name="FlowPatternActualDataUsed" type="boolean"/>
         <column name="FlowPatternIdUsedForActualData" type="int"/>
         <column name="IgnoreRetention" type="boolean"/>
         <column name="EarliestWorkStartTime" type="time"/>
         <column name="LatestWorkEndTime" type="time"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="WorkContentLogID"/>
            <column name="KBIID"/>
            <column name="ID"/>
         </unique>
      </keys>
      <relations>
         <relation src="WorkContentLogID" table="WorkContentLog" column="ID" type="cascade"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
         <relation src="FlowPatternID" table="FlowPattern" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="WorkContentLogDetailArray" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="WorkContentLogDetailID" type="int" required="true"/>
         <column name="ArrayType" type="enum" length="1" required="true" enumType="WorkContentLogDetailArrayType"/>
         <column name="ArrayData" type="memo" required="true"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="WorkContentLogDetailID"/>
            <column name="ArrayType"/>
         </unique>
      </keys>
      <relations>
         <relation src="WorkContentLogDetailID" table="WorkContentLogDetail" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="Staging" noExport="true">
      <columns>
         <column name="ID" type="longsequence" required="true"/>
         <column name="InterfaceProcessId" type="long"/>
         <column name="PropertyID" type="int"/>
         <column name="CreatedOnDateTime" type="datetime" required="true"/>
         <column name="Data" type="memo"/>
         <column name="StartDateTime" type="datetime"/>
         <column name="EndDateTime" type="datetime"/>
         <column name="StatusType" type="enum" enumType="ProcessStatusType"/>
         <column name="StatusMessage" type="memo"/>
         <column name="StackTrace" type="memo"/>
         <column name="SendStatusType" type="enum" enumType="SendStatusType"/>
         <column name="SendStatusCode" type="varchar" length="50"/>
         <column name="SendStatusMessage" type="memo"/>
         <column name="InterfaceType" type="enum" enumType="StagingInterfaceType" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="SchedulingAssignmentLog" data="true" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="PlanningPeriodStartDateTime" type="datetime" required="true"/>
         <column name="PlanningPeriodEndDateTime" type="datetime" required="true"/>
         <column name="CompletedDateTime" type="datetime"/>
         <column name="CompletedBy" type="int"/>
         <column name="ApprovedDateTime" type="datetime"/>
         <column name="ApprovedBy" type="int"/>
         <column name="PublishedDateTime" type="datetime"/>
         <column name="PublishedBy" type="int"/>
         <column name="ScheduleState" type="enum" enumType="SchedulingAssignmentStateType" required="true" default="'O'"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
            <column name="PlanningPeriodStartDateTime"/>
            <column name="PlanningPeriodEndDateTime"/>
         </unique>
      </keys>
      <relations>
         <relation src="CompletedBy" table="WatsonUser" column="ID" type="setnull"/>
         <relation src="ApprovedBy" table="WatsonUser" column="ID" type="setnull"/>
         <relation src="PublishedBy" table="WatsonUser" column="ID" type="setnull"/>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="EmployeeProductivityConfig">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="KBI1ID" type="int" required="true"/>
         <column name="KBI2ID" type="int"/>
         <column name="Ratio" type="decimal" length="4" scale="2"/>
         <column name="Goal" type="int" required="true"/>
         <column name="Hours" type="decimal" length="4" scale="2" required="true"/>
         <column name="AllowOverride" type="boolean" required="true" default="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="KBI1ID" table="KBI" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="KBI2ID" table="KBI" column="ID" type="setnull" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="EmployeeProductivityEnterActualsConfig">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="KBI1ID" type="int"/>
         <column name="KBI2ID" type="int"/>
         <column name="CurrentGoal" type="int" required="true"/>
         <column name="AllowOverride" type="boolean" required="true" default="true"/>
         <column name="ActualsWeekStartDate" type="date" required="true"/>
         <column name="FullShiftHours" type="decimal" length="4" scale="2" required="true"/>
         <column name="Ratio" type="decimal" length="4" scale="2"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
            <column name="ActualsWeekStartDate"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="KBI1ID" table="KBI" column="ID" type="setnull" disableUsageChecking="true"/>
         <relation src="KBI2ID" table="KBI" column="ID" type="setnull" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="EmployeeProductivityGoalOverride" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="DateWorked" type="date" required="true"/>
         <column name="OverrideGoal" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
            <column name="EmployeeID"/>
            <column name="DateWorked"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="EmployeeProductivityKBIActual" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="EmployeeID" type="int" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="DateWorked" type="date" required="true"/>
         <column name="ActualValue" type="int" required="true"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <unique>
            <column name="AssignmentID"/>
            <column name="EmployeeID"/>
            <column name="KBIID"/>
            <column name="DateWorked"/>
         </unique>
      </keys>
      <relations>
         <relation src="AssignmentID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="EmployeeID" table="Employee" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="EmployeeProductivityAudit" noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="AuditType" type="enum" length="1" required="true" enumType="EmpProdAuditType"/>
         <column name="DateWorked" type="date" required="true"/>
         <column name="KBIID" type="int"/>
         <column name="JobID" type="int" required="true"/>
         <column name="ChangedOnDateTime" type="datetime" required="true"/>
         <column name="ChangedByUserID" type="int" required="true"/>
         <column name="OldValue" type="int"/>
         <column name="NewValue" type="int"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="KBIID" table="KBI" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="JobID" table="Assignment" column="ID" type="cascade" disableUsageChecking="true"/>
         <relation src="ChangedByUserID" table="WatsonUser" column="ID" type="cascade" disableUsageChecking="true"/>
      </relations>
   </table>

   <table name="ReconcileEmployeeCertificationStaging">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="EmpID" type="int" required="true"/>
         <column name="CertificationID" type="int" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="IssueDate" type="datetime" required="true"/>
         <column name="StartDate" type="datetime" required="true"/>
         <column name="EndDate" type="datetime" required="true"/>
      </columns>
      <keys>
         <primary cluster="true">
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="BriefingReportJobCache" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="AssignmentID" type="int" required="true"/>
         <column name="ActualHours" type="decimal" length="9" scale="4"/>
         <column name="ScheduledHours" type="decimal" length="9" scale="4"/>
         <column name="ProjectedHours" type="decimal" length="9" scale="4"/>
         <column name="StandardHours" type="decimal" length="9" scale="4"/>
         <column name="AvsSThresholdFrom" type="decimal" length="9" scale="4"/>
         <column name="AvsSThresholdTo" type="decimal" length="9" scale="4"/>
         <column name="SvsPThresholdFrom" type="decimal" length="9" scale="4"/>
         <column name="SvsPThresholdTo" type="decimal" length="9" scale="4"/>
         <column name="AvsSQualityIssue" type="short"/>
         <column name="AvsSCostIssue" type="short"/>
         <column name="SvsPQualityIssue" type="short"/>
         <column name="SvsPCostIssue" type="short"/>
         <column name="AttendancePoints" type="int"/>
         <column name="ShiftRequests" type="int"/>
         <column name="PunchesWithErrors" type="int"/>
         <column name="TimeOffRequests" type="int"/>
         <column name="OvertimeHours" type="decimal" length="19" scale="4"/>
         <column name="RegHours" type="decimal" length="19" scale="4"/>
         <column name="UnfilledShifts" type="int"/>
      </columns>
   </table>

   <table name="BriefingReportRCCache" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="StatDate" type="date" required="true"/>
         <column name="RevenueCenterID" type="int" required="true"/>
         <column name="RevenueCenterPeriodID" type="int" required="true"/>
         <column name="Covers" type="int" required="true"/>
      </columns>
   </table>

   <table name="BriefingConfig" data="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int"/>
         <column name="PortalUserID" type="int"/>
         <column name="BriefingRecipientID" type="int"/>
         <column name="configName" type="varchar" length="255" required="true"/>
         <column name="configValue" type="memo" length="1024" required="true"/>
      </columns>
      <triggers>
         <update databaseType="mssql">
            <![CDATA[
            BEGIN
            	if (select count(*) from inserted where PortalUserID is not null and PropertyID is null) > 0
            	BEGIN
            		rollback transaction
            		raiserror ('If PortalUserID is provided, you must provide a PropertyID', 16, 1)
            		return
            	END
            	if (select count(*) from inserted where BriefingRecipientID is not null and PortalUserID is null) > 0
            	BEGIN
            		rollback transaction
            		raiserror ('If BriefingRecipientID is provided, you must provide a PortalUserID', 16, 1)
            		return
            	END
            END
            ]]>
         </update>
      </triggers>
   </table>

   <table name="ScheduleChangePenaltyReason">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Name" type="varchar" length="30"/>
         <column name="Excusable" type="boolean" required="true" default="false"/>
         <column name="RequireNotes" type="boolean" required="true" default="false"/>
      </columns>
      <keys>
         <primary cluster="true">
            <column name="ID"/>
         </primary>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <table name="ImportKBIDataMappingConfig">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="KBIID" type="int" required="true"/>
         <column name="MapKBIToRevenueCenterPeriod" type="boolean" required="true" default="false"/>
         <column name="UseKBILaborRevenueCenterPeriodConfig" type="boolean" required="true" default="false"/>
         <column name="RevenueCenterPeriodID" type="int"/>
         <column name="IncludeFlowPlan" type="boolean" required="true" default="false"/>
         <column name="FlowPlanID" type="int"/>
         <column name="IgnoreRCPTime" type="boolean" required="true" default="false"/>
      </columns>
      <keys>
         <primary cluster="false">
            <column name="ID"/>
         </primary>
         <unique cluster="true">
            <column name="PropertyID"/>
            <column name="KBIID"/>
            <column name="RevenueCenterPeriodID"/>
            <column name="FlowPlanID"/>
         </unique>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
         <relation src="KBIID" table="KBI" column="ID" type="cascade"/>
         <relation src="RevenueCenterPeriodID" table="RevenueCenterPeriod" column="ID" type="setnull"/>
         <relation src="FlowPlanID" table="FlowPlan" column="ID" type="setnull"/>
      </relations>
   </table>

   <table name="PropertyAddress"  noExport="true">
      <columns>
         <column name="ID" type="sequence" required="true"/>
         <column name="PropertyID" type="int" required="true"/>
         <column name="Address1" type="varchar" length="200" required="true"/>
         <column name="Address2" type="varchar" length="200"/>
         <column name="Address3" type="varchar" length="200"/>
         <column name="City" type="varchar" length="100" required="true"/>
         <column name="State" type="varchar" length="100" required="true"/>
         <column name="PostalCode" type="varchar" length="100" required="true"/>
         <column name="Country" type="varchar" length="100" required="true"/>
         <column name="Phone" type="varchar" length="100"/>
      </columns>
      <keys>
         <primary>
            <column name="ID"/>
         </primary>
         <index>
            <column name="PropertyID"/>
         </index>
      </keys>
      <relations>
         <relation src="PropertyID" table="Property" column="ID" type="cascade"/>
      </relations>
   </table>

   <enum name="LaborSecurityType">
      <value name="APPROVALS"/>
      <value name="NOTIFICATIONS"/>
      <value name="REPORTS"/>
      <value name="SCHEDULES"/>
      <value name="SETUP"/>
   </enum>

   <enum name="InterfaceActionType">
      <value name="NONE" code="N"/>
      <value name="REVERSE" code="R"/>
      <value name="SKIP" code="S"/>
      <value name="UNITS" code="U"/>
   </enum>

   <enum name="InterfaceType">
      <value name="EXPORT_EMPLOYEES" code="EXPORT_EMPLOYEES"/>
      <value name="EXPORT_EMPLOYEES_PAYROLL" code="EXPORT_EMPLOYEES_PAYROLL"/>
      <value name="EXPORT_PAYROLL" code="EXPORT_PAYROLL"/>
      <value name="EXPORT_PAYROLL_ACCRUAL" code="EXPORT_PAYROLL_ACCRUAL"/>
      <value name="IMPORT_HOURS" code="IMPORT_HOURS"/>
      <value name="IMPORT_ACTUAL_KBIS" code="IMPORT_ACTUAL_KBIS"/>
      <value name="IMPORT_FORECAST_KBIS" code="IMPORT_FORECAST_KBIS"/>
      <value name="EXPORT_SCHEDULES" code="EXPORT_SCHEDULES"/>
      <value name="RECONCILE_EMPLOYEES" code="RECONCILE_EMPLOYEES"/>
      <value name="EXPORT_DATASET" code="EXPORT_DATASET"/>
      <value name="IMPORT_FORECAST_EVENTS" code="IMPORT_FORECAST_EVENTS"/>
      <value name="IMPORT_ACTUAL_EVENTS" code="IMPORT_ACTUAL_EVENTS"/>
      <value name="IMPORT_ACTUAL_FLOW_PATTERNS" code="IMPORT_ACTUAL_FLOW_PATTERNS"/>
      <value name="IMPORT_SCHEDULES" code="IMPORT_SCHEDULES"/>
      <value name="IMPORT_BUDGET_FORECAST_KBIS" code="IMPORT_BUDGET_FORECAST_KBIS"/>
      <value name="IMPORT_BUDGET_ACTUAL_KBIS" code="IMPORT_BUDGET_ACTUAL_KBIS"/>
      <value name="EXPORT_INCOME_JOURNAL" code="EXPORT_INCOME_JOURNAL"/>
      <value name="IMPORT_BUDGET_PL_ACTUALS" code="IMPORT_BUDGET_PL_ACTUALS"/>
      <value name="IMPORT_EARNINGS" code="IMPORT_EARNINGS"/>
      <value name="IMPORT_FLOW_PATTERNS" code="IMPORT_FLOW_PATTERNS"/>
      <value name="EVENT_BOOKING_STAGING" code="EVENT_BOOKING_STAGING"/>
      <value name="IMPORT_PROFIT_DATA" code="IMPORT_PROFIT_DATA"/>
   </enum>

   <enum name="PunchIDMethodType">
      <value name="PROP_EMP_NO" code="empID"/>
      <value name="PROP_BADGE_NO" code="badgeNo"/>
      <value name="XP_EMP_NO" code="xpEmpID"/>
      <value name="XP_BADGE_NO" code="xpBadgeNo"/>
      <value name="JOB_BADGE_NO" code="jobBadgeNo"/>
   </enum>

   <enum name="ScriptType">
      <value name="JAVA" code="JAVA"/>
      <value name="TEXT_PIPE" code="TEXT_PIPE"/>
      <value name="XML" code="XML"/>
      <value name="XLS" code="XLS"/>
   </enum>

   <enum name="SalaryModeType">
      <value name="WEEKLY" code="W"/>
      <value name="MONTHLY" code="M"/>
   </enum>

   <enum name="PayrollJournalType">
      <value name="ACCRUAL" code="A"/>
      <value name="EPEP" code="E"/>
   </enum>

   <enum name="OperationType">
      <value name="PLUS" code="+"/>
      <value name="MINUS" code="-"/>
      <value name="NONE" code="N"/>
   </enum>

   <enum name="AllocationType">
      <value name="NONE" code="N"/>
      <value name="FIXED" code="F"/>
      <value name="VARIABLE" code="V"/>
   </enum>

   <enum name="LineSubTypeType">
      <value name="REVENUE" code="R"/>
      <value name="EXPENSE" code="E"/>
      <value name="INDETERMINITE" code="I"/>
   </enum>

   <enum name="FactorModeType">
      <value name="VN" code="VN"/>
      <value name="FN" code="FN"/>
      <value name="BN" code="BN"/>
      <value name="V4" code="V4"/>
      <value name="F4" code="F4"/>
      <value name="B4" code="B4"/>
   </enum>

   <enum name="BasedOnType">
      <value name="D" code="D"/>
      <value name="U" code="U"/>
      <value name="F" code="F"/>
   </enum>

   <enum name="OperationType2">
      <value name="ADD" code="+"/>
      <value name="SUBTRACT" code="-"/>
      <value name="MULTIPLY" code="*"/>
      <value name="DIVIDE" code="/"/>
   </enum>

   <enum name="UOMType">
      <value name="HOURS" code="H"/>
      <value name="DOLLARS" code="D"/>
      <value name="UNITS" code="U"/>
      <value name="HOURS_DOLLARS" code="C"/>
      <value name="DAYS" code="Y"/>
      <value name="HOURS_RATE" code="R"/>
   </enum>

   <enum name="EarningTypeType">
      <value name="EARNING" code="E"/>
      <value name="MEMO" code="M"/>
      <value name="ACCRUAL" code="A"/>
      <value name="REGULAR" code="R"/>
      <value name="PREMIUM" code="P"/>
   </enum>

   <enum name="GenderType">
      <value name="MALE" code="M"/>
      <value name="FEMALE" code="F"/>
   </enum>

   <enum name="TippedType">
      <value name="YES" code="Y"/>
      <value name="NO" code="N"/>
      <value name="INDIRECT" code="I"/>
   </enum>

   <enum name="MaritalStatusType">
      <value name="MARRIED" code="M"/>
      <value name="SINGLE" code="S"/>
   </enum>

   <enum name="EarningSourceType">
      <value name="AUTO" code="A"/>
      <value name="MANUAL" code="M"/>
      <value name="RULE" code="R"/>
      <value name="TIPPOOL" code="T"/>
      <value name="IMPORT" code="I"/>
   </enum>

   <enum name="ShiftSourceType">
      <value name="AUTO" code="A"/>
      <value name="MANUAL" code="M"/>
      <value name="RULE" code="R"/>
   </enum>

   <enum name="ShiftAdjustSourceType">
      <value name="AUTO" code="A"/>
      <value name="MANUAL" code="M"/>
      <value name="RULE" code="R"/>
   </enum>

   <enum name="ShiftAdjustType">
      <value name="WORKED" code="W"/>
      <value name="OT" code="O"/>
      <value name="DT" code="D"/>
      <value name="BREAK" code="B"/>
   </enum>

   <enum name="PunchSourceType">
      <value name="AUTO" code="A"/>
      <value name="CLOCK" code="C"/>
      <value name="MANUAL" code="M"/>
   </enum>

   <enum name="RoundedType">
      <value name="DOWN" code="D"/>
      <value name="NONE" code="N"/>
      <value name="UP" code="U"/>
   </enum>

   <enum name="StatusReasonType">
      <value name="V" code="V"/>
      <value name="I" code="I"/>
      <value name="T" code="T"/>
   </enum>

   <enum name="TimeOffStatusType">
      <value name="PENDING" code="P"/>
      <value name="APPROVED" code="A"/>
      <value name="DENIED" code="D"/>
      <value name="CANCELLED" code="C"/>
      <value name="ALL" code="L"/>
   </enum>

   <enum name="EmployeeAvailabilityRequestStatusType">
      <value name="PENDING" code="P"/>
      <value name="ACKNOWLEDGED" code="A"/>
      <value name="ALL" code="L"/>
      <value name="REJECTED" code="R"/>
   </enum>

   <enum name="USTaxClaimStatusType">
      <value name="MARRIED" code="M"/>
      <value name="SINGLE" code="S"/>
   </enum>

   <enum name="SalaryModeType">
      <value name="WEEKLY" code="W"/>
      <value name="MONTHLY" code="M"/>
   </enum>

   <enum name="ShowInModuleType">
      <value name="ALL" code="A"/>
      <value name="BUDGET" code="B"/>
      <value name="LABOR" code="L"/>
   </enum>

   <enum name="KBIModeType">
      <value name="BUDGET" code="B"/>
      <value name="LABOR" code="L"/>
   </enum>

   <enum name="KBIStatType">
      <value name="TREND_ADJ_EXP_SMOOTHING" code="T"/>
      <value name="REGRESSION" code="R"/>
   </enum>

   <enum name="BudgetAdjustmentType">
      <value name="HOURS" code="HRS"/>
      <value name="RATE" code="RAT"/>
   </enum>

   <enum name="BudgetLineType">
      <value name="TOTAL" code="T"/>
      <value name="CALCULATED" code="C"/>
      <value name="JOB" code="J"/>
      <value name="KBI" code="K"/>
      <value name="MKTSEG" code="M"/>
      <value name="REVCTR" code="R"/>
      <value name="PERCENT" code="P"/>
      <value name="FIXED" code="F"/>
      <value name="DIVIDER" code="D"/>
      <value name="PERCENT_OF_LABOR" code="L"/>
      <value name="PERCENT_OF_HOURS" code="H"/>
   </enum>

   <enum name="BudgetStatType" etlPrimingUsesCode="true">
      <value name="ORIGINAL" code="O"/>
      <value name="EOY_FORECAST" code="E"/>
      <value name="YEAR_END_FCST" code="Y"/>
      <value name="ACTUAL" code="A"/>
      <value name="FLEX" code="F"/>
      <value name="PROFIT" code="P"/>
      <value name="THIRTY" code="T"/>
      <value name="SIXTY" code="S"/>
      <value name="NINETY" code="N"/>
      <value name="EPEP_CURRENT" code="X"/>
      <value name="TRAILING_12_FORECAST" code="R"/>
      <value name="VIRTUAL" code="V"/>
      <value name="USER_0" code="0"/>
      <value name="USER_1" code="1"/>
      <value name="USER_2" code="2"/>
      <value name="USER_3" code="3"/>
      <value name="USER_4" code="4"/>
      <value name="USER_5" code="5"/>
      <value name="USER_6" code="6"/>
      <value name="USER_7" code="7"/>
      <value name="USER_8" code="8"/>
      <value name="USER_9" code="9"/>
      <value name="USER_10" code="10"/>
      <value name="USER_11" code="11"/>
      <value name="USER_12" code="12"/>
      <value name="USER_13" code="13"/>
      <value name="USER_14" code="14"/>
      <value name="USER_15" code="15"/>
      <value name="USER_16" code="16"/>
      <value name="USER_17" code="17"/>
      <value name="USER_18" code="18"/>
      <value name="USER_19" code="19"/>
      <value name="USER_20" code="20"/>
      <value name="USER_21" code="21"/>
      <value name="USER_22" code="22"/>
      <value name="USER_23" code="23"/>
      <value name="USER_24" code="24"/>
      <value name="USER_25" code="25"/>
      <value name="USER_26" code="26"/>
      <value name="USER_27" code="27"/>
      <value name="USER_28" code="28"/>
      <value name="USER_29" code="29"/>
      <value name="USER_30" code="30"/>
      <value name="USER_31" code="31"/>
      <value name="USER_32" code="32"/>
      <value name="USER_33" code="33"/>
      <value name="USER_34" code="34"/>
      <value name="USER_35" code="35"/>
      <value name="USER_36" code="36"/>
      <value name="USER_37" code="37"/>
      <value name="USER_38" code="38"/>
      <value name="USER_39" code="39"/>
      <value name="USER_40" code="40"/>
      <value name="USER_41" code="41"/>
      <value name="USER_42" code="42"/>
      <value name="USER_43" code="43"/>
      <value name="USER_44" code="44"/>
      <value name="USER_45" code="45"/>
      <value name="USER_46" code="46"/>
      <value name="USER_47" code="47"/>
      <value name="USER_48" code="48"/>
      <value name="USER_49" code="49"/>
      <value name="USER_50" code="50"/>
      <value name="USER_51" code="51"/>
      <value name="USER_52" code="52"/>
      <value name="USER_53" code="53"/>
      <value name="USER_54" code="54"/>
      <value name="USER_55" code="55"/>
      <value name="USER_56" code="56"/>
      <value name="USER_57" code="57"/>
      <value name="USER_58" code="58"/>
      <value name="USER_59" code="59"/>
      <value name="USER_60" code="60"/>
      <value name="USER_61" code="61"/>
      <value name="USER_62" code="62"/>
      <value name="USER_63" code="63"/>
      <value name="USER_64" code="64"/>
      <value name="USER_65" code="65"/>
      <value name="USER_66" code="66"/>
      <value name="USER_67" code="67"/>
      <value name="USER_68" code="68"/>
      <value name="USER_69" code="69"/>
      <value name="USER_70" code="70"/>
      <value name="USER_71" code="71"/>
      <value name="USER_72" code="72"/>
      <value name="USER_73" code="73"/>
      <value name="USER_74" code="74"/>
      <value name="USER_75" code="75"/>
      <value name="USER_76" code="76"/>
      <value name="USER_77" code="77"/>
      <value name="USER_78" code="78"/>
      <value name="USER_79" code="79"/>
      <value name="USER_80" code="80"/>
      <value name="USER_81" code="81"/>
      <value name="USER_82" code="82"/>
      <value name="USER_83" code="83"/>
      <value name="USER_84" code="84"/>
      <value name="USER_85" code="85"/>
      <value name="USER_86" code="86"/>
      <value name="USER_87" code="87"/>
      <value name="USER_88" code="88"/>
      <value name="USER_89" code="89"/>
      <value name="USER_90" code="90"/>
      <value name="USER_91" code="91"/>
      <value name="USER_92" code="92"/>
      <value name="USER_93" code="93"/>
      <value name="USER_94" code="94"/>
      <value name="USER_95" code="95"/>
      <value name="USER_96" code="96"/>
      <value name="USER_97" code="97"/>
      <value name="USER_98" code="98"/>
      <value name="USER_99" code="99"/>
   </enum>

   <enum name="PayrollJEMapType">
      <value name="REGULAR" code="R"/>
      <value name="OVERTIME" code="O"/>
      <value name="DOUBLETIME" code="D"/>
      <value name="WORKED" code="W"/>
      <value name="TAXES" code="T"/>
      <value name="EARNING" code="E"/>
   </enum>

   <enum name="PPExportConfigType">
      <value name="E" code="E"/>
      <value name="P" code="P"/>
   </enum>

   <enum name="PPExportConfigFileType">
      <value name="M" code="M"/>
      <value name="S" code="S"/>
   </enum>

   <enum name="EmployeeIDGeneratorType">
      <value name="MANUAL" code="M"/>
      <value name="SSN" code="S"/>
      <value name="AUTO" code="A"/>
   </enum>

   <enum name="ChangeReasonType">
      <value name="ABSENCE" code="A"/>
      <value name="TARDY" code="T"/>
      <value name="DROP" code="D"/>
      <value name="SWAP" code="S"/>
      <value name="GIVEAWAY" code="G"/>
      <value name="OPEN" code="O"/>
      <value name="TAKE" code="K"/>
      <value name="BLAST_MANUAL" code="M"/>
      <value name="BLAST_AUTO" code="U"/>
      <value name="BLAST_FIRST_COME" code="F"/>
      <value name="EMPLOYEE_SELECTION" code="E"/>
   </enum>

   <enum name="RevenueCellInterfaceType">
      <value name="P" code="P"/>
      <value name="T" code="T"/>
   </enum>

   <enum name="RevenueCellInterfaceOperationType">
      <value name="COPY" code="="/>
      <value name="MULTIPLY" code="*"/>
      <value name="DIVIDE" code="/"/>
      <value name="REVERSE" code="R"/>
   </enum>

   <enum name="RevenueLineIncomeJournalSignage">
      <value name="PLUS" code="+"/>
      <value name="MINUS" code="-"/>
   </enum>

   <enum name="EmployeeStatusType">
      <value name="ACTIVE" code="A"/>
      <value name="LEAVE_OF_ABSENCE" code="L"/>
      <value name="REHIRE" code="R"/>
      <value name="TERMINATED" code="T"/>
      <value name="TRANSFERED" code="F"/>
   </enum>

   <enum name="EmployeeType">
      <value name="PERMANENT" code="P"/>
      <value name="REGULAR" code="R"/>
      <value name="SALARIED" code="S"/>
      <value name="SUPERVISOR" code="U"/>
      <value name="VARIABLE" code="V"/>
   </enum>

   <enum name="AlertType">
      <value name="SEPARATOR" code="SEPARATOR"/>
      <value name="APPROACHING_BREAK" code="APPROACHING_BREAK"/>
      <value name="SHIFT_ERRORS" code="SHIFT_ERRORS"/>
      <value name="UNAPPROVED_SHIFTS" code="UNAPPROVED_SHIFTS"/>
      <value name="APPROACHING_OT" code="APPROACHING_OT"/>
      <value name="NEGATIVE_BALANCE" code="NEGATIVE_BALANCE"/>
      <value name="MAX_BALANCE" code="MAX_BALANCE"/>
      <value name="CALLED_IN" code="CALLED_IN"/>
      <value name="COMING_IN_SOON" code="COMING_IN_SOON"/>
      <value name="PENDING_SHIFT_REQUESTS" code="PENDING_SHIFT_REQUESTS"/>
      <value name="PENDING_TIMEOFF_REQUESTS" code="PENDING_TIMEOFF_REQUESTS"/>
      <value name="PENDING_CALL_IN_REQUESTS" code="PENDING_CALL_IN_REQUESTS"/>
      <value name="PENDING_AVAIL_REQUESTS" code="PENDING_AVAIL_REQUESTS"/>
      <value name="CLOCKED_IN_COUNT" code="CLOCKED_IN_COUNT"/>
      <value name="MISSING_PUNCH" code="MISSING_PUNCH"/>
      <value name="LONG_SHIFT" code="LONG_SHIFT"/>
      <value name="SHORT_SHIFT" code="SHORT_SHIFT"/>
      <value name="ABSENT" code="ABSENT"/>
      <value name="NOT_SCHEDULED" code="NOT_SCHEDULED"/>
      <value name="EARLY_IN" code="EARLY_IN"/>
      <value name="LATE_IN" code="LATE_IN"/>
      <value name="EARLY_OUT" code="EARLY_OUT"/>
      <value name="LATE_OUT" code="LATE_OUT"/>
      <value name="NO_BREAK" code="NO_BREAK"/>
      <value name="LONG_BREAK" code="LONG_BREAK"/>
      <value name="SHORT_BREAK" code="SHORT_BREAK"/>
      <value name="DAILY_HOURS" code="DAILY_HOURS"/>
      <value name="WEEKLY_HOURS" code="WEEKLY_HOURS"/>
      <value name="TIME_OF_DAY" code="TIME_OF_DAY"/>
      <value name="DISPUTED_SHIFT_EDITS" code="DISPUTED_SHIFT_EDITS"/>
      <value name="EXCESSIVE_OT" code="EXCESSIVE_OT"/>
      <value name="PRE_SHIFT_SCREENING" code="PRE_SHIFT_SCREENING"/>
   </enum>

   <enum name="SalaryDistModeType">
      <value name="FIVE" code="5"/>
      <value name="SEVEN" code="7"/>
   </enum>

   <enum name="ConnectionType">
      <value name="DIRECT" code="D"/>
      <value name="MODEM" code="M"/>
      <value name="NETWORK" code="N"/>
   </enum>

   <enum name="GPSValidationModeType">
      <value name="DISALLOW_PUNCH" code="D"/>
      <value name="REJECT_PUNCH" code="R"/>
      <value name="ALLOW_PUNCH" code="A"/>
   </enum>

   <enum name="FPUType">
      <value name="SECUGEN" code="S"/>
      <value name="DIGITAL_PERSONA" code="D"/>
   </enum>

   <enum name="TipPoolDateRangeType">
      <value name="DAILY" code="D"/>
      <value name="PAY_PERIOD" code="W"/>
      <value name="WEEKLY" code="P"/>
   </enum>

   <enum name="DistMethodType">
      <value name="FIXED" code="F"/>
      <value name="VARIABLE" code="V"/>
      <value name="GW" code="G"/>
   </enum>

   <enum name="HoursModeType">
      <value name="N" code="N"/>
      <value name="R" code="R"/>
      <value name="O" code="O"/>
   </enum>

   <enum name="PointsAllocationType">
      <value name="PER_DAY" code="D"/>
      <value name="PER_HOUR" code="H"/>
   </enum>

   <enum name="UnitType">
      <value name="HOURS" code="H"/>
      <value name="COVERS" code="C"/>
      <value name="REVENUE" code="R"/>
      <value name="POINTS" code="P"/>
   </enum>

   <enum name="AccessCodeType">
      <value name="NONE" code="N"/>
      <value name="READ_ONLY" code="R"/>
      <value name="FULL" code="F"/>
   </enum>

   <enum name="AccessLevelType">
      <value name="HIDE" code="H"/>
      <value name="SHOW_LINE_ONLY" code="L"/>
      <value name="SHOW_LINE_VALUE" code="V"/>
   </enum>

   <enum name="AuthorizationLevelType">
      <value name="EARNINGS_PAYROLL_APPROVAL" code="EPA"/>
   </enum>

   <enum name="ClockType">
      <value name="UFTC" code="UFTC"/>
      <value name="VIRTUAL" code="VIRTUAL"/>
      <value name="WEB" code="WEB"/>
   </enum>

   <enum name="CustomFieldType">
      <value name="BOOLEAN" code="B"/>
      <value name="DATE" code="D"/>
      <value name="INTEGER" code="I"/>
      <value name="DECIMAL2" code="2"/>
      <value name="DECIMAL4" code="4"/>
      <value name="STRING" code="S"/>
      <value name="TIME" code="T"/>
   </enum>

   <enum name="EmpAuditSource">
      <value name="MANUAL" code="M"/>
      <value name="RECONCILE" code="R"/>
   </enum>

   <enum name="EmployeeAvailType">
      <value name="AVAILABLE_TO_WORK" code="AV"/>
      <value name="REQUIRED_OFF" code="RQ"/>
      <value name="PREFERRED_OFF" code="PF"/>
      <value name="SALARIED_AVAILABLE" code="SA"/>
      <value name="SALARIED_UNAVAILABLE" code="SU"/>
      <value name="ROTATED_OFF" code="RO"/>
   </enum>

   <enum name="EmployeePayType">
      <value name="HOURLY" code="H"/>
      <value name="SALARIED_NON_EXEMPT" code="N"/>
      <value name="PIECE" code="P"/>
      <value name="SALARIED_EXEMPT" code="S"/>
      <value name="CONTRACT" code="C"/>
   </enum>

   <enum name="EmployeePeriodType">
      <value name="REGULAR" code="R"/>
      <value name="CONSTANT" code="C"/>
   </enum>

   <enum name="EmployeeEventStatus">
      <value name="PENDING" code="P"/>
      <value name="EXCUSED" code="E"/>
      <value name="EXECUTED" code="X"/>
   </enum>

   <enum name="EmployeePointStatus">
      <value name="PENDING" code="P"/>
      <value name="EXCUSED" code="E"/>
      <value name="ACKNOWLEDGED" code="A"/>
   </enum>

   <enum name="FinancialYearType">
      <value name="ANNUAL" code="A"/>
      <value name="PERIOD_13" code="P"/>
      <value name="QUARTERLY" code="Q"/>
   </enum>

   <enum name="JobclassType">
      <value name="NONE" code="N"/>
      <value name="ASSIGNMENT_RELATED" code="A"/>
      <value name="EVENT_RELATED" code="E"/>
      <value name="KBI_RELATED" code="K"/>
      <value name="SALARIED" code="S"/>
   </enum>

   <enum name="JCLoadShiftType">
      <value name="BEGINNING" code="B"/>
      <value name="MIDDLE" code="M"/>
      <value name="END" code="E"/>
      <value name="VARYING" code="V"/>
   </enum>

   <enum name="JCOvertimeType">
      <value name="HOURS_PER_DAY" code="HD"/>
      <value name="HOURS_PER_WEEK" code="HW"/>
      <value name="HOURS_PER_7_DAYS" code="H7"/>
      <value name="CONSECUTIVE_DAYS" code="CD"/>
      <value name="DAYS_PER_WEEK" code="DW"/>
      <value name="DAYS_PER_7_DAYS" code="D7"/>
   </enum>

   <enum name="JCSortOrderType">
      <value name="HIRE_DATE" code="HD"/>
      <value name="SKILL_DATE" code="SD"/>
      <value name="SKILL_RANK" code="SR"/>
      <value name="ALPHA" code="AL"/>
      <value name="FULLTIME" code="FT"/>
      <value name="ASSIGNMENT_RANK" code="AR"/>
      <value name="ASSIGNMENT_ORDER" code="AO"/>
      <value name="EMPLOYEE_TYPE" code="ET"/>
   </enum>

   <enum name="PlannedShiftSortingMethod">
      <value name="PEAK" code="PK"/>
      <value name="MODIFIED_PEAK" code="MP"/>
      <value name="BY_DAY" code="DY"/>
      <value name="CASCADE" code="CS"/>
   </enum>

   <enum name="ProjectedHoursReductionMethod">
      <value name="FLAT" code="FL"/>
      <value name="PERCENT" code="PR"/>
   </enum>

   <enum name="JCStandardType">
      <value name="FLOWED_SEPARATE" code="FS"/>
      <value name="FLOWED_NO_SEPARATE" code="FN"/>
      <value name="SHARE_WITH" code="SW"/>
      <value name="NON_FLOWED" code="NF"/>
      <value name="SPREAD" code="SP"/>
   </enum>

   <enum name="JCUnitType">
      <value name="NONE" code="NO"/>
      <value name="HOURS_PER_UNIT" code="HU"/>
      <value name="MINUTES_PER_UNIT" code="MU"/>
      <value name="UNITS_PER_HOUR" code="UH"/>
      <value name="UNITS_PER_MINUTE" code="UM"/>
      <value name="UNITS_PER_SHIFT" code="US"/>
   </enum>

   <enum name="SchedulingMethod">
      <value name="BY_JOB_SCHEDULE_ORDER" code="1"/>
      <value name="BY_SENIORITY" code="2"/>
      <value name="BY_EMPLOYEE_SET" code="3"/>
   </enum>

   <enum name="JCWorkType">
      <value name="OPENING" code="O"/>
      <value name="CLOSING" code="C"/>
      <value name="DAILY" code="D"/>
      <value name="WEEKLY" code="W"/>
      <value name="VARIABLE" code="V"/>
      <value name="STAFF" code="S"/>
      <value name="YEARLY" code="Y"/>
   </enum>

   <enum name="JobclassType">
      <value name="NONE" code="N"/>
      <value name="ASSIGNMENT_RELATED" code="A"/>
      <value name="EVENT_RELATED" code="E"/>
      <value name="KBI_RELATED" code="K"/>
      <value name="SALARIED" code="S"/>
   </enum>

   <enum name="KBIClassType">
      <value name="AVAILABLE" code="A"/>
      <value name="KBI" code="K"/>
   </enum>

   <enum name="KBIOperationType">
      <value name="ADD" code="A"/>
      <value name="SUBTRACT" code="S"/>
      <value name="INDEPENDENT" code="I"/>
   </enum>

   <enum name="KBIType">
      <value name="CALCULATED" code="C"/>
      <value name="SEPARATE" code="E"/>
      <value name="INPUT" code="I"/>
      <value name="PERCENT_OF_BASE" code="P"/>
      <value name="STATISTICAL" code="S"/>
   </enum>

   <enum name="MarketSegmentType">
      <value name="CONTRACT" code="CN"/>
      <value name="CASINO" code="CS"/>
      <value name="GROUP" code="GR"/>
      <value name="TRANSIENT" code="TR"/>
      <value name="NON_REVENUE" code="NR"/>
   </enum>

   <enum name="PayPeriodType">
      <value name="WEEKLY" code="WK"/>
      <value name="BI_WEEKLY" code="BW"/>
      <value name="SEMI_MONTHLY" code="SM"/>
      <value name="MONTHLY" code="MN"/>
   </enum>

   <enum name="DateRangeType">
      <value name="WEEKLY" code="WK"/>
      <value name="BI_WEEKLY" code="BW"/>
      <value name="SEMI_MONTHLY" code="SM"/>
      <value name="MONTHLY" code="MN"/>
   </enum>

   <enum name="PostedType">
      <value name="ACCOUNTS_PAYABLE" code="AP"/>
      <value name="ACCRUAL_CALCULATION" code="AC"/>
      <value name="ADDITIONAL_AMOUNT" code="AD"/>
      <value name="ALLOCATION" code="AL"/>
      <value name="BEGINNING_INVENTORY" code="BI"/>
      <value name="ENDING_INVENTORY" code="EI"/>
      <value name="FORECAST" code="FC"/>
      <value name="HIT_LIST" code="HL"/>
      <value name="JOURNAL_ENTRY" code="JE"/>
      <value name="PAYROLL" code="PR"/>
      <value name="PTD_ACCRUAL" code="PA"/>
      <value name="REMAINING_PERIOD" code="RP"/>
      <value name="REVENUE" code="RV"/>
   </enum>

   <enum name="ProductivityUnitType" etlPrimingUsesCode="true">
      <value name="HOURS_PER_UNIT" code="HU"/>
      <value name="MINUTES_PER_UNIT" code="MU"/>
      <value name="UNITS_PER_HOUR" code="UH"/>
      <value name="UNITS_PER_MINUTE" code="UM"/>
      <value name="FULL_TIME_EQUIVALENT" code="FT"/>
   </enum>

   <enum name="PunchType">
      <value name="IN" code="IN"/>
      <value name="OUT" code="OUT"/>
      <value name="BREAK" code="BREAK"/>
      <value name="BACK" code="BACK"/>
      <value name="GROSS" code="GRS"/>
      <value name="PIECES" code="PCS"/>
      <value name="TIPS" code="TIPS"/>
      <value name="GROSS_TIPS" code="GTPS"/>
      <value name="MEMO1" code="MEMO1"/>
      <value name="MEMO2" code="MEMO2"/>
      <value name="MEMO3" code="MEMO3"/>
      <value name="MEMO4" code="MEMO4"/>
      <value name="ON_SITE" code="ON_SITE"/>
      <value name="OFF_SITE" code="OFF_SITE"/>
      <value name="MEAL" code="MEAL"/>
   </enum>

   <enum name="PunchToScheduleMethod">
      <value name="NONE" code="N"/>
      <value name="HOME_JOB" code="H"/>
      <value name="LOGICAL_HOME_JOB" code="LH"/>
   </enum>

   <enum name="RevenueCellType">
      <value name="ACTUAL_DEPOSIT" code="ACD"/>
      <value name="ADJUSTMENT" code="ADJ"/>
      <value name="AMOUNT" code="AMT"/>
      <value name="CASH_DEPOSIT" code="CDP"/>
      <value name="CHARGES" code="CHG"/>
      <value name="CASH_OUT" code="CHO"/>
      <value name="COST_OF_GOODS" code="COG"/>
      <value name="COUNTED_CASH" code="CTC"/>
      <value name="DISCOUNT" code="DST"/>
      <value name="END_BALANCE" code="EBL"/>
      <value name="EXPENSED" code="EXP"/>
      <value name="GROSS" code="GRS"/>
      <value name="NET" code="NET"/>
      <value name="NET_CASH" code="NTC"/>
      <value name="OVER_SHORT" code="OVS"/>
      <value name="PRIOR_BALANCE" code="PBL"/>
      <value name="PAYMENTS" code="PMT"/>
      <value name="RATE" code="RAT"/>
      <value name="REVENUE" code="REV"/>
      <value name="SYSTEM_CASH" code="STC"/>
      <value name="TAX_ADJUST" code="TAJ"/>
      <value name="TAX" code="TAX"/>
      <value name="TAX_NET" code="TNT"/>
      <value name="TRANSFER_IN" code="TRI"/>
      <value name="TRANSFER_OUT" code="TRO"/>
      <value name="TOTAL" code="TTL"/>
      <value name="UNITS" code="UNT"/>
   </enum>

   <enum name="RevenueLineType">
      <value name="NET_ADJUSTMENT" code="ADJ"/>
      <value name="AMOUNTS_1" code="AM1"/>
      <value name="ACCOUNTS_RECEIVABLE" code="ARC"/>
      <value name="AR_END_BALANCE_ONLY" code="ARE"/>
      <value name="AR_NO_ADJUSTMENT" code="ARN"/>
      <value name="AVAILABLE_ROOMS" code="ARM"/>
      <value name="CREDIT_CARD_1" code="CC1"/>
      <value name="CREDIT_CARDS" code="CCD"/>
      <value name="CASH_OUT" code="CHO"/>
      <value name="CASH" code="CSH"/>
      <value name="CASHIER" code="CSR"/>
      <value name="CUSTOM_WRITEOFFS" code="CWO"/>
      <value name="FOOD_BEVERAGE_LOG" code="FBL"/>
      <value name="FUNDS_GROUP" code="FGR"/>
      <value name="FUNDS_MISCELLANEOUS" code="FMS"/>
      <value name="LOG_NUMBER_ROOMS" code="LNR"/>
      <value name="LOG_ROOM_NUMBER" code="LRN"/>
      <value name="MARKET_MIX" code="MIX"/>
      <value name="RECEIPTS" code="REC"/>
      <value name="REVENUE_MARKET_MIX" code="RMM"/>
      <value name="REVENUE_MISCELLANEOUS" code="RMS"/>
      <value name="REVENUE_TAXABLE" code="RTX"/>
      <value name="REVENUE_UNITS" code="RUN"/>
      <value name="ROOT" code="ROT"/>
      <value name="STATISTICS_GROUP" code="SGR"/>
      <value name="STATISTICS_1" code="ST1"/>
      <value name="TAX" code="TAX"/>
      <value name="VACANT_ROOMS" code="VRM"/>
      <value name="REVENUE_WO_TAX" code="RNT"/>
      <value name="REVENUE_UNIT_WO_TAX" code="RUT"/>
      <value name="REVENUE_MARKET_MIX_ADJ" code="RMA"/>
      <value name="ADJUSTMENT_MISC LOG" code="AMS"/>
      <value name="TAX_MISC_LOG" code="TMS"/>
      <value name="CREDIT_CARD_DISCOUNT" code="CC3"/>
      <value name="CASH_WITH_BALANCE" code="CSC"/>
      <value name="CASHIER_WITHOUT" code="CSO"/>
      <value name="FOOD_BEVERAGE_MULTI" code="FBM"/>
   </enum>

   <enum name="RevenueStatusType">
      <value name="NEW" code="N"/>
      <value name="OPEN" code="O"/>
      <value name="POSTED" code="P"/>
   </enum>

   <enum name="RuleType">
      <value name="EMPLOYEE_ALERT" code="EA"/>
      <value name="SHIFT_DIFFERENTIAL" code="DF"/>
      <value name="DAILY_DIFFERENTIAL" code="DD"/>
      <value name="WEEKLY_DIFFERENTIAL" code="WD"/>
      <value name="SHIFT_ADJUSTMENT" code="SA"/>
      <value name="HOURS_DISTRIBUTION" code="HD"/>
      <value name="REGULAR_RATE" code="RR"/>
      <value name="OT_RATE" code="OR"/>
      <value name="DT_RATE" code="DR"/>
      <value name="HOLIDAY_ELIGIBILITY" code="HE"/>
      <value name="RECONCILE_EMPLOYEE_POST_PROCESS" code="RE"/>
      <value name="PUNCH_VALIDATION" code="PV"/>
      <value name="EMPLOYEE_STAT" code="ES"/>
      <value name="EARNING_RATE" code="ER"/>
      <value name="SHIFT_CORRECTION" code="SC"/>
      <value name="SCHEDULE_LUNCH" code="SL"/>
      <value name="PUNCH_ROUNDING" code="PR"/>
      <value name="POST_CALC" code="PC"/>
      <value name="EMPLOYEE_EVENT" code="EE"/>
      <value name="EMPLOYEE_POINTS" code="EP"/>
      <value name="BENEFIT_ACCRUAL" code="BA"/>
      <value name="BENEFIT_EXPIRATION" code="BE"/>
      <value name="TIME_OFF_EARNING" code="TE"/>
      <value name="CLOSE_PAY_PERIOD" code="CP"/>
      <value name="MEAL_PUNCH" code="MP"/>
      <value name="POST_PUNCH" code="PP"/>
      <value name="SCHEDULE_RESTRICTION" code="SR"/>
      <value name="TIME_OFF_DISTRIBUTION" code="TD"/>
      <value name="REGULAR_HOURS_DISTRIBUTION" code="RH"/>
      <value name="SCHEDULE_LABEL" code="LB"/>
      <value name="SCHEDULE_LABEL_ADDENDUM" code="LA"/>
      <value name="SCHEDULE_CHANGE_VALIDATION" code="SV"/>
      <value name="SHIFT_DIFF_OT" code="SD"/>
   </enum>

   <enum name="ScheduleModeType">
      <value name="MONTHLY" code="M"/>
      <value name="WEEKLY" code="W"/>
   </enum>

   <enum name="ScheduleStateType">
      <value name="OPEN" code="O"/>
      <value name="ALLOW_EDITS" code="A"/>
      <value name="CROSS_UTILIZE" code="X"/>
      <value name="CLOSED" code="C"/>
   </enum>

   <enum name="SchedulingAssignmentStateType">
      <value name="OPEN" code="O"/>
      <value name="HOME_JOBS" code="H"/>
      <value name="SECONDARY_JOBS" code="S"/>
      <value name="CLOSED" code="C"/>
   </enum>

   <enum name="ShiftType">
      <value name="ACTUAL" code="A"/>
      <value name="GENERATED" code="G"/>
      <value name="SCHEDULE" code="S"/>
   </enum>

   <enum name="StatMode">
      <value name="ACTUAL" code="A"/>
      <value name="FORECAST" code="F"/>
   </enum>

   <enum name="TicketStatusType">
      <value name="NEW" code="N"/>
      <value name="UPDATED" code="U"/>
      <value name="OPEN" code="O"/>
      <value name="COMPLETE" code="C"/>
   </enum>

   <enum name="TipPoolDistributeType">
      <value name="PERCENTAGE" code="P"/>
      <value name="TOTAL_UNITS" code="TU"/>
   </enum>

   <enum name="AccrualAppliedType">
      <value name="EXP_WAIVED" code="W"/>
      <value name="EXP_EARNING" code="E"/>
      <value name="BALANCED" code="B"/>
   </enum>

   <enum name="AccrualFrequencyType">
      <value name="DAILY" code="D"/>
      <value name="PAY_PERIOD" code="P"/>
   </enum>

   <enum name="MessageType">
      <value name="ALERT" code="A"/>
      <value name="MESSAGE" code="M"/>
      <value name="PROMPT" code="P"/>
      <value name="REMINDER" code="R"/>
   </enum>

   <enum name="ShiftAuditType">
      <value name="SHIFT_ADDED" code="SA"/>
      <value name="SHIFT_DELETED" code="SD"/>
      <value name="SHIFT_DATE_CHANGED" code="DC"/>
      <value name="SHIFT_NOTES_CHANGED" code="NC"/>
      <value name="SHIFT_JOB_CHANGED" code="JC"/>
      <value name="SHIFT_CATEGORY_CHANGED" code="CC"/>
      <value name="SHIFT_PUNCHES_CHANGED" code="PC"/>
      <value name="SHIFT_ADJUSTMENTS_ADDED" code="AA"/>
      <value name="SHIFT_ADJUSTMENTS_DELETED" code="AD"/>
      <value name="SHIFT_WORKED_HOURS_CHANGED" code="WHC"/>
      <value name="SHIFT_ACCEPTED_REJECTED_PUNCH" code="ARP"/>
      <value name="SHIFT_ACCEPTED_PUNCH_CORRECTION" code="APC"/>
      <value name="SHIFT_REJECTED_PUNCH_CORRECTION" code="RPC"/>
      <value name="SHIFT_APPROVAL" code="APV"/>
      <value name="SHIFT_UNAPPROVAL" code="UNA"/>
   </enum>

   <enum name="EarningAuditType">
      <value name="EARNING_ADDED" code="EA"/>
      <value name="EARNING_DELETED" code="ED"/>
      <value name="EARNING_DATE_CHANGED" code="DAC"/>
      <value name="EARNING_NOTES_CHANGED" code="NC"/>
      <value name="EARNING_JOB_CHANGED" code="JC"/>
      <value name="EARNING_PAY_DATE_CHANGED" code="PDC"/>
      <value name="EARNING_TYPE_CHANGED" code="TC"/>
      <value name="EARNING_DOLLARS_CHANGED" code="DOC"/>
      <value name="EARNING_HOURS_CHANGED" code="HC"/>
      <value name="EARNING_RATE_CHANGED" code="RC"/>
      <value name="EARNING_APPROVED" code="APV"/>
      <value name="EARNING_UNAPPROVED" code="UPV"/>
   </enum>

   <enum name="AuditConfirmType">
      <value name="UNCONFIRMED" code="U"/>
      <value name="UNCONFIRMED_POSTPONED" code="UP"/>
      <value name="APPROVED" code="A"/>
      <value name="DISPUTED" code="D"/>
      <value name="DISPUTED_AWAITING_RECONFIRMATION" code="R"/>
      <value name="DISPUTED_AWAITING_RECONFIRMATION_POSTPONED" code="RP"/>
   </enum>

   <enum name="AccrualType">
      <value name="ENTIRE_PERIOD" code="EP"/>
      <value name="PERIOD_TO_DATE" code="PT"/>
      <value name="REMAINING_PERIOD" code="RP"/>
      <value name="LAST_PERIOD" code="LP"/>
   </enum>

   <enum name="AccrualCalculationMethod">
      <value name="FIXED_AMOUNT" code="F"/>
      <value name="KBI_AMOUNT" code="K"/>
      <value name="WEEKLY_AMOUNT" code="W"/>
      <value name="PERCENT_AMOUNT" code="P"/>
   </enum>

   <enum name="StatTypeUsageType">
      <value name="ACTUAL" code="A"/>
      <value name="WORKING" code="W"/>
   </enum>

   <enum name="ReconcileLMSUserMemberType">
      <value name="GROUP_NAME" code="G"/>
      <value name="PROPERTY_CODE" code="P"/>
   </enum>

   <enum name="LabelSource">
      <value name="MANUAL" code="M"/>
      <value name="RULE" code="R"/>
   </enum>

   <enum name="TaskType">
      <!-- RECURRING should be removed? -->
      <value name="RECURRING" code="R"/>
      <value name="EVENT_RELATED" code="E"/>
      <value name="MULTI_EVENT_RELATED" code="M"/>
   </enum>

   <enum name="IncludeForType">
      <value name="FIRST_RECURRING_EVENT" code="F"/>
      <value name="NON_RECURRING_EVENTS" code="N"/>
      <value name="ALL_EVENTS" code="A"/>
   </enum>

   <enum name="ServiceType">
      <value name="MEAL" code="M"/>
      <value name="BEVERAGE" code="B"/>
      <value name="OTHER" code="O"/>
   </enum>

   <enum name="SchedulePeriodType">
      <value name="BREAK" code="K"/>
      <value name="BREAKFAST" code="B"/>
      <value name="LUNCH" code="L"/>
      <value name="DINNER" code="D"/>
   </enum>

   <enum name="FunctionStartRelativeType">
      <value name="BEGINNING" code="B"/>
      <value name="END" code="E"/>
      <value name="WITHSETUPOF" code="S"/>
      <value name="WITHTEARDOWNOF" code="T"/>
   </enum>

   <enum name="FunctionEndRelativeType">
      <value name="BEGINNING" code="B"/>
      <value name="END" code="E"/>
      <value name="NUMBERMINUTESAFTER" code="N"/>
   </enum>

   <enum name="TimeRelativityType">
      <value name="PRECEDES_FUNCTIONS" code="P"/>
      <value name="FOLLOWS_FUNCTIONS" code="F"/>
      <value name="DURING_FUNCTIONS" code="D"/>
   </enum>

   <enum name="AttributeType">
      <value name="EMPLOYEE" code="EMP"/>
      <value name="FUNCTION" code="FUN"/>
      <value name="RESOURCE" code="RES"/>
      <value name="ROOMS" code="RMS"/>
      <value name="STYLE" code="STY"/>
      <value name="THEME" code="THM"/>
   </enum>

   <enum name="FunctionType">
      <value name="BEVERAGE" code="B"/>
      <value name="BREAK" code="K"/>
      <value name="EVENT" code="E"/>
      <value name="HOLD" code="H"/>
      <value name="MEAL" code="M"/>
      <value name="SERVICE" code="S"/>
   </enum>

   <enum name="FunctionStartTimeType">
      <value name="SPECIFIC_TIME" code="1"/>
      <value name="MINUTES_AFTER_EVENT_START" code="2"/>
      <value name="MINUTES_PRIOR_EVENT_END" code="3"/>
      <value name="DEFINED_INTERVAL" code="4"/>
   </enum>

   <enum name="FunctionEndTimeType">
      <value name="SPECIFIC_TIME" code="1"/>
      <value name="MINUTES_AFTER_FUNCTION_START" code="2"/>
      <value name="MINUTES_PRIOR_FUNCTION_END" code="3"/>
   </enum>

   <enum name="EventFunctionSourceType">
      <value name="IMPORTED" code="I"/>
      <value name="AUTO" code="A"/>
      <value name="MANUAL" code="M"/>
   </enum>

   <enum name="EventTaskSourceType">
      <value name="AUTO" code="A"/>
      <value name="MANUAL" code="M"/>
   </enum>

   <enum name="EventType">
      <value name="LAST_IMPORTED" code="L"/>
      <value name="CURRENT" code="C"/>
      <value name="PROPOSED_IMPORT" code="I"/>
   </enum>

   <enum name="NoteType">
      <value name="SETUP_NOTE" code="SN"/>
      <value name="AV_NOTE" code="AV"/>
      <value name="BEVERAGE_NOTE" code="BN"/>
      <value name="OTHER_NOTE" code="ON"/>
      <value name="FUNCTION_DESCRIPTION" code="FD"/>
   </enum>

   <enum name="EventExceptionType">
      <value name="NO_GUEST_COUNT" code="NGC"/>
      <value name="NO_SET_STYLE" code="NSS"/>
      <value name="NO_THEME" code="NTH"/>
      <value name="NO_ROOM" code="NRM"/>
      <value name="UNDESIRABLE_STYLE" code="USE"/>
      <value name="OVERLAPPING_EVENT" code="OLE"/>
   </enum>

   <enum name="ImportResolution">
      <value name="ADDED" code="A"/>
      <value name="UPDATED" code="U"/>
      <value name="CANCELLED" code="C"/>
      <value name="DELETED" code="D"/>
      <value name="IGNORED" code="I"/>
      <value name="ACTUALS" code="T"/>
   </enum>

   <enum name="EventTaskAdjustmentType">
      <value name="START" code="ST"/>
      <value name="END" code="EN"/>
   </enum>

   <enum name="CoverCountType">
      <value name="GUARANTEED" code="GU"/>
      <value name="SET" code="ST"/>
      <value name="SERVICE" code="SV"/>
   </enum>

   <enum name="AdjustmentType">
      <value name="START_TIME" code="S"/>
      <value name="END_TIME" code="E"/>
      <value name="PREP_TIME" code="P"/>
      <value name="SERVICE_TIME" code="V"/>
      <value name="CLEANUP_TIME" code="C"/>
   </enum>

   <enum name="WorkContentLogArrayType">
      <value name="NS_TOTAL_NO_BREAK" code="NSTTLNB"/>
      <value name="NS_BREAK" code="NSBREAK"/>
      <value name="NS_TOTAL_W_BREAK" code="NSTTLWB"/>
      <value name="NS_BODIES" code="NSBODYS"/>
      <value name="NS_MIN" code="NSMINUM"/>
      <value name="NS_MAX" code="NSMAXUM"/>
      <value name="STAFF_TOTAL_NO_BREAK" code="STTTLNB"/>
      <value name="NS_S_TOTAL_NO_BREAK" code="NSSTTLNB"/>
      <value name="NS_S_BREAK" code="NSSBREAK"/>
      <value name="NS_S_TOTAL_W_BREAKS" code="NSSTTLWB"/>
      <value name="BODIES_INITIAL" code="BODINITL"/>
      <value name="BODIES_MIN" code="BODMIN"/>
      <value name="BODIES_MAX" code="BODMAX"/>
      <value name="BODIES_FINAL" code="BODFINAL"/>
   </enum>

   <enum name="WorkContentLogDetailArrayType">
      <value name="FLOW_PERCENTS" code="F"/>
      <value name="MINUTES" code="M"/>
      <value name="MINUTES_WITH_RETENTION" code="R"/>
   </enum>

   <enum name="StandardTypeEnum">
      <value name="NONE" code="N"/>
      <value name="SHIFT_RELATED" code="H"/>
      <value name="EVENT_RELATED" code="E"/>
      <value name="KBI_RELATED" code="K"/>
      <value name="SALARIED" code="S"/>
   </enum>

   <enum name="DistributionMethodEnum">
      <value name="FLOWED" code="F"/>
      <value name="FILL_GAPS" code="G"/>
      <value name="NON_FLOWED" code="N"/>
      <value name="OPENING" code="O"/>
      <value name="CLOSING" code="C"/>
      <value name="SHARE_WITH" code="H"/>
   </enum>

   <enum name="DefaultNonFlowedDistributionMethodEnum">
      <value name="BEGINNING" code="B"/>
      <value name="MIDDLE" code="M"/>
      <value name="END" code="E"/>
      <value name="EVEN" code="V"/>
   </enum>

   <enum name="NonFlowedDistributionMethodEnum">
      <value name="BEGINNING" code="B"/>
      <value name="MIDDLE" code="M"/>
      <value name="END" code="E"/>
      <value name="EVEN" code="V"/>
      <value name="VARYING" code="Y"/>
   </enum>

   <enum name="WorkTypeEnum">
      <value name="DAILY" code="D"/>
      <value name="WEEKLY" code="W"/>
      <value name="VARIABLE" code="V"/>
      <value name="RECURRING_TASK" code="R"/>
      <value name="STAFF" code="S"/>
      <value name="SHARE_WITH" code="H"/>
      <value name="TASK" code="T"/>
   </enum>

   <enum name="UnitsEnum">
      <value name="HOURS" code="HR"/>
      <value name="MINUTES" code="MN"/>
      <value name="HOURS_PER_UNIT" code="HU"/>
      <value name="MINUTES_PER_UNIT" code="MU"/>
      <value name="UNITS_PER_HOUR" code="UH"/>
      <value name="UNITS_PER_MINUTE" code="UM"/>
      <value name="UNITS_PER_SHIFT" code="US"/>
      <value name="UNITS_PER_PERSON" code="UP"/>
   </enum>

   <enum name="ValueTypeEnum">
      <value name="FORECAST" code="F"/>
      <value name="ACTUALS" code="A"/>
   </enum>

   <enum name="SpreadStandardTypeEnum">
      <value name="FIXED" code="F"/>
      <value name="DYNAMIC" code="D"/>
   </enum>

   <enum name="SalaryModeEnum">
      <value name="MONTHLY" code="M"/>
      <value name="WEEKLY" code="W"/>
   </enum>

   <enum name="FrequencyTypeEnum">
      <value name="DAILY" code="D"/>
      <value name="WEEKLY" code="W"/>
      <value name="MONTHLY" code="M"/>
   </enum>

   <enum name="MonthlyIntervalEnum">
      <value name="DAY_N_OF_EVERY_MONTH" code="D"/>
      <value name="NTH_DAY_OF_EVERY_N_MONTHS" code="N"/>
   </enum>

   <enum name="OccurrenceEnum">
      <value name="DURING_SHIFT" code="S"/>
      <value name="SINGLE_OCCURRENCE" code="O"/>
      <value name="MULTIPLE_OCCURRENCES" code="M"/>
   </enum>

   <enum name="DurationTypeEnum">
      <value name="FIXED" code="F"/>
      <value name="VARIABLE" code="V"/>
   </enum>

   <enum name="PlanType">
      <value name="FORECAST" code="F"/>
      <value name="ORIGINAL" code="O"/>
      <value name="STANDARD" code="S"/>
      <value name="GENERATED" code="G"/>
   </enum>

   <enum name="WorkContentType">
      <value name="EVENT_RELATED" code="E"/>
      <value name="NON_EVENT_RELATED" code="N"/>
      <value name="MULTI_EVENT_RELATED" code="M"/>
      <value name="EVENT_SETUP" code="U"/>
      <value name="EVENT_TEAR_DOWN" code="D"/>
      <value name="MANUAL_TASK" code="A"/>
   </enum>

   <enum name="WorkContentDetailType">
      <value name="NORMAL_TASK" code="T"/>
      <value name="SETUP_TASK" code="U"/>
      <value name="TEAR_DOWN_TASK" code="D"/>
   </enum>

   <enum name="PlannedShiftWeightingCalculatorType">
      <value name="ROOM_PRIORITY" code="RP"/>
      <value name="CONSTRAINED_WORK" code="CW"/>
      <value name="PREFERRED_START" code="PS"/>
      <value name="SHIFT_WEIGHTING" code="SW"/>
      <value name="SHIFT_OVERLAP" code="SO"/>
      <value name="TASK_PRIORITY" code="TP"/>
      <value name="WORK_DURATION" code="WD"/>
   </enum>

   <enum name="StagingInterfaceType">
      <value name="IMPORT_HOURS"/>
      <value name="IMPORT_FLOW_PATTERN"/>
      <value name="EVENT_BOOKING_STAGING"/>
      <value name="IMPORT_DYNAMIC_SPREAD_VALUES"/>
   </enum>

   <enum name="ProcessStatusType">
      <value name="OK"/>
      <value name="FAILED"/>
      <value name="INCOMPLETE"/>
      <value name="RUNNING"/>
   </enum>

   <enum name="SendStatusType">
      <value name="OK"/>
      <value name="WARNING"/>
      <value name="ERROR"/>
   </enum>

   <enum name="EmpProdAuditType">
      <value name="CONFIG_OVERRIDDEN" code="C"/>
      <value name="KBI_ENTERED_CHANGED" code="K"/>
      <value name="GOAL_CHANGED" code="G"/>
      <value name="OVERRIDE_CHANGED" code="O"/>
   </enum>

   <enum name="BudgetFormulaCalculationType">
      <value name="BUDGET_LINE" code="B"/>
      <value name="KBI" code="K"/>
   </enum>

   <enum name="BudgetFormulaOperationType">
      <value name="ADD" code="+"/>
      <value name="SUBTRACT" code="-"/>
      <value name="MULTIPLY" code="*"/>
      <value name="DIVIDE" code="/"/>
   </enum>

   <enum name="WidgetChartLineType">
      <value name="BUDGET_LINE" code="B"/>
      <value name="KBI" code="K"/>
      <value name="FORMULA" code="F"/>
   </enum>

   <enum name="WidgetType">
      <value name="OCCUPANCY" code="OCC"/>
      <value name="ADR" code="ADR"/>
      <value name="REVPAR" code="PAR"/>
      <value name="TRENDS" code="TRN"/>
      <value name="PERCENTAGE" code="PER"/>
      <value name="DEEPDIVE" code="DIV"/>
      <value name="PRODUCTIVITY" code="PRD"/>
   </enum>

   <enum name="CalculationType">
      <value name="MINUTES_PER_UNIT" code="MPU"/>
      <value name="HOUR_PER_UNIT" code="HPU"/>
      <value name="UNIT_PER_MINUTES" code="UPM"/>
      <value name="UNIT_PER_HOUR" code="UPH"/>
      <value name="PERCENTAGE" code="FTE"/>
   </enum>

   <enum name="ProductivityCalculationType">
      <value name="MINUTES_PER_UNIT" code="MPU"/>
      <value name="HOUR_PER_UNIT" code="HPU"/>
      <value name="UNIT_PER_MINUTES" code="UPM"/>
      <value name="UNIT_PER_HOUR" code="UPH"/>
   </enum>

   <enum name="PerformanceMeasureType">
      <value name="NONE" code="NO"/>
      <value name="PERCENT" code="PE"/>
      <value name="PRODUCTIVITY" code="PR"/>
      <value name="FULL_TIME_EQUIVALENT" code="FT"/>
      <value name="PROJECTED_HOURS" code="PH"/>
   </enum>

   <enum name="PlanningWatsonTask">
      <value name="ADJUST_FORECAST_FLOW_PATTERNS"/>
      <value name="CHANGE_SCHEDULE_STATE"/>
      <value name="EDIT_REVENUE_CENTER_FORECAST"/>
      <value name="EDIT_ROOMS_FORECAST"/>
      <value name="ENTER_FORECAST_ENVIRONMENTS"/>
      <value name="ENTER_INPUT_KBI_FORECAST"/>
      <value name="ENTER_ROOMS_PRE_WORK"/>
      <value name="ENTER_SCHEDULED_HOURS"/>
      <value name="ENTER_SHARE_WITH_SCHEDULES"/>
      <value name="GENERATE_PROJECTED_HOURS"/>
      <value name="GENERATE_REVENUE_CENTER_FORECAST"/>
      <value name="GENERATE_ROOMS_FORECAST"/>
      <value name="GENERATE_SCHEDULES"/>
      <value name="IMPORT_FORECAST_KBIS"/>
      <value name="MANAGE_EVENT_ORDERS"/>
      <value name="PRE_SCHEDULE_EMPLOYEES"/>
      <value name="EXPORT_SCHEDULES"/>
      <value name="SCHEDULING"/>
      <value name="PUBLISH_SCHEDULES"/>
   </enum>

   <enum name="TemperatureScaleType">
      <value name="FAHRENHEIT" code="F"/>
      <value name="CELSIUS" code="C"/>
   </enum>

   <enum name="ManageSchedulesChangeCategoryType">
      <value name="APPROVAL" code="A"/>
      <value name="UNAPPROVAL" code="U"/>
      <value name="CLOSE_SCHEDULE" code="C"/>
      <value name="OPEN_SCHEDULE" code="O"/>
      <value name="MARK_COMPLETE" code="M"/>
      <value name="PUBLISHED" code="P"/>
      <value name="HOME_JOBS" code="H"/>
      <value name="SECONDARY_JOBS" code="S"/>
   </enum>

   <enum name="AuditType">
      <value name="ADD" code="A"/>
      <value name="DEL" code="D"/>
      <value name="MOD" code="M"/>
   </enum>

   <view name="AssignmentHierarchy" databaseType="mssql">
      <![CDATA[
   with ah as
   (
   select Property.Name as PropertyName, Assignment.ID as AssignmentID, CONVERT(varchar(MAX), Assignment.Name) as FullPath from Assignment join Property on PropertyID = Property.ID where ParentAssignmentID is null
   union all
   select PropertyName, ID as AssignmentID, CONVERT(varchar(MAX), FullPath + '\' + Name) as FullPath from Assignment join ah on Assignment.ParentAssignmentID = ah.AssignmentID
   )
   select * from ah
   ]]>
   </view>

   <view name="AssignmentHierarchy" databaseType="pgsql">
      <![CDATA[
   with recursive ah as
   (
      select Property.Name as PropertyName, Assignment.ID as AssignmentID, cast(Assignment.Name as varchar(1000)) as FullPath from Assignment join Property on PropertyID = Property.ID where ParentAssignmentID is null
      union all
      select PropertyName, ID as AssignmentID, cast(FullPath || '\\' || Name as varchar(1000)) as FullPath from Assignment join ah on Assignment.ParentAssignmentID = ah.AssignmentID
   )
   select * from ah
   ]]>
   </view>

   <view name="InheritedAssignmentPlannerSettingsQuery" databaseType="mssql">
      <![CDATA[
   with ap as (
   select
      a.PropertyID, convert(varchar(max),a.Name) as FullAssignmentName, aps.ID, AssignmentID, aps.StandardSetID, StandardType,
      case when aps.PeriodLength is null then pps.PeriodLength else aps.PeriodLength end as PeriodLength,
      case when aps.MinShift is null then pps.MinShift else aps.MinShift end as MinShift,
      case when aps.MaxShift is null then pps.MaxShift else aps.MaxShift end as MaxShift,
      case when aps.RoundingThresholdBelowOne is null then pps.RoundingThresholdBelowOne else aps.RoundingThresholdBelowOne end as RoundingThresholdBelowOne,
      case when aps.RoundingThresholdAboveOne is null then pps.RoundingThresholdAboveOne else aps.RoundingThresholdAboveOne end as RoundingThresholdAboveOne,
      case when aps.MealBreakAfter is null then pps.MealBreakAfter else aps.MealBreakAfter end as MealBreakAfter,
      case when aps.MealBreakLength is null then pps.MealBreakLength else aps.MealBreakLength end as MealBreakLength,
      case when aps.NonMealBreakEvery is null then pps.NonMealBreakEvery else aps.NonMealBreakEvery end as NonMealBreakEvery,
      case when aps.NonMealBreakLength is null then pps.NonMealBreakLength else aps.NonMealBreakLength end as NonMealBreakLength,
      case when aps.GenerateLongShifts is null then pps.GenerateLongShifts else aps.GenerateLongShifts end as GenerateLongShifts,
      case when aps.LimitShiftToMaxShift is null then pps.LimitShiftToMaxShift else aps.LimitShiftToMaxShift end as LimitShiftToMaxShift,
      case when aps.TruncateMaxCoverage is null then pps.TruncateMaxCoverage else aps.TruncateMaxCoverage end as TruncateMaxCoverage,
      case when aps.DefaultNonFlowedDistributionMethod is null then pps.DefaultNonFlowedDistributionMethod else aps.DefaultNonFlowedDistributionMethod end as DefaultNonFlowedDistributionMethod
   from Assignment a join AssignmentPlannerSettings aps on a.ID = aps.AssignmentID join PropertyPlannerSettings pps on a.PropertyID = pps.PropertyID and aps.StandardSetID = pps.StandardSetID where ParentAssignmentID is null
   union all
   select
      a.PropertyID, convert(varchar(max),FullAssignmentName + '\' + a.Name) as FullAssignmentName, aps.ID, aps.AssignmentID, aps.StandardSetID, aps.StandardType,
      case when aps.PeriodLength is null then ap.PeriodLength else aps.PeriodLength end as PeriodLength,
      case when aps.MinShift is null then ap.MinShift else aps.MinShift end as MinShift,
      case when aps.MaxShift is null then ap.MaxShift else aps.MaxShift end as MaxShift,
      case when aps.RoundingThresholdBelowOne is null then ap.RoundingThresholdBelowOne else aps.RoundingThresholdBelowOne end as RoundingThresholdBelowOne,
      case when aps.RoundingThresholdAboveOne is null then ap.RoundingThresholdAboveOne else aps.RoundingThresholdAboveOne end as RoundingThresholdAboveOne,
      case when aps.MealBreakAfter is null then ap.MealBreakAfter else aps.MealBreakAfter end as MealBreakAfter,
      case when aps.MealBreakLength is null then ap.MealBreakLength else aps.MealBreakLength end as MealBreakLength,
      case when aps.NonMealBreakEvery is null then ap.NonMealBreakEvery else aps.NonMealBreakEvery end as NonMealBreakEvery,
      case when aps.NonMealBreakLength is null then ap.NonMealBreakLength else aps.NonMealBreakLength end as NonMealBreakLength,
      case when aps.GenerateLongShifts is null then ap.GenerateLongShifts else aps.GenerateLongShifts end as GenerateLongShifts,
      case when aps.LimitShiftToMaxShift is null then ap.LimitShiftToMaxShift else aps.LimitShiftToMaxShift end as LimitShiftToMaxShift,
      case when aps.TruncateMaxCoverage is null then ap.TruncateMaxCoverage else aps.TruncateMaxCoverage end as TruncateMaxCoverage,
      case when aps.DefaultNonFlowedDistributionMethod is null then ap.DefaultNonFlowedDistributionMethod else aps.DefaultNonFlowedDistributionMethod end as DefaultNonFlowedDistributionMethod
   from Assignment a join AssignmentPlannerSettings aps on a.ID = aps.AssignmentID join ap on a.ParentAssignmentID = ap.AssignmentID and aps.StandardSetID = ap.StandardSetID
   )
   select * from ap
   ]]>
   </view>

   <view name="InheritedAssignmentPlannerSettingsQuery" databaseType="pgsql">
      <![CDATA[
   with recursive ap as (
   select
      a.PropertyID, cast(a.Name as varchar(1000)) as FullAssignmentName, aps.ID, AssignmentID, aps.StandardSetID, StandardType,
      case when aps.PeriodLength is null then pps.PeriodLength else aps.PeriodLength end as PeriodLength,
      case when aps.MinShift is null then pps.MinShift else aps.MinShift end as MinShift,
      case when aps.MaxShift is null then pps.MaxShift else aps.MaxShift end as MaxShift,
      case when aps.RoundingThresholdBelowOne is null then pps.RoundingThresholdBelowOne else aps.RoundingThresholdBelowOne end as RoundingThresholdBelowOne,
      case when aps.RoundingThresholdAboveOne is null then pps.RoundingThresholdAboveOne else aps.RoundingThresholdAboveOne end as RoundingThresholdAboveOne,
      case when aps.MealBreakAfter is null then pps.MealBreakAfter else aps.MealBreakAfter end as MealBreakAfter,
      case when aps.MealBreakLength is null then pps.MealBreakLength else aps.MealBreakLength end as MealBreakLength,
      case when aps.NonMealBreakEvery is null then pps.NonMealBreakEvery else aps.NonMealBreakEvery end as NonMealBreakEvery,
      case when aps.NonMealBreakLength is null then pps.NonMealBreakLength else aps.NonMealBreakLength end as NonMealBreakLength,
      case when aps.GenerateLongShifts is null then pps.GenerateLongShifts else aps.GenerateLongShifts end as GenerateLongShifts,
      case when aps.LimitShiftToMaxShift is null then pps.LimitShiftToMaxShift else aps.LimitShiftToMaxShift end as LimitShiftToMaxShift,
      case when aps.TruncateMaxCoverage is null then pps.TruncateMaxCoverage else aps.TruncateMaxCoverage end as TruncateMaxCoverage,
      case when aps.DefaultNonFlowedDistributionMethod is null then pps.DefaultNonFlowedDistributionMethod else aps.DefaultNonFlowedDistributionMethod end as DefaultNonFlowedDistributionMethod
   from Assignment a join AssignmentPlannerSettings aps on a.ID = aps.AssignmentID join PropertyPlannerSettings pps on a.PropertyID = pps.PropertyID and aps.StandardSetID = pps.StandardSetID where ParentAssignmentID is null
   union all
   select
      a.PropertyID, cast(FullAssignmentName || '\\' || a.Name as varchar(1000)) as FullAssignmentName, aps.ID, aps.AssignmentID, aps.StandardSetID, aps.StandardType,
      case when aps.PeriodLength is null then ap.PeriodLength else aps.PeriodLength end as PeriodLength,
      case when aps.MinShift is null then ap.MinShift else aps.MinShift end as MinShift,
      case when aps.MaxShift is null then ap.MaxShift else aps.MaxShift end as MaxShift,
      case when aps.RoundingThresholdBelowOne is null then ap.RoundingThresholdBelowOne else aps.RoundingThresholdBelowOne end as RoundingThresholdBelowOne,
      case when aps.RoundingThresholdAboveOne is null then ap.RoundingThresholdAboveOne else aps.RoundingThresholdAboveOne end as RoundingThresholdAboveOne,
      case when aps.MealBreakAfter is null then ap.MealBreakAfter else aps.MealBreakAfter end as MealBreakAfter,
      case when aps.MealBreakLength is null then ap.MealBreakLength else aps.MealBreakLength end as MealBreakLength,
      case when aps.NonMealBreakEvery is null then ap.NonMealBreakEvery else aps.NonMealBreakEvery end as NonMealBreakEvery,
      case when aps.NonMealBreakLength is null then ap.NonMealBreakLength else aps.NonMealBreakLength end as NonMealBreakLength,
      case when aps.GenerateLongShifts is null then ap.GenerateLongShifts else aps.GenerateLongShifts end as GenerateLongShifts,
      case when aps.LimitShiftToMaxShift is null then ap.LimitShiftToMaxShift else aps.LimitShiftToMaxShift end as LimitShiftToMaxShift,
      case when aps.TruncateMaxCoverage is null then ap.TruncateMaxCoverage else aps.TruncateMaxCoverage end as TruncateMaxCoverage,
      case when aps.DefaultNonFlowedDistributionMethod is null then ap.DefaultNonFlowedDistributionMethod else aps.DefaultNonFlowedDistributionMethod end as DefaultNonFlowedDistributionMethod
   from Assignment a join AssignmentPlannerSettings aps on a.ID = aps.AssignmentID join ap on a.ParentAssignmentID = ap.AssignmentID and aps.StandardSetID = ap.StandardSetID
   )
   select * from ap
   ]]>
   </view>

   <view name="Department">
      <![CDATA[
   select Assignment.ID, ParentAssignmentID as DivisionID, Assignment.Name, Code, Assignment.ID as AssignmentID,
          FstVarianceFrom, FstVarianceTo, StdVarianceFrom, StdVarianceTo, ExcludeFromPayrollExport, Flags
   from Assignment
   inner join LaborLevel on LaborLevel.ID = Assignment.LevelID
   where LaborLevel.Level = 2
   ]]>
   </view>

   <view name="DepartmentProductivity">
      <![CDATA[
   select AssignmentID as DepartmentID, ProductivityKBIID, ProductivityUnitCode, ProductivityGoal
   from AssignmentProductivity
   ]]>
   </view>

   <view name="Division">
      <![CDATA[
   select Assignment.ID, Assignment.PropertyID, Assignment.Name, Code, Assignment.ID as AssignmentID,
          FstVarianceFrom, FstVarianceTo, StdVarianceFrom, StdVarianceTo, ExcludeFromPayrollExport, Flags
   from Assignment
   inner join LaborLevel on LaborLevel.ID = Assignment.LevelID
   where LaborLevel.Level = 1
   ]]>
   </view>

   <view name="DivisionProductivity">
      <![CDATA[
   select AssignmentID as DivisionID, ProductivityKBIID, ProductivityUnitCode, ProductivityGoal
   from AssignmentProductivity
   ]]>
   </view>

   <view name="Jobclass">
      <![CDATA[
   select
      Assignment.ID, ParentAssignmentID as DepartmentID, Assignment.Name, Code, Assignment.ID as AssignmentID, BalanceSchedules,
      MinHoursOff, MinDaysOff, FstVarianceFrom, FstVarianceTo, StdVarianceFrom, StdVarianceTo,DayOrder, RotationPlanID,
      JobRotationPlanID, MasterJobClassID, JobCategoryID, Flags, DepartmentalSeniority, EventLabor
   from
      Assignment inner join LaborLevel on LaborLevel.ID = Assignment.LevelID
   where
      LaborLevel.Level = 3
   ]]>
   </view>

   <view name="JobclassProductivity">
      <![CDATA[
   select AssignmentID as JobclassID, ProductivityKBIID, ProductivityUnitCode, ProductivityGoal
   from AssignmentProductivity
   ]]>
   </view>

   <view name="BudgetLineData">
      <![CDATA[
   select bl.PropertyID as PropertyID,bl.ParentLineID as ParentLineID,bl.Description as Description, bl.Code as Code,bl.OrderNo as OrderNo,blc.LineTypeCode as LineTypeCode, bl.CalcPercentOfParent as CalcPercentOfParent,
   blc.Operation as Operation, blc.AllocationType as AllocationType, blc.AccountID as AccountID, blc.KBIID as KBIID, blc.JobclassID as JobclassID, blc.PercentLineID as PercentLineID,
   bd.BudgetDatasetID as DatasetID, bd.StatTypeCode as StatTypeCode, bd.PeriodNo as PeriodNo, bd.BudgetLineID as BudgetLineID, bd.NumberUnits as NumberUnits, bd.Rate as Rate,
   bd.Factor as Factor, bd.FixedDollars as FixedDollars, bd.TotalDollars as TotalDollars,bd.PercentOfParent as PercentOfParent,bd.PercentOfLine as PercentOfLine
   from BudgetLine bl inner join BudgetData bd on bl.ID = bd.BudgetLineID inner join BudgetLineConfig blc on blc.BudgetLineID = bd.BudgetLineID
   ]]>
   </view>

   <view name="Requirement" databaseType="mssql">
      <![CDATA[
      with RequirementSupport as
      (
         select
            JobID as JobclassID, ShiftType as RequirementCode, ShiftDate as RequirementDate, StartDateTime as StartTime, EndDateTime as EndTime,
            dateadd(minute, (Duration - floor(Duration)) * 60, dateadd(hour, floor(Duration), convert(DATETIME, '00:00:00'))) as LengthTime,
            'N' as IsRelief, AssignmentID, NULL as Flags, 1 as NumberShifts, Duration, PropertyID
         from
            PlannedShift
      )
      select
         JobclassID,RequirementCode,RequirementDate,StartTime,EndTime,LengthTime,Duration,IsRelief,AssignmentID,Flags,
         sum(Duration) as ForecastHours,count(*) as NumberShifts,PropertyID
      from
         RequirementSupport
      group by
         PropertyID,JobclassID,RequirementCode,RequirementDate,StartTime,EndTime,LengthTime,Duration,IsRelief,AssignmentID,Flags
   ]]>
   </view>

   <view name="Requirement" databaseType="pgsql">
      <![CDATA[
      with RequirementSupport as
      (
         select
            JobID as JobclassID, ShiftType as RequirementCode, ShiftDate as RequirementDate, StartDateTime as StartTime, EndDateTime as EndTime,
            (cast('1/1/1900 0:00' as timestamp) + floor(Duration) * INTERVAL'1 hour') + (Duration - floor(Duration)) * 60 * INTERVAL'1 minute' as LengthTime,
            cast('N' as char(1)) as IsRelief, AssignmentID, cast(NULL as integer) as Flags, 1 as NumberShifts, Duration, PropertyID
         from
            PlannedShift
      )
      select
         JobclassID,RequirementCode,RequirementDate,StartTime,EndTime,LengthTime,Duration,IsRelief,AssignmentID,Flags,
         sum(Duration) as ForecastHours,count(*) as NumberShifts,PropertyID
      from
         RequirementSupport
      group by
         PropertyID,JobclassID,RequirementCode,RequirementDate,StartTime,EndTime,LengthTime,Duration,IsRelief,AssignmentID,Flags

   ]]>
   </view>

   <view name="BudgetLineLoadQuery" databaseType="mssql">
      <![CDATA[
      select b.ID as LineID, b.Description as LineDescription, b.Code as LineCode, b.PropertyID as PropertyID, b.ParentLineID,b.OrderNo,
         b.GlobalOrderNo, blc.LineTypeCode, blc.Operation, blc.AllocationType,blc.FactorMode, blc.KBIID, blc.JobclassID,blc.AccountID,blc.UnitAccountID,blc.OTCostAccountID,blc.OTHoursAccountID,
         blc.PercentLineId,b.CalcPercentOfParent,blc.Active as lineActive ,blc.Discretionary, b.Flags,blc.BasedOn, blc.UseSalariedFactor, b.MasterBudgetLineID,
         a.ID as AcID, a.Code as AcCode,
         a.Description as AcDescription, a.InterfaceAction,aoa.ID as OffsetAccount,a.Active as AcActive,a.ReMapAccountID as AcRemapAccount,
         k.ID as kID, 'N' as isPrimary, j.ID as jID, p.VendorID, p.Threshold, p.CalcPTDMode, v.ID as vID,v.VendorName,
         v.VendorNo, v.Active as vendorIsActive, ua.ID as UAcID, ua.Code as UAcCode, ua.Description as UAcDescription,
         ua.InterfaceAction as UAcInterfaceAction,uaoa.ID as UAcOffsetAccount,ua.Active as UAcActive,ua.ReMapAccountID as UAcRemapAccount,
         otca.ID as OTCAcID, otca.Code as OTCAcCode, otca.Description as OTCAcDescription,otca.InterfaceAction as OTCAcInterfaceAction,otcaoa.ID as OTCAcOffsetAccount,otca.Active as OTCAcActive,otca.ReMapAccountID as OTCAcRemapAccount,
         otha.ID as OTHAcID, otha.Code as OTHAcCode, otha.Description as OTHAcDescription,otha.InterfaceAction as OTHAcInterfaceAction,othaoa.ID as OTHAcOffsetAccount,otha.Active as OTHAcActive,otha.ReMapAccountID as OTHAcRemapAccount,
         mbl.ID as MBLID, mbl.ParentLineID as MBLParentID, mbl.Description as MBLDescription, mbl.OrderNo as MBLOrderNo, mbl.PercentLineID as MBLPercentID
      from BudgetLine b
      inner join BudgetLineConfig blc on blc.BudgetLineID = b.ID
      left join Account a on blc.AccountID  = a.ID
	   left join Account aoa on a.OffsetAccountID = aoa.ID
      left join KBI k on blc.KBIID = k.ID
      left join Jobclass j on blc.JobclassID = j.ID
      left join ProfitLineConfig p on b.ID = p.BudgetLineId
      left join Vendor v on p.Vendorid = v.ID
      left join Account ua on blc.UnitAccountID = ua.ID
	   left join Account uaoa on ua.OffsetAccountID = uaoa.ID
      left join Account otca on blc.OTCostAccountID = otca.ID
	   left join Account otcaoa on otca.OffsetAccountID = otcaoa.ID
      left join Account otha on blc.OTHoursAccountID = otha.ID
	   left join Account othaoa on otha.OffsetAccountID = othaoa.ID
      left join MasterBudgetLine mbl on b.MasterBudgetLineID = mbl.ID
   ]]>
   </view>

   <view name="BudgetLineLoadQuery" databaseType="pgsql">
      <![CDATA[
      select b.ID as LineID, b.Description as LineDescription, b.Code as LineCode, b.PropertyID as PropertyID, b.ParentLineID,b.OrderNo,
         b.GlobalOrderNo, blc.LineTypeCode, blc.Operation, blc.AllocationType,blc.FactorMode, blc.KBIID, blc.JobclassID,blc.AccountID,
         blc.UnitAccountID,blc.OTCostAccountID,blc.OTHoursAccountID,
         blc.PercentLineId,b.CalcPercentOfParent,blc.Active as lineActive ,blc.Discretionary, b.Flags,blc.BasedOn, blc.UseSalariedFactor, b.MasterBudgetLineID,
         a.ID as AcID, a.Code as AcCode,
         a.Description as AcDescription, a.InterfaceAction,aoa.ID as OffsetAccount,a.Active as AcActive,a.ReMapAccountID as AcRemapAccount,
         k.ID as kID, 'N' as isPrimary, j.ID as jID, p.VendorID, p.Threshold, p.CalcPTDMode, v.ID as vID,v.VendorName,
         v.VendorNo, v.Active as vendorIsActive, ua.ID as UAcID, ua.Code as UAcCode, ua.Description as UAcDescription,
         ua.InterfaceAction as UAcInterfaceAction,uaoa.ID as UAcOffsetAccount,ua.Active as UAcActive,ua.ReMapAccountID as UAcRemapAccount,
         otca.ID as OTCAcID, otca.Code as OTCAcCode, otca.Description as OTCAcDescription,otca.InterfaceAction as OTCAcInterfaceAction,otcaoa.ID as OTCAcOffsetAccount,otca.Active as OTCAcActive,otca.ReMapAccountID as OTCAcRemapAccount,
         otha.ID as OTHAcID, otha.Code as OTHAcCode, otha.Description as OTHAcDescription,otha.InterfaceAction as OTHAcInterfaceAction,othaoa.ID as OTHAcOffsetAccount,otha.Active as OTHAcActive,otha.ReMapAccountID as OTHAcRemapAccount,
         mbl.ID as MBLID, mbl.ParentLineID as MBLParentID, mbl.Description as MBLDescription, mbl.OrderNo as MBLOrderNo, mbl.PercentLineID as MBLPercentID
      from BudgetLine b
      inner join BudgetLineConfig blc on blc.BudgetLineID = b.ID
      left join Account a on blc.AccountID  = a.ID
	   left join Account aoa on a.OffsetAccountID = aoa.ID
      left join KBI k on blc.KBIID = k.ID
      left join Jobclass j on blc.JobclassID = j.ID
      left join ProfitLineConfig p on b.ID = p.BudgetLineId
      left join Vendor v on p.Vendorid = v.ID
      left join Account ua on blc.UnitAccountID = ua.ID
	   left join Account uaoa on ua.OffsetAccountID = uaoa.ID
      left join Account otca on blc.OTCostAccountID = otca.ID
	   left join Account otcaoa on otca.OffsetAccountID = otcaoa.ID
      left join Account otha on blc.OTHoursAccountID = otha.ID
	   left join Account othaoa on otha.OffsetAccountID = othaoa.ID
      left join MasterBudgetLine mbl on b.MasterBudgetLineID = mbl.ID
   ]]>
   </view>

   <view name="BudgetLineDataLoadQuery" databaseType="mssql">
      <![CDATA[
   select l.PropertyID as PropertyID,l.ID as LineID,l.Code as LineCode,d.StatTypeCode as StatTypeCode, d.Year as Year, blc.FactorMode as FactorMode,
   n.NoteText, d.PeriodNo,d.NumberUnits,d.Rate,d.Factor,d.FixedDollars,d.TotalDollars,d.PercentOfParent,d.PercentOfLine from BudgetData d inner join BudgetLine l
     inner join BudgetLineConfig blc on blc.BudgetLineID = l.ID
     left join BudgetLineNote n on l.ID = n.BudgetLineID on d.BudgetLineID =  l.Id and d.BudgetDatasetID = blc.BudgetDatasetID and
     d.BudgetDatasetId = n.BudgetDatasetID and blc.LineTypeCode not in ('T','C')
   ]]>
   </view>

   <view name="BudgetLineRatesLoadQuery" databaseType="mssql">
      <![CDATA[
   select l.PropertyID as PropertyID,l.ID as BudgetLineID,l.Code as BudgetLineCode, d.StatTypeCode as StatTypeCode, d.Year as Year,d.RangeNo,
   d.FromVolume,d.ToVolume,d.Period1Rate,d.Period2Rate,d.Period3Rate, d.Period4Rate,d.Period5Rate,d.Period6Rate,d.Period7Rate,d.Period8Rate,d.Period9Rate,
   d.Period10Rate,d.Period11Rate,d.Period12Rate,d.Period13Rate from BudgetLine l inner join BudgetLineRate d on l.ID = d.BudgetLineID inner join BudgetLineConfig blc
   on l.ID = blc.BudgetLineID and blc.BudgetDatasetID = d.BudgetDatasetID and blc.LineTypeCode not in ('T','C')
   ]]>
   </view>

   <view name="BudgetLineFactorsLoadQuery" databaseType="mssql">
      <![CDATA[
   select l.PropertyID as PropertyID,l.ID as BudgetLineID,l.Code as BudgetLineCode, d.StatTypeCode as StatTypeCode, d.Year as Year,d.RangeNo,
   d.FromVolume,d.ToVolume,d.Period1Factor,d.Period2Factor,d.Period3Factor,d.Period4Factor,d.Period5Factor, d.Period6Factor,d.Period7Factor,
   d.Period8Factor,d.Period9Factor,d.Period10Factor,d.Period11Factor,d.Period12Factor,d.Period13Factor from BudgetLine l inner join BudgetLineFactor d
   on l.ID = d.BudgetLineID inner join BudgetLineConfig blc on l.ID = blc.BudgetLineID and blc.BudgetDatasetID = d.BudgetDatasetID and blc.LineTypeCode not in ('T','C')
   ]]>
   </view>

   <view name="BudgetLineFixesLoadQuery" databaseType="mssql">
      <![CDATA[
   select l.PropertyID as PropertyID,l.ID as BudgetLineID,l.Code as BudgetLineCode, d.StatTypeCode as StatTypeCode, d.Year as Year,d.RangeNo,
   d.FromVolume,d.ToVolume,d.Period1Fixed,d.Period2Fixed,d.Period3Fixed,d.Period4Fixed,d.Period5Fixed, d.Period6Fixed,d.Period7Fixed,d.Period8Fixed,
   d.Period9Fixed,d.Period10Fixed,d.Period11Fixed,d.Period12Fixed,d.Period13Fixed from BudgetLine l inner join BudgetLineFixed d on l.ID = d.BudgetLineID
   inner join BudgetLineConfig blc on l.ID = blc.BudgetLineID and blc.BudgetDatasetID = d.BudgetDatasetID and blc.LineTypeCode not in ('T','C')
   ]]>
   </view>

   <view name="LineBudgetData">
      <![CDATA[
   select l.PropertyID,l.ID as BudgetLineID,l.Code as BudgetLineCode,d.StatTypeCode,d.Year,d.PeriodNo,d.NumberUnits,d.Rate,d.TotalDollars
   from BudgetLine l inner join BudgetData d on d.BudgetLineID = l.ID
   ]]>
   </view>

   <view name="LineProfitData">
      <![CDATA[
   select l.PropertyID,l.ID as BudgetLineID,l.Code as BudgetLineCode, h.HistoryTypeCode,h.Year,h.PeriodNo,h.SubmittedDate, d.PTDActual,d.RPAmount,
   d.AddlAmount,d.PEAmount,d.FlexAmount from BudgetLine l inner join ProfitData d on d.BudgetLineID = l.ID inner join ProfitHistory h on d.ProfitHistoryID = h.ID
   ]]>
   </view>

   <view name="EmployeeQuery">
      <![CDATA[
   select Employee.ID as EmployeeID, Employee.Name as EmployeeName, Employee.EmpID,AltEmpID, Employee.EmployeeTypeCode,
          Employee.HireDate, Employee.HoursAvailable, EmployeeWorkClass.Fulltime
   from Employee
   inner join EmployeeWorkClass on EmployeeWorkClass.ID = Employee.WorkClassID
   ]]>
   </view>

   <view name="DivDptJobEmpQuery" databaseType="mssql">
      <![CDATA[
   select dv.ID as DivisionID, dv.Name as DivisionName,
          dpt.id as DepartmentID, dpt.Name as DepartmentName,
          job.id as JobclassID, job.Name as JobclassName,
          emp.ID as EmployeeID, emp.EmpID,
          emp.Name as EmployeeName, emp.HireDate, emp.HoursAvailable, emp.EmployeeTypeCode,
          ewc.Fulltime,
          case when exists (select StatusTypeCode from EmployeeStatus where (StatusTypeCode = 'A' or StatusTypeCode = 'R' or StatusTypeCode = 'L' or (StatusTypeCode = 'T' and getdate() = StartDate)) and EmployeeID = emp.ID and getdate() between StartDate and EndDate)
            then 'Y'
            else 'N'
            end as Active,
          emp.Flags,
          prp.ID as PropertyID
   from Property prp
   inner join Division dv on prp.ID = dv.PropertyID
   inner join Department dpt on dv.ID = dpt.DivisionID
   inner join Jobclass job on dpt.ID = job.DepartmentID
   inner join (Select distinct jobID, EmployeeID from EmployeeJobStatus) UniqueJobs on job.ID = UniqueJobs.JobID
   inner join Employee emp on UniqueJobs.EmployeeID = emp.ID
   inner join EmployeeWorkClass ewc on ewc.ID = emp.WorkClassID
   ]]>
   </view>

   <view name="DivDptJobEmpQuery" databaseType="pgsql">
      <![CDATA[
   select dv.ID as DivisionID, dv.Name as DivisionName,
          dpt.id as DepartmentID, dpt.Name as DepartmentName,
          job.id as JobclassID, job.Name as JobclassName,
          emp.ID as EmployeeID, emp.EmpID,
          emp.Name as EmployeeName, emp.HireDate, emp.HoursAvailable, emp.EmployeeTypeCode,
          ewc.Fulltime,
          cast(case when exists (select StatusTypeCode from EmployeeStatus where (StatusTypeCode = 'A' or StatusTypeCode = 'R' or StatusTypeCode = 'L' or (StatusTypeCode = 'T' and CURRENT_DATE = StartDate)) and EmployeeID = emp.ID and CURRENT_DATE between StartDate and EndDate)
            then 'Y'
            else 'N'
            end as char(1)) as Active,
          emp.Flags,
          prp.ID as PropertyID
   from Property prp
   inner join Division dv on prp.ID = dv.PropertyID
   inner join Department dpt on dv.ID = dpt.DivisionID
   inner join Jobclass job on dpt.ID = job.DepartmentID
   inner join (Select distinct jobID, EmployeeID from EmployeeJobStatus) UniqueJobs on job.ID = UniqueJobs.JobID
   inner join Employee emp on UniqueJobs.EmployeeID = emp.ID
   inner join EmployeeWorkClass ewc on ewc.ID = emp.WorkClassID
   ]]>
   </view>

   <view name="DivDptJobQuery">
      <![CDATA[
   select Property.ID as PropertyID,Property.Name as PropertyName,Property.Code as PropertyCode,
          Property.FstVarianceFrom as PrpFstVarianceFrom,Property.FstVarianceTo as PrpFstVarianceTo,
          Property.StdVarianceFrom as PrpStdVarianceFrom,Property.StdVarianceTo as PrpStdVarianceTo,
          Division.ID as DivisionID,Division.Name as DivisionName,Division.Code as DivisionCode,
          Division.AssignmentID as DivisionAssignmentID,Division.FstVarianceFrom as DivFstVarianceFrom,
          Division.FstVarianceTo as DivFstVarianceTo,Division.StdVarianceFrom as DivStdVarianceFrom,
          Division.StdVarianceTo as DivStdVarianceTo, Department.ID as DepartmentID,Department.Name as DepartmentName,
          Department.Code as DepartmentCode,Department.AssignmentID as DepartmentAssignmentID,
          Department.FstVarianceFrom as DptFstVarianceFrom,Department.FstVarianceTo as DptFstVarianceTo,
          Department.StdVarianceFrom as DptStdVarianceFrom,Department.StdVarianceTo as DptStdVarianceTo,
          Jobclass.ID as JobclassID,Jobclass.Name as JobclassName,Jobclass.Code as JobclassCode,
          Jobclass.AssignmentID as JobclassAssignmentID,Jobclass.FstVarianceFrom as JobFstVarianceFrom,
          Jobclass.FstVarianceTo as JobFstVarianceTo,Jobclass.StdVarianceFrom as JobStdVarianceFrom,
          Jobclass.StdVarianceTo as JobStdVarianceTo,jobclass.JobCategoryID from Property
   inner join Division on Division.PropertyID = Property.ID
   inner join Department on Department.DivisionID = Division.ID
   inner join Jobclass on Jobclass.DepartmentID = Department.ID
   ]]>
   </view>

   <view name="DivDptJobQuery2">
      <![CDATA[
   select prp.ID as PropertyID,prp.Name as PropertyName,prp.Code as PropertyCode, div.ID as DivisionID,div.Name as DivisionName,
          div.Code as DivisionCode, dpt.ID as DepartmentID,dpt.Name as DepartmentName,dpt.Code as DepartmentCode, job.ID as JobclassID,
          job.Name as JobclassName,job.Code as JobclassCode,job.JobCategoryID
   from Property prp
   inner join Division div on div.PropertyID = prp.ID
   inner join Department dpt on dpt.DivisionID = div.ID
   inner join Jobclass job on job.DepartmentID = dpt.ID
   ]]>
   </view>

   <view name="DivDptJobOpCodeQuery">
      <![CDATA[
   select OpCode.ID as OpCodeID,OpCode.Name as OpCodeName,OpCode.PropertyID,Property.Name as PropertyName,
          OpCodeJobclass.DivisionID,OpCodeJobclass.DepartmentID,OpCodeJobclass.JobclassID,Division.Name as DivisionName,
          Department.Name as DepartmentName,Jobclass.Name as JobclassName
   from OpCodeJobclass
   inner join OpCode on OpCodeJobclass.OpCodeID = OpCode.ID
   inner join Property on OpCode.PropertyID = Property.ID
   left join Jobclass on OpCodeJobclass.JobclassID = Jobclass.ID
   left join Department on OpCodeJobclass.DepartmentID = Department.ID
   left join Division on OpCodeJobclass.DivisionID = Division.ID
   ]]>
   </view>

   <view name="EmployeeSkillRateQuery">
      <![CDATA[
   select ddj.PropertyID, ddj.PropertyName,
          ddj.JobclassID, ddj.JobclassName,
          emp.ID as EmployeeID, emp.EmpID, emp.AltEmpID, emp.Name as EmployeeName,
          ejs.ScheduleOrder as SkillNo, ejs.SeniorityDate as SkillDate, ejs.Rank as SkillRank,
          ejs.PayTypeCode, ejs.StartDate as EffectiveDate,
          ejs.HourlyRate, ejs.AnnualRate, ejs.PieceRate, ejs.SalaryDistID,
          ejs.ContractHours, ejs.ContractDays, ejs.AnnualBased
   from DivDptJobQuery ddj
   inner join EmployeeJobStatus ejs on ejs.JobID = ddj.JobclassID
   inner join Employee emp on emp.ID = ejs.EmployeeID
   ]]>
   </view>

   <view name="GroupBudgetSecurityQuery">
      <![CDATA[
   select WatsonGroupBudgetSecurity.GroupID, Property.ID AS PropertyID, BudgetLine.ID as BudgetLineID, WatsonGroupBudgetSecurity.AccessLevel from WatsonGroupBudgetSecurity INNER JOIN BudgetLine ON WatsonGroupBudgetSecurity.BudgetLineID = BudgetLine.ID INNER JOIN Property ON BudgetLine.PropertyID = Property.ID
   ]]>
   </view>

   <view name="GroupKBISecurityQuery">
      <![CDATA[
   select WatsonGroupKBISecurity.GroupID, Property.ID AS PropertyID, KBI.ID as KBIID, WatsonGroupKBISecurity.HasAccess from WatsonGroupKBISecurity INNER JOIN KBI ON WatsonGroupKBISecurity.KBIID = KBI.ID INNER JOIN Property ON KBI.PropertyID = Property.ID
   ]]>
   </view>

   <view name="GroupLaborSecurityQuery">
      <![CDATA[
   select WatsonGroupLaborSecurity.GroupID,WatsonGroupLaborSecurity.Schedules,WatsonGroupLaborSecurity.Reports,WatsonGroupLaborSecurity.Configuration, Property.ID AS PropertyID, Property.Name AS PropertyName, Property.Code AS PropertyCode, Division.ID AS DivisionID, Division.Name AS DivisionName, Division.Code AS DivisionCode, Department.ID AS DepartmentID, Department.Name AS DepartmentName, Department.Code AS DepartmentCode, Jobclass.ID AS JobclassID, Jobclass.Name AS JobclassName, Jobclass.Code AS JobclassCode from WatsonGroupLaborSecurity LEFT OUTER JOIN Jobclass ON WatsonGroupLaborSecurity.JobclassID = Jobclass.ID LEFT OUTER JOIN Department ON WatsonGroupLaborSecurity.DepartmentID = Department.ID LEFT OUTER JOIN Division ON WatsonGroupLaborSecurity.DivisionID = Division.ID LEFT OUTER JOIN Property ON WatsonGroupLaborSecurity.PropertyID = Property.ID
   ]]>
   </view>

   <view name="GroupMarketGroupSecurityQuery">
      <![CDATA[
   select WatsonGroupMarketGroupSecurity.GroupID, Property.ID AS PropertyID, MarketGroup.ID as MarketGroupID, WatsonGroupMarketGroupSecurity.HasAccess from WatsonGroupMarketGroupSecurity INNER JOIN MarketGroup ON WatsonGroupMarketGroupSecurity.MarketGroupID = MarketGroup.ID INNER JOIN Property ON MarketGroup.PropertyID = Property.ID
   ]]>
   </view>

   <view name="GroupOpCodeSecurityQuery">
      <![CDATA[
   select WatsonGroupOpCodeSecurity.GroupID, Property.ID AS PropertyID, OpCode.ID as OpCodeID, WatsonGroupOpCodeSecurity.HasAccess from WatsonGroupOpCodeSecurity INNER JOIN OpCode ON WatsonGroupOpCodeSecurity.OpCodeID = OpCode.ID INNER JOIN Property ON OpCode.PropertyID = Property.ID
   ]]>
   </view>

   <view name="GroupRevenueCenterSecurityQuery">
      <![CDATA[
   select WatsonGroupRevenueCenterSecurity.GroupID, Property.ID AS PropertyID, RevenueCenter.ID as RevenueCenterID, WatsonGroupRevenueCenterSecurity.HasAccess from WatsonGroupRevenueCenterSecurity INNER JOIN RevenueCenter ON WatsonGroupRevenueCenterSecurity.RevenueCenterID = RevenueCenter.ID INNER JOIN Property ON RevenueCenter.PropertyID = Property.ID
   ]]>
   </view>

   <view name="GroupScheduleGroupSecurityQuery">
      <![CDATA[
   select WatsonGroupScheduleGroupSecurity.GroupID, Property.ID AS PropertyID, ScheduleGroup.ID as ScheduleGroupID, WatsonGroupScheduleGroupSecurity.HasAccess from WatsonGroupScheduleGroupSecurity INNER JOIN ScheduleGroup ON WatsonGroupScheduleGroupSecurity.ScheduleGroupID = ScheduleGroup.ID INNER JOIN Property ON ScheduleGroup.PropertyID = Property.ID
   ]]>
   </view>

   <view name="GroupStandardSetSecurityQuery">
      <![CDATA[
   select WatsonGroupStandardSetSecurity.GroupID, Property.ID AS PropertyID, StandardSet.ID as StandardSetID, WatsonGroupStandardSetSecurity.HasAccess from WatsonGroupStandardSetSecurity INNER JOIN StandardSet ON WatsonGroupStandardSetSecurity.StandardSetID = StandardSet.ID INNER JOIN Property ON StandardSet.PropertyID = Property.ID
   ]]>
   </view>

   <view name="UserBudgetSecurityQuery">
      <![CDATA[
   select WatsonUserBudgetSecurity.UserID, Property.ID AS PropertyID, BudgetLine.ID as BudgetLineID, WatsonUserBudgetSecurity.AccessLevel from WatsonUserBudgetSecurity INNER JOIN BudgetLine ON WatsonUserBudgetSecurity.BudgetLineID = BudgetLine.ID INNER JOIN Property ON BudgetLine.PropertyID = Property.ID
   ]]>
   </view>

   <view name="UserKBISecurityQuery">
      <![CDATA[
   select WatsonUserKBISecurity.UserID, Property.ID AS PropertyID, KBI.ID as KBIID, WatsonUserKBISecurity.HasAccess from WatsonUserKBISecurity INNER JOIN KBI ON WatsonUserKBISecurity.KBIID = KBI.ID INNER JOIN Property ON KBI.PropertyID = Property.ID
   ]]>
   </view>

   <view name="UserLaborSecurityQuery">
      <![CDATA[
   select WatsonUserLaborSecurity.UserID,WatsonUserLaborSecurity.Schedules,WatsonUserLaborSecurity.Reports,WatsonUserLaborSecurity.Configuration, Property.ID AS PropertyID, Property.Name AS PropertyName, Property.Code AS PropertyCode, Division.ID AS DivisionID, Division.Name AS DivisionName, Division.Code AS DivisionCode, Department.ID AS DepartmentID, Department.Name AS DepartmentName, Department.Code AS DepartmentCode, Jobclass.ID AS JobclassID, Jobclass.Name AS JobclassName, Jobclass.Code AS JobclassCode from WatsonUserLaborSecurity LEFT OUTER JOIN Jobclass ON WatsonUserLaborSecurity.JobclassID = Jobclass.ID LEFT OUTER JOIN Department ON WatsonUserLaborSecurity.DepartmentID = Department.ID LEFT OUTER JOIN Division ON WatsonUserLaborSecurity.DivisionID = Division.ID LEFT OUTER JOIN Property ON WatsonUserLaborSecurity.PropertyID = Property.ID
   ]]>
   </view>

   <view name="UserMarketGroupSecurityQuery">
      <![CDATA[
   select WatsonUserMarketGroupSecurity.UserID, Property.ID AS PropertyID, MarketGroup.ID as MarketGroupID, WatsonUserMarketGroupSecurity.HasAccess from WatsonUserMarketGroupSecurity INNER JOIN MarketGroup ON WatsonUserMarketGroupSecurity.MarketGroupID = MarketGroup.ID INNER JOIN Property ON MarketGroup.PropertyID = Property.ID
   ]]>
   </view>

   <view name="UserOpCodeSecurityQuery">
      <![CDATA[
   select WatsonUserOpCodeSecurity.UserID, Property.ID AS PropertyID, OpCode.ID as OpCodeID, WatsonUserOpCodeSecurity.HasAccess from WatsonUserOpCodeSecurity INNER JOIN OpCode ON WatsonUserOpCodeSecurity.OpCodeID = OpCode.ID INNER JOIN Property ON OpCode.PropertyID = Property.ID
   ]]>
   </view>

   <view name="UserReportSecurityQuery">
      <![CDATA[
   select WatsonUserReportSecurity.UserID, WatsonReport.ID as ReportID, WatsonUserReportSecurity.HasAccess from WatsonUserReportSecurity INNER JOIN WatsonReport ON WatsonUserReportSecurity.ReportID = WatsonReport.ID
   ]]>
   </view>

   <view name="UserRevenueCenterSecurityQuery">
      <![CDATA[
   select WatsonUserRevenueCenterSecurity.UserID, Property.ID AS PropertyID, RevenueCenter.ID as RevenueCenterID, WatsonUserRevenueCenterSecurity.HasAccess from WatsonUserRevenueCenterSecurity INNER JOIN RevenueCenter ON WatsonUserRevenueCenterSecurity.RevenueCenterID = RevenueCenter.ID INNER JOIN Property ON RevenueCenter.PropertyID = Property.ID
   ]]>
   </view>

   <view name="UserScheduleGroupSecurityQuery">
      <![CDATA[
   select WatsonUserScheduleGroupSecurity.UserID, Property.ID AS PropertyID, ScheduleGroup.ID as ScheduleGroupID, WatsonUserScheduleGroupSecurity.HasAccess from WatsonUserScheduleGroupSecurity INNER JOIN ScheduleGroup ON WatsonUserScheduleGroupSecurity.ScheduleGroupID = ScheduleGroup.ID INNER JOIN Property ON ScheduleGroup.PropertyID = Property.ID
   ]]>
   </view>

   <view name="UserStandardSetSecurityQuery">
      <![CDATA[
   select WatsonUserStandardSetSecurity.UserID, Property.ID AS PropertyID, StandardSet.ID as StandardSetID, WatsonUserStandardSetSecurity.HasAccess from WatsonUserStandardSetSecurity INNER JOIN StandardSet ON WatsonUserStandardSetSecurity.StandardSetID = StandardSet.ID INNER JOIN Property ON StandardSet.PropertyID = Property.ID
   ]]>
   </view>

   <view name="EarningQuery">
      <![CDATA[
   select EmployeeEarning.ID as EarningID, EmployeeEarning.EarningTypeID, EmployeeEarning.EarningDate, EmployeeEarning.Source,
          EmployeeEarning.Hours, EmployeeEarning.Rate, EmployeeEarning.Dollars, EmployeeEarning.TotalDollars, EmployeeEarning.Note,
          EmployeeEarning.CheckID, EmployeeEarning.ShiftID, EmployeeEarning.RuleItemID, EmployeeEarning.TipSubPoolID,
          Employee.EmpID as EmpNo, Employee.Name as EmpName, Employee.ID as EmployeeID,
          EmployeeEarning.JobID as JobclassID, Department.ID as DepartmentID, Division.ID as DivisionID, Division.PropertyID
   from EmployeeEarning
   inner join Employee on EmployeeEarning.EmployeeID = Employee.ID
   inner join Assignment as JobClass on EmployeeEarning.JobID = JobClass.ID
   inner join Assignment as Department on JobClass.ParentAssignmentID = Department.ID
   inner join Assignment as Division on Department.ParentAssignmentID = Division.ID
   ]]>
   </view>

   <view name="RequirementQuery" databaseType="mssql">
      <![CDATA[
      SELECT Requirement.JobclassID,Requirement.RequirementDate,Requirement.RequirementCode,Requirement.StartTime,Requirement.EndTime,Requirement.Duration,Requirement.NumberShifts,
             Requirement.ForecastHours,Requirement.AssignmentID,Department.ID as DepartmentID,Department.ParentAssignmentID as DivisionID,Requirement.PropertyID
      FROM Requirement
      INNER JOIN Assignment JobClass ON Requirement.JobclassID = Jobclass.ID
      INNER JOIN Assignment Department ON Jobclass.ParentAssignmentID = Department.ID
      ]]>
   </view>

   <view name="RequirementQuery" databaseType="pgsql">
      <![CDATA[
      SELECT Requirement.JobclassID,Requirement.RequirementDate,Requirement.RequirementCode,Requirement.StartTime,Requirement.EndTime,Requirement.Duration,Requirement.NumberShifts,
             Requirement.ForecastHours,Requirement.AssignmentID,Department.ID as DepartmentID,Department.ParentAssignmentID as DivisionID,Requirement.PropertyID
      FROM Requirement
      INNER JOIN Assignment JobClass ON Requirement.JobclassID = Jobclass.ID
      INNER JOIN Assignment Department ON Jobclass.ParentAssignmentID = Department.ID
      ]]>
   </view>

   <view name="AuxLaborHoursQuery">
      <![CDATA[
      SELECT
         AuxLaborHours.PropertyID, Department.ParentAssignmentID as DivisionID, Department.ID as DepartmentID,AuxLaborHours.JobclassID,AuxLaborHours.StatDate,AuxLaborHours.ShiftCategoryID,ShiftCategory.IncludeInProductivity,
         ShiftCategory.TrainingShift,AuxLaborHours.ShiftType AS ShiftTypeCode,AuxLaborHours.Source,AuxLaborHours.WorkedHours,AuxLaborHours.AdjHours,AuxLaborHours.NetHours,AuxLaborHours.AvgRate,
         AuxLaborHours.NetDollars,AuxLaborHours.RegHours,AuxLaborHours.RegRate,AuxLaborHours.RegDollars,AuxLaborHours.OTHours,AuxLaborHours.OTRate,AuxLaborHours.OTDollars,AuxLaborHours.DTHours,
         AuxLaborHours.DTRate,AuxLaborHours.DTDollars
      FROM
         AuxLaborHours INNER JOIN Assignment Jobclass ON AuxLaborHours.JobclassID = Jobclass.ID
         INNER JOIN Assignment Department ON Jobclass.ParentAssignmentID = Department.ID
         JOIN ShiftCategory ON AuxLaborHours.ShiftCategoryID = ShiftCategory.ID
   ]]>
   </view>

   <view name="ShiftQuery">
      <![CDATA[
      SELECT
         EmployeeShift.ID AS ID,EmployeeShift.PropertyID,Department.ParentAssignmentID as DivisionID,Department.ID as DepartmentID,EmployeeShift.JobID AS JobID,EmployeeShift.ShiftDate,EmployeeShift.ShiftTypeCode,
         EmployeeShift.Source,EmployeeShift.CreatedOnDT,EmployeeShift.ShiftCategoryID,ShiftCategory.IncludeInProductivity,ShiftCategory.TrainingShift,EmployeeShift.AssignmentID,EmployeeShift.WorkedHours,
         EmployeeShift.AdjHours,EmployeeShift.NetHours,EmployeeShift.AvgRate,EmployeeShift.NetDollars,EmployeeShift.RegHours,EmployeeShift.AutoOTHours,EmployeeShift.AdjOTHours,EmployeeShift.OTHours,
         EmployeeShift.AutoDTHours,EmployeeShift.AdjDTHours,EmployeeShift.DTHours,EmployeeShift.RegRate,EmployeeShift.OTRate,EmployeeShift.DTRate,EmployeeShift.RegDollars,EmployeeShift.OTDollars,
         EmployeeShift.DTDollars,EmployeeShift.BankedHours,EmployeeShift.StartTime,EmployeeShift.EndTime,EmployeeShift.EmpApprovedDT,EmployeeShift.MgrApprovedDT,EmployeeShift.MgrApprovedBy,
         EmployeeShift.CheckID,EmployeeShift.PlannedShiftID,EmployeeShift.Notes,EmployeeShift.Flags,EmployeeShift.EmployeeID,Employee.EmpID AS EmpNo,Employee.NAME AS EmpName, EmployeeShift.PropertyID as ShiftPropertyID
      FROM
         EmployeeShift INNER JOIN Employee ON Employee.ID = EmployeeShift.EmployeeID
         INNER JOIN Assignment Jobclass ON EmployeeShift.JobID = Jobclass.ID
         INNER JOIN Assignment Department on Jobclass.ParentAssignmentID = Department.ID
         INNER JOIN ShiftCategory ON ShiftCategory.ID = EmployeeShift.ShiftCategoryID
   ]]>
   </view>

   <view name="ScheduleQuery">
      <![CDATA[
      select
         ShiftQuery.*, Employee.EmpID as EmployeeNo, Employee.AltEmpID as AltEmployeeNo, Employee.ExtraData as EmpExtraData,
         Employee.Name as EmployeeName,Employee.FirstName as EmployeeFirstName,Employee.LastName as EmployeeLastName,
         Property.Name as PropertyName, Division.Name as DivisionName, Department.Name as DepartmentName,
         Jobclass.Name as JobclassName, Assignment.Name as AssignmentName
      from
         ShiftQuery inner join Employee on ShiftQuery.EmployeeID = Employee.ID
         inner join Property on ShiftQuery.PropertyID = Property.ID
         inner join Assignment as Division on ShiftQuery.DivisionID = division.ID
         inner join Assignment as Department on ShiftQuery.DepartmentID = Department.ID
         inner join Assignment as Jobclass on ShiftQuery.JobID = Jobclass.ID
         left join Assignment on ShiftQuery.AssignmentID = Assignment.ID
   ]]>
   </view>

   <view name="PayRateQuery">
      <![CDATA[
   select EmployeeJobStatus.ID, EmployeeJobStatus.StartDate as EffectiveDate, EmployeeJobStatus.PayTypeCode, EmployeeJobStatus.PayRateReasonID,
          EmployeeJobStatus.HourlyRate, EmployeeJobStatus.AnnualRate, EmployeeJobStatus.PieceRate, EmployeeJobStatus.SalaryDistID,
          EmployeeJobStatus.EmployeeID, Employee.EmpID as EmpNo, Employee.Name as EmpName, EmployeeJobStatus.JobID as JobclassID,
          EmployeeJobStatus.ScheduleOrder as SkillNo, EmployeeJobStatus.SeniorityDate as SkillDate, EmployeeJobStatus.Rank as SkillRank,
          Jobclass.DepartmentID, Department.DivisionID, Division.PropertyID
   from EmployeeJobStatus
   inner join Employee on EmployeeJobStatus.EmployeeID = Employee.ID
   inner join Jobclass on EmployeeJobStatus.JobID = Jobclass.ID
   inner join Department on Jobclass.DepartmentID = Department.ID
   inner join Division on Department.DivisionID = Division.ID
   ]]>
   </view>

   <view name="EmployeeStatusQuery">
      <![CDATA[
   select PropertyID,Employee.ID as EmployeeID,Employee.EmpID as EmployeeNo,StatusTypeCode,StartDate, EndDate
   from Employee
   inner join EmployeeStatus on Employee.ID = EmployeeStatus.EmployeeID
   ]]>
   </view>

   <view name="EmployeeHRQuery" databaseType="mssql">
      <![CDATA[
      select
         Employee.PropertyID, case when StatusTypeCode = 'A' or StatusTypeCode = 'R' or StatusTypeCode = 'L' or (StatusTypeCode = 'T' and getDate() = EmployeeStatus.StartDate) then 'Y' else 'N' end as Active, Employee.ID, EmpID, Employee.Name,
         EmployeeUSTax.SSN, WorkClassID, EmpClassID, SecEmpClassID, HireDate, Employee.SeniorityDate, BirthDate,
         (select max(StartDate) from EmployeeStatus where Employee.ID = EmployeeStatus.EmployeeID and StatusTypeCode = 'T') as TermDate,
         (select max(StartDate) from EmployeeStatus where Employee.ID = EmployeeStatus.EmployeeID and StatusTypeCode = 'R') as RehireDate,
         HomeJob.ID as HomeJobClassID, HomeJob.Name as HomeJobClassName, HomeJob.Code as HomeJobClassCode,
         HomeDepartment.ID as HomeDepartmentID, HomeDepartment.Name as HomeDepartmentName,HomeDepartment.Code as HomeDepartmentCode,
         HomeDivision.ID as HomeDivisionID, HomeDivision.Name as HomeDivisionName,HomeDivision.Code as HomeDivisionCode,
         Employee.LastReviewDate, Employee.NextReviewDate, Employee.EmployeeTypeCode, Employee.Address, Employee.Address2,
         Employee.City, State.PostalCode as StateCode, Employee.Zip,Employee.HomePhone, EmployeeWorkClass.Name as WorkClassName,
         EmployeeClass.Name as EmployeeClassName, Employee.Gender, Ethnicity.Name as Ethnicity, EmployeeClass.IsUnion,
         HomeJob.JobCategoryID, EmployeeJobStatus.PayTypeCode,EmployeeJobStatus.StartDate as StartDate,EmployeeJobStatus.EndDate as EndDate,
         EmployeeJobBadge.BadgeNo as BadgeNo
      from
         Employee join EmployeeJobStatus on Employee.ID = EmployeeJobStatus.EmployeeID and EmployeeJobStatus.Home = 'Y'
         join EmployeeStatus on Employee.ID = EmployeeStatus.EmployeeID and GetDate() between EmployeeStatus.StartDate and EmployeeStatus.EndDate
         join Assignment HomeJob on HomeJob.ID = EmployeeJobStatus.JobID
         join Assignment HomeDepartment on HomeDepartment.ID = HomeJob.ParentAssignmentID
         join Assignment HomeDivision on HomeDivision.ID = HomeDepartment.ParentAssignmentID
         left join EmployeeUSTax on Employee.ID = EmployeeUSTax.EmployeeID
         left join State on Employee.StateID = State.ID
         left join EmployeeWorkClass on Employee.WorkClassID = EmployeeWorkClass.ID
         left join EmployeeClass on Employee.EmpClassID = EmployeeClass.ID
         left join EmployeeI9 on Employee.ID = EmployeeI9.EmployeeID
         left join Ethnicity on EmployeeI9.EthnicityCode = Ethnicity.Code
         left outer join EmployeeJobBadge on Employee.ID = EmployeeJobBadge.EmployeeID and (EmployeeJobBadge.JobID is null or EmployeeJobBadge.JobID = HomeJob.ID)
   ]]>
   </view>

   <view name="EmployeeHRQuery" databaseType="pgsql">
      <![CDATA[
      select
         Employee.PropertyID, cast(case when StatusTypeCode = 'A' or StatusTypeCode = 'R' or StatusTypeCode = 'L' or (StatusTypeCode = 'T' and CURRENT_DATE = EmployeeStatus.StartDate) then 'Y' else 'N' end as char(1)) as Active, Employee.ID, EmpID, Employee.Name,
         EmployeeUSTax.SSN, WorkClassID, EmpClassID, SecEmpClassID, HireDate, Employee.SeniorityDate, BirthDate,
         (select max(StartDate) from EmployeeStatus where Employee.ID = EmployeeStatus.EmployeeID and StatusTypeCode = 'T') as TermDate,
         (select max(StartDate) from EmployeeStatus where Employee.ID = EmployeeStatus.EmployeeID and StatusTypeCode = 'R') as RehireDate,
         HomeJob.ID as HomeJobClassID, HomeJob.Name as HomeJobClassName, HomeJob.Code as HomeJobClassCode,
         HomeDepartment.ID as HomeDepartmentID, HomeDepartment.Name as HomeDepartmentName,HomeDepartment.Code as HomeDepartmentCode,
         HomeDivision.ID as HomeDivisionID, HomeDivision.Name as HomeDivisionName,HomeDivision.Code as HomeDivisionCode,
         Employee.LastReviewDate, Employee.NextReviewDate, Employee.EmployeeTypeCode, Employee.Address, Employee.Address2,
         Employee.City, State.PostalCode as StateCode, Employee.Zip,Employee.HomePhone, EmployeeWorkClass.Name as WorkClassName,
         EmployeeClass.Name as EmployeeClassName, Employee.Gender, Ethnicity.Name as Ethnicity, EmployeeClass.IsUnion,
         HomeJob.JobCategoryID, EmployeeJobStatus.PayTypeCode,EmployeeJobStatus.StartDate as StartDate,EmployeeJobStatus.EndDate as EndDate,
         EmployeeJobBadge.BadgeNo as BadgeNo
      from
         Employee join EmployeeJobStatus on Employee.ID = EmployeeJobStatus.EmployeeID and EmployeeJobStatus.Home = 'Y'
         join EmployeeStatus on Employee.ID = EmployeeStatus.EmployeeID and CURRENT_DATE between EmployeeStatus.StartDate and EmployeeStatus.EndDate
         join Assignment HomeJob on HomeJob.ID = EmployeeJobStatus.JobID
         join Assignment HomeDepartment on HomeDepartment.ID = HomeJob.ParentAssignmentID
         join Assignment HomeDivision on HomeDivision.ID = HomeDepartment.ParentAssignmentID
         left join EmployeeUSTax on Employee.ID = EmployeeUSTax.EmployeeID
         left join State on Employee.StateID = State.ID
         left join EmployeeWorkClass on Employee.WorkClassID = EmployeeWorkClass.ID
         left join EmployeeClass on Employee.EmpClassID = EmployeeClass.ID
         left join EmployeeI9 on Employee.ID = EmployeeI9.EmployeeID
         left join Ethnicity on EmployeeI9.EthnicityCode = Ethnicity.Code
         left outer join EmployeeJobBadge on Employee.ID = EmployeeJobBadge.EmployeeID and (EmployeeJobBadge.JobID is null or EmployeeJobBadge.JobID = HomeJob.ID)
   ]]>
   </view>

   <view name="EmployeeHRAllJobsQuery" databaseType="mssql">
      <![CDATA[
      select
         EmployeeHRQuery.*, Job.ID as JobClassID, Job.Name as JobClassName, Job.Code as JobClassCode,
         Division.ID as DivisionID, Division.Name as DivisionName, Division.Code as DivisionCode, Department.ID as DepartmentID,
         Department.Name as DepartmentName, Department.Code as DepartmentCode
      from
         EmployeeHRQuery join (Select distinct jobID, EmployeeID from EmployeeJobStatus) UniqueJobs on EmployeeHRQuery.ID = UniqueJobs.EmployeeID
         join Assignment Job on Job.ID = UniqueJobs.JobID
         join Assignment Department on Department.ID = Job.ParentAssignmentID
         join Assignment Division on Division.ID = Department.ParentAssignmentID
   ]]>
   </view>

   <view name="EmployeeHRAllJobsQuery" databaseType="pgsql">
      <![CDATA[
      select
         EmployeeHRQuery.*, Job.ID as JobClassID, Job.Name as JobClassName, Job.Code as JobClassCode,
         Division.ID as DivisionID, Division.Name as DivisionName, Division.Code as DivisionCode, Department.ID as DepartmentID,
         Department.Name as DepartmentName, Department.Code as DepartmentCode
      from
         EmployeeHRQuery join (Select distinct jobID, EmployeeID from EmployeeJobStatus) UniqueJobs on EmployeeHRQuery.ID = UniqueJobs.EmployeeID
         join Assignment Job on Job.ID = UniqueJobs.JobID
         join Assignment Department on Department.ID = Job.ParentAssignmentID
         join Assignment Division on Division.ID = Department.ParentAssignmentID
   ]]>
   </view>

   <view name="EligibleHoursQuery" databaseType="mssql">
      <![CDATA[
      select
         Employee.ID as EmployeeID, EmployeeShift.JobID as JobclassID, ShiftDate as EarningDate, coalesce(RegHours, 0) as RegHours, coalesce(OTHours, 0) as OTHours,
         coalesce(DTHours, 0) as DTHours, coalesce(EmployeeShift.BankedHours, 0) as BankedHours, coalesce(RegDollars, 0) as RegDollars, coalesce(OTDollars, 0) as OTDollars,
         coalesce(DTDollars, 0) as DTDollars, 0 as EarningHours, 0 as EarningRate, 0 as EarningDollars, 0 as TotalEarningDollars, 'Y' as IncludeInBenefitCalcs,
         'Y' as IncludeInOTCalcs, 'N' as IncludeInTips, 'N' as IncludeInGrossSales, 'N' as RoundOnExport, '' as ProcessorCode, '' as EarningTypeDesc,
         0 as EarningCategoryID, '' as UOM, '' as EarningType, coalesce(EmployeeShift.AdjHours,0) as AdjHours,
         case when WorkedHours = 0 then 0 else coalesce(round(convert(real,EndTime - StartTime) * 24,2) - WorkedHours, 0) end as BreakHours,
         RegRate, OTRate, WorkedHours, EmployeeShift.StartTime as ShiftStartTime, EmployeeShift.EndTime as ShiftEndTime, EmployeeShift.ShiftCategoryID as ShiftCategoryID,
         ShiftCategory.IncludeInProductivity, ShiftCategory.TrainingShift
      from
         Employee join EmployeeShift on EmployeeShift.EmployeeID = Employee.ID
         left join EmployeeJobStatus as EJS1 on EmployeeShift.PropertyID = EJS1.PropertyID and EmployeeShift.EmployeeID = EJS1.EmployeeID and EmployeeShift.JobID = EJS1.JobID and EJS1.StartDate = (select Max(EJS2.StartDate) from EmployeeJobStatus as EJS2 where EmployeeShift.EmployeeID = EJS2.EmployeeID and EmployeeShift.JobID = EJS2.JobID and EmployeeShift.PropertyID = EJS2.PropertyID) and EJS1.PayTypeCode <> 'S' and EJS1.PayTypeCode <> 'N'
         join ShiftCategory on EmployeeShift.ShiftCategoryID = ShiftCategory.ID
      where
         EmployeeShift.ShiftTypeCode = 'A'
      UNION ALL
      select
         Employee.ID as EmployeeID, EmployeeEarning.JobID as JobClassID, EarningDate as EarningDate, 0 as RegHours, 0 as OTHours, 0 as DTHours, 0 as BankedHours,
          0 as RegDollars, 0 as OTDollars, 0 as DTDollars, Hours as EarningHours, Rate as EarningRate, Dollars as EarningDollars, TotalDollars as TotalEarningDollars,
          IncludeInBenefitCalcs, IncludeInOTCalcs, EarningType.IncludeInTips, EarningType.includeInGrossSales, RoundOnExport, ProcessorCode,
          EarningType.Name as EarningTypeDesc, EarningType.EarningCategoryID, UOM, EarningType.Type as EarningType, 0 as AdjHours, 0 as BreakHours,
          0 as RegRate, 0 as OTRate, 0 as WorkedHours, '' as ShiftStartTime, '' as ShiftEndTime, 0 as ShiftCategoryID, 'Y' as IncludeInProductivity, 'N' as TrainingShift
      from
         Employee join EmployeeEarning on EmployeeEarning.EmployeeID = Employee.ID
         left join EmployeeJobStatus as EJS1 on EmployeeEarning.PropertyID = EJS1.PropertyID and EmployeeEarning.EmployeeID = EJS1.EmployeeID and EmployeeEarning.JobID = EJS1.JobID and EJS1.StartDate = (select Max(EJS2.StartDate) from EmployeeJobStatus as EJS2 where EmployeeEarning.EmployeeID = EJS2.EmployeeID and EmployeeEarning.JobID = EJS2.JobID and EmployeeEarning.PropertyID = EJS2.PropertyID) and EJS1.PayTypeCode <> 'S' and EJS1.PayTypeCode <> 'N'
         join EarningType on EarningType.ID = EmployeeEarning.EarningTypeID
   ]]>
   </view>

   <view name="EligibleHoursQuery" databaseType="pgsql">
      <![CDATA[
      select
         Employee.ID as EmployeeID, EmployeeShift.JobID as JobclassID, ShiftDate as EarningDate, coalesce(RegHours, 0) as RegHours, coalesce(OTHours, 0) as OTHours,
         coalesce(DTHours, 0) as DTHours, coalesce(EmployeeShift.BankedHours, 0) as BankedHours, coalesce(RegDollars, 0) as RegDollars, coalesce(OTDollars, 0) as OTDollars,
         coalesce(DTDollars, 0) as DTDollars, cast(0 as decimal(9,4)) as EarningHours, cast(0 as decimal(9,4)) as EarningRate, cast(0 as decimal(9,2)) as EarningDollars,
         cast(0 as decimal(9,2)) as TotalEarningDollars, cast('Y' as char(1)) as IncludeInBenefitCalcs, cast('Y' as char(1)) as IncludeInOTCalcs, cast('N' as char(1)) as IncludeInTips,
         cast('N' as char(1)) as IncludeInGrossSales, cast('N' as char(1)) as RoundOnExport, cast('' as varchar) as ProcessorCode, cast('' as varchar) as EarningTypeDesc,
         cast(0 as integer) as EarningCategoryID, cast('' as varchar) as UOM, cast('' as varchar) as EarningType, coalesce(EmployeeShift.AdjHours,0) as AdjHours,
         case when WorkedHours = 0 then cast(0 as decimal(9,4)) else coalesce(round(datediff('minute',cast(StartTime as timestamp),cast(EndTime as timestamp))/60,2) - WorkedHours, 0) end as BreakHours,
         RegRate, OTRate, WorkedHours, EmployeeShift.StartTime as ShiftStartTime, EmployeeShift.EndTime as ShiftEndTime, EmployeeShift.ShiftCategoryID as ShiftCategoryID,
         ShiftCategory.IncludeInProductivity, ShiftCategory.TrainingShift
      from
         Employee join EmployeeShift on EmployeeShift.EmployeeID = Employee.ID
         left join EmployeeJobStatus as EJS1 on EmployeeShift.PropertyID = EJS1.PropertyID and EmployeeShift.EmployeeID = EJS1.EmployeeID and EmployeeShift.JobID = EJS1.JobID and EJS1.StartDate = (select Max(EJS2.StartDate) from EmployeeJobStatus as EJS2 where EmployeeShift.EmployeeID = EJS2.EmployeeID and EmployeeShift.JobID = EJS2.JobID and EmployeeShift.PropertyID = EJS2.PropertyID) and EJS1.PayTypeCode <> 'S' and EJS1.PayTypeCode <> 'N'
         join ShiftCategory on EmployeeShift.ShiftCategoryID = ShiftCategory.ID
      where
         EmployeeShift.ShiftTypeCode = 'A'
      UNION ALL
      select
         Employee.ID as EmployeeID, EmployeeEarning.JobID as JobClassID, EarningDate as EarningDate, cast(0 as decimal(9,4)) as RegHours, cast(0 as decimal(9,4)) as OTHours,
         cast(0 as decimal(9,4)) as DTHours, cast(0 as decimal(9,4)) as BankedHours, cast(0 as decimal(9,2)) as RegDollars, cast(0 as decimal(9,2)) as OTDollars,
         cast(0 as decimal(9,2)) as DTDollars, Hours as EarningHours, Rate as EarningRate, Dollars as EarningDollars, TotalDollars as TotalEarningDollars,
         IncludeInBenefitCalcs, IncludeInOTCalcs, EarningType.IncludeInTips, EarningType.includeInGrossSales, RoundOnExport, ProcessorCode,
         EarningType.Name as EarningTypeDesc, EarningType.EarningCategoryID, UOM, EarningType.Type as EarningType, cast(0 as decimal(9,4)) as AdjHours, cast(0 as decimal(9,4)) as BreakHours,
         cast(0 as decimal(9,4)) as RegRate, cast(0 as decimal(9,4)) as OTRate, cast(0 as decimal(9,4)) as WorkedHours, cast('1/1/1900 00:00' as timestamp) as ShiftStartTime,
         cast('1/1/1900 00:00' as timestamp) as ShiftEndTime, cast(0 as integer) as ShiftCategoryID, cast('Y' as char(1)) as IncludeInProductivity, cast('N' as char(1)) as TrainingShift
      from
         Employee join EmployeeEarning on EmployeeEarning.EmployeeID = Employee.ID
         left join EmployeeJobStatus as EJS1 on EmployeeEarning.PropertyID = EJS1.PropertyID and EmployeeEarning.EmployeeID = EJS1.EmployeeID and EmployeeEarning.JobID = EJS1.JobID and EJS1.StartDate = (select Max(EJS2.StartDate) from EmployeeJobStatus as EJS2 where EmployeeEarning.EmployeeID = EJS2.EmployeeID and EmployeeEarning.JobID = EJS2.JobID and EmployeeEarning.PropertyID = EJS2.PropertyID) and EJS1.PayTypeCode <> 'S' and EJS1.PayTypeCode <> 'N'
         join EarningType on EarningType.ID = EmployeeEarning.EarningTypeID
   ]]>
   </view>

   <view name="AllHoursQuery" databaseType="mssql">
      <![CDATA[
      select
         Employee.ID as EmployeeID, EmployeeShift.JobID as JobClassID, ShiftDate as EarningDate, coalesce(RegHours, 0) as RegHours, coalesce(OTHours, 0) as OTHours,
         coalesce(DTHours, 0) as DTHours, coalesce(EmployeeShift.BankedHours, 0) as BankedHours, coalesce(RegDollars, 0) as RegDollars, coalesce(OTDollars, 0) as OTDollars,
         coalesce(DTDollars, 0) as DTDollars, 0 as EarningHours, 0 as EarningRate, 0 as EarningDollars, 0 as TotalEarningDollars, 'Y' as IncludeInBenefitCalcs,
         'Y' as IncludeInOTCalcs, 'N' as IncludeInTips, 'N' as IncludeInGrossSales, 'N' as RoundOnExport, '' as ProcessorCode, '' as EarningTypeDesc,
         0 as EarningCategoryID, '' as UOM, '' as EarningType, coalesce(EmployeeShift.AdjHours,0) as AdjHours,
         case when WorkedHours = 0 then 0 else coalesce(round(convert(real,EndTime - StartTime) * 24,2) - WorkedHours, 0) end as BreakHours,
         RegRate, OTRate, WorkedHours, EmployeeShift.StartTime as ShiftStartTime, EmployeeShift.EndTime as ShiftEndTime, EmployeeShift.ShiftCategoryID as ShiftCategoryID,
         ShiftCategory.IncludeInProductivity, ShiftCategory.TrainingShift
      from
         Employee join EmployeeShift on EmployeeShift.EmployeeID = Employee.ID
         join ShiftCategory on EmployeeShift.ShiftCategoryID = ShiftCategory.ID
      where
         EmployeeShift.ShiftTypeCode = 'A'
      UNION ALL
      select
         Employee.ID as EmployeeID, EmployeeEarning.JobID as JobClassID, EarningDate as EarningDate, 0 as RegHours, 0 as OTHours, 0 as DTHours, 0 as BankedHours,
         0 as RegDollars, 0 as OTDollars, 0 as DTDollars, Hours as EarningHours, Rate as EarningRate, Dollars as EarningDollars, TotalDollars as TotalEarningDollars,
         IncludeInBenefitCalcs, IncludeInOTCalcs, EarningType.IncludeInTips, EarningType.IncludeInGrossSales, RoundOnExport, ProcessorCode,
         EarningType.Name as EarningTypeDesc, EarningType.EarningCategoryID, UOM, EarningType.Type as EarningType, 0 as AdjHours, 0 as BreakHours,
         0 as RegRate, 0 as OTRate, 0 as WorkedHours, '' as ShiftStartTime, '' as ShiftEndTime, 0 as ShiftCategoryID, 'Y' as IncludeInProductivity, 'N'
      from
         Employee join EmployeeEarning on EmployeeEarning.EmployeeID = Employee.ID
         join EarningType on EarningType.ID = EmployeeEarning.EarningTypeID
   ]]>
   </view>

   <view name="AllHoursQuery" databaseType="pgsql">
      <![CDATA[
      select
         Employee.ID as EmployeeID, EmployeeShift.JobID as JobClassID, ShiftDate as EarningDate, coalesce(RegHours, 0) as RegHours, coalesce(OTHours, 0) as OTHours,
         coalesce(DTHours, 0) as DTHours, coalesce(EmployeeShift.BankedHours, 0) as BankedHours, coalesce(RegDollars, 0) as RegDollars, coalesce(OTDollars, 0) as OTDollars,
         coalesce(DTDollars, 0) as DTDollars, cast(0 as decimal(9,4)) as EarningHours, cast(0 as decimal(9,4)) as EarningRate, cast(0 as decimal(9,2)) as EarningDollars,
         cast(0 as decimal(9,2)) as TotalEarningDollars, cast('Y' as char(1)) as IncludeInBenefitCalcs, cast('Y' as char(1)) as IncludeInOTCalcs, cast('N' as char(1)) as IncludeInTips,
         cast('N' as char(1)) as IncludeInGrossSales, cast('N' as char(1)) as RoundOnExport, cast('' as varchar) as ProcessorCode, cast('' as varchar) as EarningTypeDesc,
         cast(0 as integer) as EarningCategoryID, cast('' as varchar) as UOM, cast('' as varchar) as EarningType, coalesce(EmployeeShift.AdjHours,0) as AdjHours,
         case when WorkedHours = 0 then cast(0 as decimal(9,4)) else coalesce(round(datediff('minute',cast(StartTime as timestamp),cast(EndTime as timestamp))/60,2) - WorkedHours, 0) end as BreakHours,
         RegRate, OTRate, WorkedHours, EmployeeShift.StartTime as ShiftStartTime, EmployeeShift.EndTime as ShiftEndTime, EmployeeShift.ShiftCategoryID as ShiftCategoryID,
         ShiftCategory.IncludeInProductivity, ShiftCategory.TrainingShift
      from
         Employee join EmployeeShift on EmployeeShift.EmployeeID = Employee.ID
         join ShiftCategory on EmployeeShift.ShiftCategoryID = ShiftCategory.ID
      where
         EmployeeShift.ShiftTypeCode = 'A'
      UNION ALL
      select
         Employee.ID as EmployeeID, EmployeeEarning.JobID as JobClassID, EarningDate as EarningDate, cast(0 as decimal(9,4)) as RegHours, cast(0 as decimal(9,4)) as OTHours,
         cast(0 as decimal(9,4)) as DTHours, cast(0 as decimal(9,4)) as BankedHours, cast(0 as decimal(9,2)) as RegDollars, cast(0 as decimal(9,2)) as OTDollars,
         cast(0 as decimal(9,2)) as DTDollars, Hours as EarningHours, Rate as EarningRate, Dollars as EarningDollars, TotalDollars as TotalEarningDollars,
         IncludeInBenefitCalcs, IncludeInOTCalcs, EarningType.IncludeInTips, EarningType.IncludeInGrossSales, RoundOnExport, ProcessorCode,
         EarningType.Name as EarningTypeDesc, EarningType.EarningCategoryID, UOM, EarningType.Type as EarningType, cast(0 as decimal(9,4)) as AdjHours, cast(0 as decimal(9,4)) as BreakHours,
         cast(0 as decimal(9,4)) as RegRate, cast(0 as decimal(9,4)) as OTRate, cast(0 as decimal(9,4)) as WorkedHours, cast('1/1/1900 00:00' as timestamp) as ShiftStartTime,
         cast('1/1/1900 00:00' as timestamp) as ShiftEndTime, cast(0 as integer) as ShiftCategoryID, cast('Y' as char(1)) as IncludeInProductivity, cast ('N' as char(1)) as TrainingShift
      from
         Employee join EmployeeEarning on EmployeeEarning.EmployeeID = Employee.ID
         join EarningType on EarningType.ID = EmployeeEarning.EarningTypeID
   ]]>
   </view>

   <view name="ShiftSummaryQuery">
      <![CDATA[
      select
         DivisionID, DepartmentID, JobID, ShiftDate as StatDate, ShiftTypeCode, Source, ShiftCategoryID,
         IncludeInProductivity, TrainingShift, StartTime, EndTime, sum(WorkedHours) as WorkedHours,
         sum(AdjHours) as AdjHours, sum(NetHours) as NetHours, avg(AvgRate) as AvgRate, sum(RegHours) as RegHours,
         sum(OTHours) as OTHours, sum(DTHours) as DTHours, sum(NetDollars) as NetDollars, sum(RegDollars) as RegDollars,
         sum(OTDollars) as OTDollars, sum(DTDollars) as DTDollars, avg(RegRate) as RegRate, avg(OTRate) as OTRate,
         avg(DTRate) as DTRate, count(distinct EmployeeID) as EmpCount, PropertyID
      from
         ShiftQuery
      group by
         PropertyID, DivisionID,DepartmentID,JobID,ShiftDate,ShiftTypeCode,Source,ShiftCategoryID, IncludeInProductivity, TrainingShift,StartTime,EndTime
      UNION ALL
      select
         DivisionID, DepartmentID, JobclassID, StatDate, ShiftTypeCode, Source, ShiftCategoryID, IncludeInProductivity, TrainingShift, null as StartTime, null as EndTime, sum(WorkedHours) as WorkedHours, sum(AdjHours) as AdjHours, sum(NetHours) as NetHours, avg(AvgRate) as AvgRate, sum(RegHours) as RegHours, sum(OTHours) as OTHours, sum(DTHours) as DTHours, sum(NetDollars) as NetDollars, sum(RegDollars) as RegDollars, sum(OTDollars) as OTDollars, sum(DTDollars) as DTDollars, avg(RegRate) as RegRate, avg(OTRate) as OTRate, avg(DTRate) as DTRate, 0 as EmpCount, PropertyID
      from
         AuxLaborHoursQuery
      group by
         PropertyID, DivisionID,DepartmentID,JobclassID,StatDate,ShiftTypeCode,Source,ShiftCategoryID, IncludeInProductivity, TrainingShift
   ]]>
   </view>

   <view name="DivShiftSummaryQuery">
      <![CDATA[
      select DivisionID, ShiftDate as StatDate, ShiftTypeCode, Source, ShiftCategoryID, IncludeInProductivity, TrainingShift,
             sum(WorkedHours) as WorkedHours, sum(AdjHours) as AdjHours, sum(NetHours) as NetHours, avg(AvgRate) as AvgRate,
             sum(RegHours) as RegHours, sum(OTHours) as OTHours, sum(DTHours) as DTHours, sum(NetDollars) as NetDollars,
             sum(RegDollars) as RegDollars, sum(OTDollars) as OTDollars, sum(DTDollars) as DTDollars, avg(RegRate) as RegRate,
             avg(OTRate) as OTRate, avg(DTRate) as DTRate, count(distinct EmployeeID) as EmpCount, PropertyID
      from ShiftQuery
      group by PropertyID,DivisionID,ShiftDate,ShiftTypeCode,Source,ShiftCategoryID, IncludeInProductivity, TrainingShift
      UNION ALL
      select DivisionID, StatDate, ShiftTypeCode, Source, ShiftCategoryID, IncludeInProductivity, TrainingShift,
             sum(WorkedHours) as WorkedHours, sum(AdjHours) as AdjHours, sum(NetHours) as NetHours, avg(AvgRate) as AvgRate,
             sum(RegHours) as RegHours, sum(OTHours) as OTHours, sum(DTHours) as DTHours, sum(NetDollars) as NetDollars,
             sum(RegDollars) as RegDollars, sum(OTDollars) as OTDollars, sum(DTDollars) as DTDollars, avg(RegRate) as RegRate,
             avg(OTRate) as OTRate, avg(DTRate) as DTRate, 0 as EmpCount,PropertyID
      from AuxLaborHoursQuery
      group by PropertyID,DivisionID,StatDate,ShiftTypeCode,Source,ShiftCategoryID, IncludeInProductivity, TrainingShift
   ]]>
   </view>

   <view name="DptShiftSummaryQuery">
      <![CDATA[
      select
         DepartmentID, ShiftDate as StatDate, ShiftTypeCode, Source, ShiftCategoryID, IncludeInProductivity, TrainingShift,
         sum(WorkedHours) as WorkedHours, sum(AdjHours) as AdjHours, sum(NetHours) as NetHours, avg(AvgRate) as AvgRate,
         sum(RegHours) as RegHours, sum(OTHours) as OTHours, sum(DTHours) as DTHours, sum(NetDollars) as NetDollars,
         sum(RegDollars) as RegDollars, sum(OTDollars) as OTDollars, sum(DTDollars) as DTDollars, avg(RegRate) as RegRate,
         avg(OTRate) as OTRate, avg(DTRate) as DTRate, count(distinct EmployeeID) as EmpCount,PropertyID
      from
         ShiftQuery
      group by
         PropertyID,DepartmentID,ShiftDate,ShiftTypeCode,Source,ShiftCategoryID, IncludeInProductivity, TrainingShift
      UNION ALL
      select
         DepartmentID, StatDate, ShiftTypeCode, Source, ShiftCategoryID, IncludeInProductivity, TrainingShift,
         sum(WorkedHours) as WorkedHours, sum(AdjHours) as AdjHours, sum(NetHours) as NetHours, avg(AvgRate) as AvgRate,
         sum(RegHours) as RegHours, sum(OTHours) as OTHours, sum(DTHours) as DTHours, sum(NetDollars) as NetDollars,
         sum(RegDollars) as RegDollars, sum(OTDollars) as OTDollars, sum(DTDollars) as DTDollars, avg(RegRate) as RegRate,
         avg(OTRate) as OTRate, avg(DTRate) as DTRate, 0 as EmpCount,PropertyID
      from
         AuxLaborHoursQuery
      group by
         PropertyID,DepartmentID,StatDate,ShiftTypeCode,Source,ShiftCategoryID, IncludeInProductivity, TrainingShift
   ]]>
   </view>

   <view name="JobShiftSummaryQuery">
      <![CDATA[
      select
         JobID, ShiftDate as StatDate, ShiftTypeCode, Source, ShiftCategoryID, IncludeInProductivity, TrainingShift,
         sum(WorkedHours) as WorkedHours, sum(AdjHours) as AdjHours, sum(NetHours) as NetHours, avg(AvgRate) as AvgRate,
         sum(RegHours) as RegHours, sum(OTHours) as OTHours, sum(DTHours) as DTHours, sum(NetDollars) as NetDollars,
         sum(RegDollars) as RegDollars, sum(OTDollars) as OTDollars, sum(DTDollars) as DTDollars, avg(RegRate) as RegRate,
         avg(OTRate) as OTRate, avg(DTRate) as DTRate, count(distinct EmployeeID) as EmpCount, PropertyID
      from
         ShiftQuery
      group by
         PropertyID,JobID,ShiftDate,ShiftTypeCode,Source,ShiftCategoryID, IncludeInProductivity, TrainingShift
      UNION ALL
      select
         JobclassID, StatDate, ShiftTypeCode, Source, ShiftCategoryID, IncludeInProductivity, TrainingShift,
         sum(WorkedHours) as WorkedHours, sum(AdjHours) as AdjHours, sum(NetHours) as NetHours, avg(AvgRate) as AvgRate,
         sum(RegHours) as RegHours, sum(OTHours) as OTHours, sum(DTHours) as DTHours, sum(NetDollars) as NetDollars,
         sum(RegDollars) as RegDollars, sum(OTDollars) as OTDollars, sum(DTDollars) as DTDollars, avg(RegRate) as RegRate,
         avg(OTRate) as OTRate, avg(DTRate) as DTRate, 0 as EmpCount, PropertyID
      from
         AuxLaborHoursQuery
      group by
         PropertyID,JobclassID,StatDate,ShiftTypeCode,Source,ShiftCategoryID, IncludeInProductivity, TrainingShift
   ]]>
   </view>

   <view name="DivRequirementSummaryQuery" databaseType="mssql">
      <![CDATA[
   select DivisionID, RequirementDate, RequirementCode, sum(ForecastHours) as ForecastHours,PropertyID
   from RequirementQuery
   group by PropertyID,DivisionID,RequirementDate,RequirementCode
   ]]>
   </view>

   <view name="DivRequirementSummaryQuery" databaseType="pgsql">
      <![CDATA[
   select DivisionID, RequirementDate, RequirementCode, sum(ForecastHours) as ForecastHours,PropertyID
   from RequirementQuery
   group by PropertyID,DivisionID,RequirementDate,RequirementCode
   ]]>
   </view>

   <view name="DptRequirementSummaryQuery" databaseType="mssql">
      <![CDATA[
   select DepartmentID, RequirementDate, RequirementCode, sum(ForecastHours) as ForecastHours,PropertyID
   from RequirementQuery
   group by PropertyID,DepartmentID,RequirementDate,RequirementCode
   ]]>
   </view>

   <view name="DptRequirementSummaryQuery" databaseType="pgsql">
      <![CDATA[
   select DepartmentID, RequirementDate, RequirementCode, sum(ForecastHours) as ForecastHours,PropertyID
   from RequirementQuery
   group by PropertyID,DepartmentID,RequirementDate,RequirementCode
   ]]>
   </view>

   <view name="JobRequirementSummaryQuery" databaseType="mssql">
      <![CDATA[
   select JobclassID, RequirementDate, RequirementCode, sum(ForecastHours) as ForecastHours,PropertyID
   from RequirementQuery
   group by PropertyID,JobclassID,RequirementDate,RequirementCode
   ]]>
   </view>

   <view name="JobRequirementSummaryQuery" databaseType="pgsql">
      <![CDATA[
   select JobclassID, RequirementDate, RequirementCode, sum(ForecastHours) as ForecastHours,PropertyID
   from RequirementQuery
   group by PropertyID,JobclassID,RequirementDate,RequirementCode
   ]]>
   </view>

   <view name="ActualJobSummaryQuery">
      <![CDATA[
      SELECT
         JobID,ShiftDate AS StatDate,ShiftCategoryID,IncludeInProductivity,TrainingShift,ContractShift,sum(WorkedHours) AS WorkedHours,sum(AdjHours) AS AdjHours,sum(NetHours) AS NetHours,
         avg(AvgRate) AS AvgRate,sum(NetDollars) AS NetDollars,sum(RegHours) AS RegHours,avg(RegRate) AS RegRate,sum(RegDollars) AS RegDollars,sum(OTHours) AS OTHours,
         avg(OTRate) AS OTRate,sum(OTDollars) AS OTDollars,sum(DTHours) AS DTHours,avg(DTRate) AS DTRate,sum(DTDollars) AS DTDollars,sum(BankedHours) AS BankedHours,
         count(DISTINCT EmployeeID) AS EmpCount,EmployeeShift.PropertyID
      FROM
         EmployeeShift JOIN ShiftCategory ON ShiftCategoryID = ShiftCategory.ID
      WHERE
         ShiftTypeCode = 'A'
      GROUP BY
         EmployeeShift.PropertyID,JobID,ShiftDate,ShiftCategoryID,IncludeInProductivity,TrainingShift,ContractShift
      UNION ALL
      SELECT
         JobclassID,StatDate,ShiftCategoryID,IncludeInProductivity,TrainingShift,ContractShift,WorkedHours,AdjHours,NetHours,AvgRate,NetDollars,RegHours,RegRate,RegDollars,OTHours,OTRate,
         OTDollars,DTHours,DTRate,DTDollars,0 as BankedHours,0 AS EmpCount,AuxLaborHours.PropertyID
      FROM
         AuxLaborHours INNER JOIN ShiftCategory ON ShiftCategory.ID = AuxLaborHours.ShiftCategoryID
      WHERE
         ShiftType = 'A'
      UNION ALL
      SELECT
         es.JobID,es.ShiftDate AS statdate,es.ShiftCategoryID,sc.IncludeInProductivity,sc.TrainingShift,sc.ContractShift,SUM(ee.Hours) AS WorkedHours,0 AS AdjHours,sum(ee.Hours) AS NetHours,
         avg(es.AvgRate) AS AvgRate,sum(ee.Hours * es.RegRate) AS NetDollars,sum(ee.Hours) AS RegHours,avg(es.RegRate) AS RegRate,sum(ee.hours * es.RegRate) AS RegDollars,
         0 AS OTHours,0 AS OTRate,0 AS OTDollars,0 AS DTHours,0 AS DTRate,0 AS DTDollars,0 AS BankedHours,count(DISTINCT es.EmployeeID) AS EmpCount,ee.PropertyID
      FROM
         EmployeeEarning ee JOIN EmployeeShiftAdjustment esa ON ee.ReallocatedFromAdjustmentID = esa.ID
         JOIN EmployeeShift es ON esa.EmployeeShiftID = es.ID
         JOIN ShiftCategory sc ON es.ShiftCategoryID = sc.ID
      WHERE
         ee.ReallocatedFromAdjustmentID IS NOT NULL
      GROUP BY
         ee.PropertyID,es.JobID,es.ShiftDate,es.ShiftCategoryID,sc.IncludeInProductivity,sc.TrainingShift,sc.ContractShift
   ]]>
   </view>

   <view name="ForecastJobSummaryQuery" databaseType="mssql">
      <![CDATA[
   SELECT
      JobclassID,RequirementDate AS StatDate,sum(ForecastHours) AS ForecastHours,PropertyID
   FROM
      RequirementQuery
   WHERE
      RequirementCode = 'O'
   GROUP BY
      PropertyID,JobclassID,RequirementDate
   UNION ALL
   SELECT
      JobclassID,StatDate,ForecastHours,JobclassLaborData.PropertyID
   FROM
      JobclassLaborData INNER JOIN Assignment ON JobclassLaborData.JobclassID = Assignment.ID
   ]]>
   </view>

   <view name="ForecastJobSummaryQuery" databaseType="pgsql">
      <![CDATA[
   SELECT
      JobclassID,RequirementDate AS StatDate,sum(ForecastHours) AS ForecastHours,PropertyID
   FROM
      RequirementQuery
   WHERE
      RequirementCode = 'O'
   GROUP BY
      PropertyID,JobclassID,RequirementDate
   UNION ALL
   SELECT
      JobclassID,StatDate,ForecastHours,JobclassLaborData.PropertyID
   FROM
      JobclassLaborData INNER JOIN Assignment ON JobclassLaborData.JobclassID = Assignment.ID
   ]]>
   </view>

   <view name="ScheduleJobSummaryQuery">
      <![CDATA[
      SELECT
         JobID,ShiftDate AS StatDate,ShiftCategoryID,IncludeInProductivity,TrainingShift,sum(WorkedHours) AS WorkedHours,sum(AdjHours) AS AdjHours,sum(NetHours) AS NetHours,
         avg(AvgRate) AS AvgRate,sum(RegHours) AS RegHours,sum(OTHours) AS OTHours,sum(DTHours) AS DTHours,sum(NetDollars) AS NetDollars,sum(RegDollars) AS RegDollars,
         sum(OTDollars) AS OTDollars,sum(DTDollars) AS DTDollars,avg(RegRate) AS RegRate,avg(OTRate) AS OTRate,avg(DTRate) AS DTRate,count(DISTINCT EmployeeID) AS EmpCount,PropertyID
      FROM
         ShiftQuery
      WHERE
         ShiftTypeCode = 'S'
      GROUP BY
         PropertyID,JobID,ShiftDate,ShiftCategoryID,IncludeInProductivity,TrainingShift
      UNION ALL
      SELECT
         JobclassID,StatDate AS StatDate,ShiftCategoryID,IncludeInProductivity,TrainingShift,sum(WorkedHours) AS WorkedHours,sum(AdjHours) AS AdjHours,sum(NetHours) AS NetHours,
         avg(AvgRate) AS AvgRate,sum(RegHours) AS RegHours,sum(OTHours) AS OTHours,sum(DTHours) AS DTHours,sum(NetDollars) AS NetDollars,sum(RegDollars) AS RegDollars,sum(OTDollars) AS OTDollars,
         sum(DTDollars) AS DTDollars,avg(RegRate) AS RegRate,avg(OTRate) AS OTRate,avg(DTRate) AS DTRate,0 AS EmpCount,PropertyID
      FROM
         AuxLaborHoursQuery
      WHERE
         ShiftTypeCode = 'S'
      GROUP BY
         PropertyID,JobclassID,StatDate,ShiftCategoryID,IncludeInProductivity,TrainingShift
   ]]>
   </view>

   <view name="StandardJobSummaryQuery" databaseType="mssql">
      <![CDATA[
      SELECT
         JobclassID,RequirementDate AS StatDate,sum(ForecastHours) AS StandardHours,PropertyID
      FROM
         RequirementQuery
      WHERE
         RequirementCode = 'S'
      GROUP BY
         PropertyID,JobclassID,RequirementDate
      UNION ALL
      SELECT
         JobclassID,StatDate,StandardHours,JobclassLaborData.PropertyID
      FROM
         JobclassLaborData INNER JOIN Assignment ON JobclassLaborData.JobclassID = Assignment.ID and JobClassLaborData.PropertyID = Assignment.PropertyID
   ]]>
   </view>

   <view name="StandardJobSummaryQuery" databaseType="pgsql">
      <![CDATA[
      SELECT
         JobclassID,RequirementDate AS StatDate,sum(ForecastHours) AS StandardHours,PropertyID
      FROM
         RequirementQuery
      WHERE
         RequirementCode = 'S'
      GROUP BY
         PropertyID,JobclassID,RequirementDate
      UNION ALL
      SELECT
         JobclassID,StatDate,StandardHours,JobclassLaborData.PropertyID
      FROM
         JobclassLaborData INNER JOIN Assignment ON JobclassLaborData.JobclassID = Assignment.ID and JobClassLaborData.PropertyID = Assignment.PropertyID
   ]]>
   </view>

   <view name="EmployeeStaffStatQuery">
      <![CDATA[
   select EmployeeID, JobID, ShiftDate as StatDate, ShiftTypeCode as StatTypeCode, sum(RegHours) as RegHours,
          sum(OTHours) as OTHours, sum(DTHours) as DTHours, sum(RegDollars) as RegDollars, sum(OTDollars) as OTDollars,
          sum(DTDollars) as DTDollars
   from ShiftQuery
   group by EmployeeID,JobID,ShiftDate,ShiftTypeCode
   ]]>
   </view>

   <view name="EmployeeShiftStatusQuery">
      <![CDATA[
   select
      ES.EmployeeID, ES.JobID, ES.ShiftDate, ES.ShiftTypeCode, EJS.StartDate, EJS.JobID as SetJobID
   from
      EmployeeShift ES left join EmployeeJobStatus EJS on ES.EmployeeID = EJS.EmployeeID and ES.ShiftDate between EJS.StartDate and EJS.EndDate
   ]]>
   </view>

   <view name="EmployeeShiftPunchesQuery" databaseType="mssql">
      <![CDATA[
   select
      esp.*, t.radius, dbo.MetersBetweenGeoLocations(esp.latitude, esp.longitude, t.latitude, t.longitude) as PunchDistanceFromClock
   from
      EmployeeShiftPunch esp left join TimeClock t on esp.TimeClockID = t.ID
   ]]>
   </view>

   <view name="EmployeeShiftPunchesQuery" databaseType="pgsql">
      <![CDATA[
   select
      esp.*, t.radius, MetersBetweenGeoLocations(esp.latitude, esp.longitude, t.latitude, t.longitude) as PunchDistanceFromClock
   from
      EmployeeShiftPunch esp left join TimeClock t on esp.TimeClockID = t.ID
   ]]>
   </view>

   <view name="WatsonTaskQuery" databaseType="mssql">
      <![CDATA[
   select ID, PropertyID, TaskName, ReferenceDate, StartDateTime, EndDateTime, CompletedBy, Complete, TaskNotes,
          StackTrace, Row_Number() over (partition by TaskName order by StartDateTime desc) as RecordNumber
   from WatsonTask
   ]]>
   </view>

   <view name="WatsonTaskQuery" databaseType="pgsql">
      <![CDATA[
   select ID, PropertyID, TaskName, ReferenceDate, StartDateTime, EndDateTime, CompletedBy, Complete, TaskNotes,
          StackTrace, Row_Number() over (partition by TaskName order by StartDateTime desc) as RecordNumber
   from WatsonTask
   ]]>
   </view>

   <view name="JobStatusQuery" databaseType="mssql">
      <![CDATA[
   select
      Employee.PropertyID, EmployeeID, StartDate, EndDate, count(*) as JobCount,
      ROW_NUMBER() over (partition by EmployeeID order by StartDate desc) as SetNumber, MAX(Home) as hasHomeJob
   from
      EmployeeJobStatus join Employee on EmployeeJobStatus.EmployeeID = Employee.ID
   group by
      Employee.PropertyID, EmployeeID, StartDate, EndDate
   ]]>
   </view>

   <view name="JobStatusQuery" databaseType="pgsql">
      <![CDATA[
   select
      Employee.PropertyID, EmployeeID, StartDate, EndDate, count(*) as JobCount,
      ROW_NUMBER() over (partition by EmployeeID order by StartDate desc) as SetNumber, MAX(Home) as hasHomeJob
   from
      EmployeeJobStatus join Employee on EmployeeJobStatus.EmployeeID = Employee.ID
   group by
      Employee.PropertyID, EmployeeID, StartDate, EndDate
   ]]>
   </view>

   <view name="JobStatusSummaryQuery" databaseType="mssql">
      <![CDATA[
   select ESSV.EmployeeID, JSV.StartDate, max(JSV.EndDate) as EndDate, MAX(JSV.JobCount) as JobCount, MAX(JSV.Setnumber) as SetNumber, sum(case when ESSV.SetJobID is null then 1 else 0 end) as InvalidShiftCount
   , sum(case when ESSV.SetJobID is not null and ESSV.ShiftTypeCode = 'A' then 1 else 0 end) as ValidAShiftCount
   , sum(case when ESSV.SetJobID is not null and ESSV.ShiftTypeCode = 'G' then 1 else 0 end) as ValidGShiftCount
   , sum(case when ESSV.SetJobID is not null and ESSV.ShiftTypeCode = 'S' then 1 else 0 end) as ValidSShiftCount
   from EmployeeShiftStatusQuery ESSV left join JobStatusQuery JSV on ESSV.EmployeeID = JSV.EmployeeID and ESSV.StartDate = JSV.StartDate
   group by ESSV.EmployeeID, JSV.StartDate
   ]]>
   </view>

   <view name="JobStatusSummaryQuery" databaseType="pgsql">
      <![CDATA[
   select ESSV.EmployeeID, JSV.StartDate, max(JSV.EndDate) as EndDate, MAX(JSV.JobCount) as JobCount, MAX(JSV.Setnumber) as SetNumber, sum(case when ESSV.SetJobID is null then 1 else 0 end) as InvalidShiftCount
   , sum(case when ESSV.SetJobID is not null and ESSV.ShiftTypeCode = 'A' then 1 else 0 end) as ValidAShiftCount
   , sum(case when ESSV.SetJobID is not null and ESSV.ShiftTypeCode = 'G' then 1 else 0 end) as ValidGShiftCount
   , sum(case when ESSV.SetJobID is not null and ESSV.ShiftTypeCode = 'S' then 1 else 0 end) as ValidSShiftCount
   from EmployeeShiftStatusQuery ESSV left join JobStatusQuery JSV on ESSV.EmployeeID = JSV.EmployeeID and ESSV.StartDate = JSV.StartDate
   group by ESSV.EmployeeID, JSV.StartDate
   ]]>
   </view>

   <!-- Did not create in PGSQL as it is not needed any more -->
   <view name="JobStatusDuplicatesQuery" databaseType="mssql">
      <![CDATA[
   select
      JobStatusQuery.*,
      case when
      coalesce(
      (
         select
            COUNT(*)
         from
            EmployeeJobStatus nextStatus join EmployeeJobStatus thisStatus on
               nextStatus.StartDate = JobStatusQuery.EndDate + 1 and
               thisStatus.StartDate = JobStatusQuery.StartDate and
               nextStatus.EmployeeID = JobStatusQuery.EmployeeID and
               thisStatus.EmployeeID = JobStatusQuery.EmployeeID and
               nextStatus.JobID = thisStatus.JobID and
               nextStatus.ScheduleOrder = thisStatus.ScheduleOrder and
               nextStatus.SeniorityDate = thisStatus.SeniorityDate and
               nextStatus.Rank = thisStatus.Rank and
               nextStatus.SubOnly = thisStatus.SubOnly and
               nextStatus.PayTypeCode = thisStatus.PayTypeCode and
               nextStatus.AnnualBased = thisStatus.AnnualBased and
               nextStatus.Home = thisStatus.Home and
               coalesce(nextStatus.PayRateReasonID, 0) = coalesce(thisStatus.PayRateReasonID,0) and
               coalesce(nextStatus.HourlyRate, 0) = coalesce(thisStatus.HourlyRate, 0) and
               coalesce(nextStatus.AnnualRate, 0) = coalesce(thisStatus.AnnualRate, 0) and
               coalesce(nextStatus.PieceRate, 0) = coalesce(thisStatus.PieceRate, 0) and
               coalesce(nextStatus.SalaryDistID, 0) = coalesce(thisStatus.SalaryDistID, 0) and
               coalesce(nextStatus.ContractHours, 0) = coalesce(thisStatus.ContractHours, 0) and
               coalesce(nextStatus.ContractDays, 0) = coalesce(thisStatus.ContractDays, 0) and
               coalesce(nextStatus.ReconcileCodeID, 0) = coalesce(thisStatus.ReconcileCodeID, 0)
      ), 0) = JobStatusQuery.JobCount	and
      coalesce((select COUNT(*) from EmployeeJobStatus nextStatus where nextStatus.StartDate = JobStatusQuery.EndDate + 1 and nextStatus.EmployeeID = JobStatusQuery.EmployeeID), 0) = JobStatusQuery.JobCount
      then
         'Y'
      else
         'N'
      end as duplicatesNextSet
   from
      JobStatusQuery where SetNumber > 1
   ]]>
   </view>

   <view name="AssignmentRCPeriod">
      <![CDATA[
   select SS.PropertyID, AST.AssignmentID, RCP.PeriodNo, RCP.PeriodName, RC.Name as RevenueCenterName, RCP.KBIID, RCPD.DayNo, RCPD.StartTime, RCPD.EndTime
   from StandardSet as SS
   join ShiftRelatedStandard as AST on SS.ID = AST.StandardSetID and SS.Name = 'Master'
   join RevenueCenterPeriod as RCP on AST.KBIID = RCP.KBIID
   join RevenueCenter as RC on RCP.RevenueCenterID = RC.ID
   join RevenueCenterPeriodStandardSet as RCPSS on RCP.ID = RCPSS.RevenueCenterPeriodID
      AND AST.StandardSetID = RCPSS.StandardSetID
   join RevenueCenterPeriodDay as RCPD on RCPSS.ID = RCPD.RevenueCenterPeriodStandardSetID
   ]]>
   </view>

   <view name="RevenueCellMappings">
      <![CDATA[
   select rl.PropertyID,rl.Description,rl.Code,rl.LineTypeCode,rc.id as RevenueCellID,rc.CellTypeCode,rc.KBIID,rcmap.ID as RevenueCellInterfaceMapID,rcmap.SourceReport,rcmap.SourceLine,rcmap.SourceCell
   from RevenueLine rl
   join RevenueCell rc on rc.RevenueLineID = rl.ID
   join RevenueCellInterfaceMap rcmap on rcmap.RevenueCellID = rc.ID
   ]]>
   </view>

   <view name="AssignmentQuery">
      <![CDATA[
   select *, MasterJobClassID as MasterJobID from Assignment
   ]]>
   </view>

   <view name="BudgetLineQuery">
      <![CDATA[
      select ID, PropertyID, Description, Code, MasterBudgetLineID, GlobalOrderNo
      from BudgetLine

   ]]>
   </view>

   <view name="JobDimensionQuery">
      <![CDATA[
      select
          r.ID as RegionID, p.ID as PropertyID, div.ID as DivisionID, dpt.ID as DepartmentID, job.ID as JobID, job.ShowOnDashboard as IsActive
      from
          Assignment div join Assignment dpt on dpt.ParentAssignmentID = div.ID and div.ParentAssignmentID is null
          join Assignment job on job.ParentAssignmentID = dpt.ID
          join Property p on p.ID = div.PropertyID
          left join Region r on r.ID = P.RegionID
   ]]>
   </view>

   <view name="ActualShiftPunchQuery" databaseType="mssql">
      <![CDATA[
      WITH Ranking AS
      (
      SELECT *, PunchTypeCode + CAST(RANK() OVER (PARTITION BY EmployeeShiftID, PunchTypeCode ORDER BY PunchTime) AS VARCHAR(10))RANKPAIR FROM EmployeeShiftPunch
      )
      SELECT EmployeeShiftID, [IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4] FROM
      (
         SELECT EmployeeShiftID, PunchTime, RANKPAIR FROM Ranking
      ) AS SOURCE

      PIVOT (MAX(PunchTime) FOR RANKPAIR in ([IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4])) AS PT
   ]]>
   </view>

   <view name="ActualShiftPunchQuery" databaseType="pgsql">
      <![CDATA[
      WITH Ranking AS
      (
      SELECT *, PunchTypeCode + CAST(RANK() OVER (PARTITION BY EmployeeShiftID, PunchTypeCode ORDER BY PunchTime) AS VARCHAR(10))RANKPAIR FROM EmployeeShiftPunch
      )
      SELECT EmployeeShiftID, [IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4] FROM
      (
         SELECT EmployeeShiftID, PunchTime, RANKPAIR FROM Ranking
      ) AS SOURCE

      PIVOT (MAX(PunchTime) FOR RANKPAIR in ([IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4])) AS PT
   ]]>
   </view>

   <view name="AdjustedShiftPunchQuery" databaseType="mssql">
      <![CDATA[
      WITH Ranking AS
      (
      SELECT *, PunchTypeCode + CAST(RANK() OVER (PARTITION BY EmployeeShiftID, PunchTypeCode ORDER BY AdjTime) AS VARCHAR(10))RANKPAIR FROM EmployeeShiftPunch
      )
      SELECT EmployeeShiftID, [IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4] FROM
      (
         SELECT EmployeeShiftID, AdjTime, RANKPAIR FROM Ranking
      ) AS SOURCE

      PIVOT (MAX(AdjTime) FOR RANKPAIR in ([IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4])) AS PT
   ]]>
   </view>

   <view name="AdjustedShiftPunchQuery" databaseType="pgsql">
      <![CDATA[
      WITH Ranking AS
      (
      SELECT *, PunchTypeCode + CAST(RANK() OVER (PARTITION BY EmployeeShiftID, PunchTypeCode ORDER BY AdjTime) AS VARCHAR(10))RANKPAIR FROM EmployeeShiftPunch
      )
      SELECT EmployeeShiftID, [IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4] FROM
      (
         SELECT EmployeeShiftID, AdjTime, RANKPAIR FROM Ranking
      ) AS SOURCE

      PIVOT (MAX(AdjTime) FOR RANKPAIR in ([IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4])) AS PT
   ]]>
   </view>

   <view name="AuxLaborHoursDWQuery">
      <![CDATA[
         SELECT AuxLaborHours.ID as AuxLaborHoursID, AuxLaborHours.PropertyID, NULL as ShiftID, NULL as EarningID, StatDate as PayrollDate, StatDate as ShiftDate,
                ShiftType as ShiftTypeCode, ShiftCategoryID, NULL as EmployeeID, JobclassID as JobID, MasterJobClassID, pg.ID as PayGroupID, 'REG' as ProcessorCode,
                NULL as EarningTypeID, 1 as HoursDistributionTypeID, RegHours as Hours, AdjHours as AdjustedHours, (ISNULL(RegHours, 0) + ISNULL(OTHours, 0) + ISNULL(DTHours, 0)) as NetHours,
                0.00 as Dollars, RegDollars as TotalDollars, RegDollars as GrossDollars
         FROM AuxLaborHours
         JOIN PayGroup pg on AuxLaborHours.PropertyID = pg.PropertyID
         JOIN Assignment a ON AuxLaborHours.JobclassID = a.ID
         UNION ALL
         SELECT AuxLaborHours.ID as AuxLaborHoursID, AuxLaborHours.PropertyID, NULL as ShiftID, NULL as EarningID, StatDate as PayrollDate, StatDate as ShiftDate,
                ShiftType as ShiftTypeCode, ShiftCategoryID, NULL as EmployeeID, JobclassID as JobID, MasterJobClassID, pg.ID as PayGroupID, 'OT' as ProcessorCode,
                NULL as EarningTypeID, 2 as HoursDistributionTypeID, OTHours as Hours, 0.00 as AdjustedHours, 0.00 as NetHours,  0.00 as Dollars, OTDollars as TotalDollars,
                OTDollars as GrossDollars
         FROM AuxLaborHours
         JOIN PayGroup pg on AuxLaborHours.PropertyID = pg.PropertyID
         JOIN Assignment a ON AuxLaborHours.JobclassID = a.ID
         UNION ALL
         SELECT AuxLaborHours.ID as AuxLaborHoursID, AuxLaborHours.PropertyID, NULL as ShiftID, NULL as EarningID, StatDate as PayrollDate, StatDate as ShiftDate,
                ShiftType as ShiftTypeCode, ShiftCategoryID, NULL as EmployeeID, JobclassID as JobID, MasterJobClassID, pg.ID as PayGroupID, 'DT' as ProcessorCode,
                NULL as EarningTypeID, 3 as HoursDistributionTypeID, DTHours as Hours, 0.00 as AdjustedHours, 0.00 as NetHours,  0.00 as Dollars, DTDollars as TotalDollars,
                DTDollars as GrossDollars
         FROM AuxLaborHours
         JOIN PayGroup pg on AuxLaborHours.PropertyID = pg.PropertyID
         JOIN Assignment a ON AuxLaborHours.JobclassID = a.ID
      ]]>
   </view>

   <view name="RoundedShiftPunchQuery" databaseType="mssql">
      <![CDATA[
      WITH Ranking AS
      (
      SELECT *, PunchTypeCode + CAST(RANK() OVER (PARTITION BY EmployeeShiftID, PunchTypeCode ORDER BY RoundedTime) AS VARCHAR(10)) RANKPAIR FROM EmployeeShiftPunch
      )
      SELECT EmployeeShiftID, [IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4] FROM
      (
         SELECT EmployeeShiftID, RoundedTime, RANKPAIR FROM Ranking
      ) AS SOURCE

      PIVOT (MAX(RoundedTime) FOR RANKPAIR in ([IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4])) AS PT
   ]]>
   </view>

   <view name="RoundedShiftPunchQuery" databaseType="pgsql">
      <![CDATA[
      WITH Ranking AS
      (
      SELECT *, PunchTypeCode + CAST(RANK() OVER (PARTITION BY EmployeeShiftID, PunchTypeCode ORDER BY RoundedTime) AS VARCHAR(10)) RANKPAIR FROM EmployeeShiftPunch
      )
      SELECT EmployeeShiftID, [IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4] FROM
      (
         SELECT EmployeeShiftID, RoundedTime, RANKPAIR FROM Ranking
      ) AS SOURCE

      PIVOT (MAX(RoundedTime) FOR RANKPAIR in ([IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4])) AS PT
   ]]>
   </view>

   <view name="EmployeeEarningQuery">
      <![CDATA[
      SELECT EmployeeEarning.PropertyID, ShiftID, EmployeeEarning.ID as EarningID, EarningDate as PayrollDate, EarningDate as ShiftDate, EmployeeEarning.EmployeeID,
             EmployeeEarning.JobID, MasterJobClassID, pg.ID as PayGroupID, EarningType.ProcessorCode as ProcessorCode, EmployeeEarning.EarningTypeID,
             NULL as HoursDistributionTypeID, sc.ID as ShiftCategoryID, ISNULL(Hours, 0) as Hours, 0 as AdjustedHours, (Hours) as NetHours, ISNULL(Dollars, 0) as Dollars,
             ISNULL(TotalDollars, 0) as TotalDollars, (ISNULL(Dollars, 0) + ISNULL(TotalDollars, 0)) as GrossDollars
      FROM
         EmployeeEarning JOIN EarningType ON employeeearning.EarningTypeID = EarningType.ID AND EmployeeEarning.PropertyID = EarningType.PropertyID
         JOIN PayGroup pg ON EmployeeEarning.PropertyID = pg.PropertyID
         LEFT JOIN Assignment ON EmployeeEarning.JobID = Assignment.ID
         LEFT JOIN EmployeeShift es on es.ID = EmployeeEarning.ShiftID
         LEFT JOIN ShiftCategory sc on es.ShiftCategoryID = sc.ID
      WHERE
         EarningType.ExcludeFromPayrollExport = 'N'
   ]]>
   </view>

   <view name="HoursDistributionQuery">
      <![CDATA[
      SELECT
         HoursDistribution.PropertyID, HoursDistribution.ShiftID, NULL as EarningID, DATE as PayrollDate, ShiftDate, es.ShiftTypeCode, es.ShiftCategoryID,
         es.EmployeeID, es.JobID, a.MasterJobClassID, pg.ID as PayGroupID, HoursDistributionType.ProcessorCode as ProcessorCode,
         NULL as EarningTypeID, HoursDistributionType.ID as HoursDistributionTypeID,
         coalesce(HoursDistribution.Hours, 0) + case when HoursDistributionType.ID = 1 then coalesce(sa.Hours, 0) else 0 end as Hours,
         case when HoursDistribution.Date = ShiftDate then
                 (
                    case when HoursDistributionTypeID = 1 then
                            coalesce(es.AdjHours, 0)
                         else
                            0
                       end
                    )
              else
                 0
            end as AdjustedHours,
         case when HoursDistribution.Date = ShiftDate then
                 (
                    case when HoursDistributionTypeID = 1 then
                            coalesce(NetHours, 0) + coalesce(sa.Hours, 0)
                         else
                            0
                       end
                    )
              else
                 0
            end as NetHours,
         cast(coalesce(sa.Dollars, 0) as decimal(9,2)) as Dollars,
         coalesce(HoursDistribution.TotalCosts, 0) + coalesce(sa.TotalDollars, 0) as TotalDollars,
         coalesce(HoursDistribution.TotalCosts, 0) + coalesce(sa.TotalDollars, 0) as GrossDollars
      FROM
         HoursDistribution JOIN EmployeeShift es on es.ID = HoursDistribution.ShiftID
                           JOIN HoursDistributionType on HoursDistributionType.ID = HoursDistributionTypeID
                           JOIN PayGroup pg on HoursDistribution.PropertyID = pg.PropertyID
                           JOIN Assignment a ON es.JobID = a.ID
                      LEFT JOIN (select esa.EmployeeShiftID, ee.Dollars, ee.TotalDollars, ee.Hours from EmployeeShiftAdjustment esa
                      join EmployeeEarning ee on esa.EmployeeShiftID = ee.ReallocatedFromAdjustmentID) sa on es.ID = sa.EmployeeShiftID
   ]]>
   </view>

   <view name="ActualShiftPunchQuery" databaseType="mssql">
      <![CDATA[
      WITH Ranking AS
      (
      SELECT *, PunchTypeCode + CAST(RANK() OVER (PARTITION BY EmployeeShiftID, PunchTypeCode ORDER BY PunchTime) AS VARCHAR(10))RANKPAIR FROM EmployeeShiftPunch
      )
      SELECT EmployeeShiftID, [IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4] FROM
      (
         SELECT EmployeeShiftID, PunchTime, RANKPAIR FROM Ranking
      ) AS SOURCE

      PIVOT (MAX(PunchTime) FOR RANKPAIR in ([IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4])) AS PT
   ]]>
   </view>

   <view name="ActualShiftPunchQuery" databaseType="pgsql">
      <![CDATA[
      WITH Ranking AS
      (
      SELECT *, PunchTypeCode + CAST(RANK() OVER (PARTITION BY EmployeeShiftID, PunchTypeCode ORDER BY PunchTime) AS VARCHAR(10))RANKPAIR FROM EmployeeShiftPunch
      )
      SELECT EmployeeShiftID, [IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4] FROM
      (
         SELECT EmployeeShiftID, PunchTime, RANKPAIR FROM Ranking
      ) AS SOURCE

      PIVOT (MAX(PunchTime) FOR RANKPAIR in ([IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4])) AS PT
   ]]>
   </view>

   <view name="AdjustedShiftPunchQuery" databaseType="mssql">
      <![CDATA[
      WITH Ranking AS
      (
      SELECT *, PunchTypeCode + CAST(RANK() OVER (PARTITION BY EmployeeShiftID, PunchTypeCode ORDER BY AdjTime) AS VARCHAR(10))RANKPAIR FROM EmployeeShiftPunch
      )
      SELECT EmployeeShiftID, [IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4] FROM
      (
         SELECT EmployeeShiftID, AdjTime, RANKPAIR FROM Ranking
      ) AS SOURCE

      PIVOT (MAX(AdjTime) FOR RANKPAIR in ([IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4])) AS PT
   ]]>
   </view>

   <view name="AdjustedShiftPunchQuery" databaseType="pgsql">
      <![CDATA[
      WITH Ranking AS
      (
      SELECT *, PunchTypeCode + CAST(RANK() OVER (PARTITION BY EmployeeShiftID, PunchTypeCode ORDER BY AdjTime) AS VARCHAR(10))RANKPAIR FROM EmployeeShiftPunch
      )
      SELECT EmployeeShiftID, [IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4] FROM
      (
         SELECT EmployeeShiftID, AdjTime, RANKPAIR FROM Ranking
      ) AS SOURCE

      PIVOT (MAX(AdjTime) FOR RANKPAIR in ([IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4])) AS PT
   ]]>
   </view>

   <view name="RoundedShiftPunchQuery" databaseType="mssql">
      <![CDATA[
      WITH Ranking AS
      (
      SELECT *, PunchTypeCode + CAST(RANK() OVER (PARTITION BY EmployeeShiftID, PunchTypeCode ORDER BY RoundedTime) AS VARCHAR(10)) RANKPAIR FROM EmployeeShiftPunch
      )
      SELECT EmployeeShiftID, [IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4] FROM
      (
         SELECT EmployeeShiftID, RoundedTime, RANKPAIR FROM Ranking
      ) AS SOURCE

      PIVOT (MAX(RoundedTime) FOR RANKPAIR in ([IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4])) AS PT
   ]]>
   </view>

   <view name="RoundedShiftPunchQuery" databaseType="pgsql">
      <![CDATA[
      WITH Ranking AS
      (
      SELECT *, PunchTypeCode + CAST(RANK() OVER (PARTITION BY EmployeeShiftID, PunchTypeCode ORDER BY RoundedTime) AS VARCHAR(10)) RANKPAIR FROM EmployeeShiftPunch
      )
      SELECT EmployeeShiftID, [IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4] FROM
      (
         SELECT EmployeeShiftID, RoundedTime, RANKPAIR FROM Ranking
      ) AS SOURCE

      PIVOT (MAX(RoundedTime) FOR RANKPAIR in ([IN1], [OUT1], [BREAK1], [BACK1], [BREAK2], [BACK2], [BREAK3], [BACK3], [BREAK4], [BACK4])) AS PT
   ]]>
   </view>

   <view name="WatsonActionSecurityQuery" databaseType="mssql">
      <![CDATA[
   with groupAccess as
   (
         select case when min(wg.Name) <> MAX(wg.Name) then 'Multiple' else MIN(wg.Name) end as groupName, wug.UserID, wups.PropertyID, SecurityCode, max(AccessCode) as AccessCode, Min(AccessCode) as minAccessCode from WatsonUserGroup wug join WatsonUser wu on wug.UserID = wu.ID join WatsonGroupActionSecurity wga on wug.GroupID = wga.GroupID join WatsonUserPropertySecurity wups on wu.ID = wups.UserID join WatsonGroup wg on wug.GroupID = wg.ID where Flags is null or Flags = 0 group by PropertyID, wug.UserID, SecurityCode
   )
   , combinedActions as
   (
         select null as groupName, UserID, PropertyID, SecurityCode, case when AccessCode = 'F' then 'O' else AccessCode end as AccessCode, null as mixedGroupAccess from WatsonUserActionSecurity wua join WatsonUser wu on wua.UserID = wu.ID where Flags is null or Flags = 0
         union
         select case when (select COUNT(*) from groupAccess g2 where g2.UserID = groupAccess.UserID and g2.PropertyID = groupAccess.PropertyID and g2.groupName = 'Multiple') > 0 then 'Multiple' else groupName end as groupName, UserID, PropertyID, SecurityCode, AccessCode, case when AccessCode <> minAccessCode then 'Y' else 'N' end as mixedGroupAccess from groupAccess
   ), groupedActions as
   (
         select max(groupName) as groupName, UserID, PropertyID, SecurityCode, MAX(AccessCode) as AccessCode, max(mixedGroupAccess) as mixedGroupAccess from combinedActions group by UserID, PropertyID, SecurityCode
   )
   , allActions as
   (
         select coalesce(groupName, (select max(groupName) from groupedActions g2 where g2.userId = groupedActions.UserID and g2.PropertyID = groupedActions.PropertyID)) as groupName, UserID, PropertyID, SecurityCode, case when AccessCode = 'O' then case when mixedGroupAccess = 'Y' then '*' else '' end + 'F' else case when mixedGroupAccess = 'Y' then '*' else '' end + AccessCode end as AccessCode, coalesce(mixedGroupAccess, 'N') as mixedGroupAccess from groupedActions
   )
   ,normalUserActions as
   (
         select
               groupName, UserID, PropertyID,
               [SYSTEM_SETUP],
               [SETUP_EMPLOYEE_FIELD_OVERRIDE],
               [CAN_VIEW_DOLLARS],
               [CAN_VIEW_SALARIED_EXEMPT_DOLLARS],
               [CAN_MODIFY_YOURSELF],
               [END_OF_PAYPERIOD_FUNCTIONS],
               [REOPEN_PAY_PERIOD],
               [APPROVE_ALL_SHIFTS],
               [ADD_EMPLOYEES],
               [EDIT_EMPLOYEE_GENERAL],
               [ADD_EMPLOYEE_JOBS],
               [DELETE_EMPLOYEE_JOBS],
               [TA],
               [SCHEDULER],
               [CORPORATE_FUNCTIONS]
         from
               (select groupName, UserID, PropertyID, SecurityCode, AccessCode from allActions) as a2
         pivot
               (max(AccessCode) for SecurityCode in ([SYSTEM_SETUP],[SETUP_EMPLOYEE_FIELD_OVERRIDE],[CAN_VIEW_DOLLARS],[CAN_VIEW_SALARIED_EXEMPT_DOLLARS],[CAN_MODIFY_YOURSELF],
         [END_OF_PAYPERIOD_FUNCTIONS],[REOPEN_PAY_PERIOD],[APPROVE_ALL_SHIFTS],[ADD_EMPLOYEES],[EDIT_EMPLOYEE_GENERAL],[ADD_EMPLOYEE_JOBS],[DELETE_EMPLOYEE_JOBS],[TA],[SCHEDULER],[CORPORATE_FUNCTIONS])) as pvt
   ), propertyAdminActions as
   (
         select null as groupName, wu.ID as userId, wups.PropertyID,
               'F' as [SYSTEM_SETUP],
               'F' as [SETUP_EMPLOYEE_FIELD_OVERRIDE],
               'F' as [CAN_VIEW_DOLLARS],
               'F' as [CAN_VIEW_SALARIED_EXEMPT_DOLLARS],
               'F' as [CAN_MODIFY_YOURSELF],
               'F' as [END_OF_PAYPERIOD_FUNCTIONS],
               'F' as [REOPEN_PAY_PERIOD],
               'F' as [APPROVE_ALL_SHIFTS],
               'F' as [ADD_EMPLOYEES],
               'F' as [EDIT_EMPLOYEE_GENERAL],
               'F' as [ADD_EMPLOYEE_JOBS],
               'F' as [DELETE_EMPLOYEE_JOBS],
               'F' as [TA],
               'F' as [SCHEDULER],
               'F' as [CORPORATE_FUNCTIONS]
         from
               WatsonUser wu join WatsonUserPropertySecurity wups on wu.ID = wups.UserID and wu.Flags = 1
   ), dbAdminActions as
   (
         select null as groupName, wu.ID as userId, p.ID as PropertyID,
               'F' as [SYSTEM_SETUP],
               'F' as [SETUP_EMPLOYEE_FIELD_OVERRIDE],
               'F' as [CAN_VIEW_DOLLARS],
               'F' as [CAN_VIEW_SALARIED_EXEMPT_DOLLARS],
               'F' as [CAN_MODIFY_YOURSELF],
               'F' as [END_OF_PAYPERIOD_FUNCTIONS],
               'F' as [REOPEN_PAY_PERIOD],
               'F' as [APPROVE_ALL_SHIFTS],
               'F' as [ADD_EMPLOYEES],
               'F' as [EDIT_EMPLOYEE_GENERAL],
               'F' as [ADD_EMPLOYEE_JOBS],
               'F' as [DELETE_EMPLOYEE_JOBS],
               'F' as [TA],
               'F' as [SCHEDULER],
               'F' as [CORPORATE_FUNCTIONS]
         from
               WatsonUser wu join Property p on 1 = 1 and wu.Flags = 1
         where
               wu.ID not in (select userID from propertyAdminActions)
   )
   select
         groupName, UserID, PropertyID,
         coalesce([SYSTEM_SETUP], 'N') as [SYSTEM_SETUP],
         coalesce([SETUP_EMPLOYEE_FIELD_OVERRIDE], 'N') as [SETUP_EMPLOYEE_FIELD_OVERRIDE],
         coalesce([CAN_VIEW_DOLLARS], 'N') as [CAN_VIEW_DOLLARS],
         coalesce([CAN_VIEW_SALARIED_EXEMPT_DOLLARS], 'N') as [CAN_VIEW_SALARIED_EXEMPT_DOLLARS],
         coalesce([CAN_MODIFY_YOURSELF], 'N') as [CAN_MODIFY_YOURSELF],
         coalesce([END_OF_PAYPERIOD_FUNCTIONS], 'N') as [END_OF_PAYPERIOD_FUNCTIONS],
         coalesce([REOPEN_PAY_PERIOD], 'N') as [REOPEN_PAY_PERIOD],
         coalesce([APPROVE_ALL_SHIFTS], 'N') as [APPROVE_ALL_SHIFTS],
         coalesce([ADD_EMPLOYEES], 'N') as [ADD_EMPLOYEES],
         coalesce([EDIT_EMPLOYEE_GENERAL], 'N') as [EDIT_EMPLOYEE_GENERAL],
         coalesce([ADD_EMPLOYEE_JOBS], 'N') as [ADD_EMPLOYEE_JOBS],
         coalesce([DELETE_EMPLOYEE_JOBS], 'N') as [DELETE_EMPLOYEE_JOBS],
         coalesce([TA], 'N') as [TA],
         coalesce([SCHEDULER], 'N') as [SCHEDULER],
         coalesce([CORPORATE_FUNCTIONS], 'N') as [CORPORATE_FUNCTIONS]
   from
         normalUserActions
   union
   select * from propertyAdminActions
   union
   select * from dbAdminActions
   ]]>
   </view>

   <view name="WatsonActionSecurityQuery" databaseType="pgsql">
      <![CDATA[
   with groupAccess as
   (
         select case when min(wg.Name) <> MAX(wg.Name) then 'Multiple' else MIN(wg.Name) end as groupName, wug.UserID, wups.PropertyID, SecurityCode, max(AccessCode) as AccessCode, Min(AccessCode) as minAccessCode from WatsonUserGroup wug join WatsonUser wu on wug.UserID = wu.ID join WatsonGroupActionSecurity wga on wug.GroupID = wga.GroupID join WatsonUserPropertySecurity wups on wu.ID = wups.UserID join WatsonGroup wg on wug.GroupID = wg.ID where Flags is null or Flags = 0 group by PropertyID, wug.UserID, SecurityCode
   )
   , combinedActions as
   (
         select null as groupName, UserID, PropertyID, SecurityCode, case when AccessCode = 'F' then 'O' else AccessCode end as AccessCode, null as mixedGroupAccess from WatsonUserActionSecurity wua join WatsonUser wu on wua.UserID = wu.ID where Flags is null or Flags = 0
         union
         select case when (select COUNT(*) from groupAccess g2 where g2.UserID = groupAccess.UserID and g2.PropertyID = groupAccess.PropertyID and g2.groupName = 'Multiple') > 0 then 'Multiple' else groupName end as groupName, UserID, PropertyID, SecurityCode, AccessCode, case when AccessCode <> minAccessCode then 'Y' else 'N' end as mixedGroupAccess from groupAccess
   ), groupedActions as
   (
         select max(groupName) as groupName, UserID, PropertyID, SecurityCode, MAX(AccessCode) as AccessCode, max(mixedGroupAccess) as mixedGroupAccess from combinedActions group by UserID, PropertyID, SecurityCode
   )
   , allActions as
   (
         select coalesce(groupName, (select max(groupName) from groupedActions g2 where g2.userId = groupedActions.UserID and g2.PropertyID = groupedActions.PropertyID)) as groupName, UserID, PropertyID, SecurityCode, case when AccessCode = 'O' then case when mixedGroupAccess = 'Y' then '*' else '' end + 'F' else case when mixedGroupAccess = 'Y' then '*' else '' end + AccessCode end as AccessCode, coalesce(mixedGroupAccess, 'N') as mixedGroupAccess from groupedActions
   )
   ,normalUserActions as
   (
         select
               groupName, UserID, PropertyID,
               [SYSTEM_SETUP],
               [SETUP_EMPLOYEE_FIELD_OVERRIDE],
               [CAN_VIEW_DOLLARS],
               [CAN_VIEW_SALARIED_EXEMPT_DOLLARS],
               [CAN_MODIFY_YOURSELF],
               [END_OF_PAYPERIOD_FUNCTIONS],
               [REOPEN_PAY_PERIOD],
               [APPROVE_ALL_SHIFTS],
               [ADD_EMPLOYEES],
               [EDIT_EMPLOYEE_GENERAL],
               [ADD_EMPLOYEE_JOBS],
               [DELETE_EMPLOYEE_JOBS],
               [TA],
               [SCHEDULER],
               [CORPORATE_FUNCTIONS]
         from
               (select groupName, UserID, PropertyID, SecurityCode, AccessCode from allActions) as a2
         pivot
               (max(AccessCode) for SecurityCode in ([SYSTEM_SETUP],[SETUP_EMPLOYEE_FIELD_OVERRIDE],[CAN_VIEW_DOLLARS],[CAN_VIEW_SALARIED_EXEMPT_DOLLARS],[CAN_MODIFY_YOURSELF],
         [END_OF_PAYPERIOD_FUNCTIONS],[REOPEN_PAY_PERIOD],[APPROVE_ALL_SHIFTS],[ADD_EMPLOYEES],[EDIT_EMPLOYEE_GENERAL],[ADD_EMPLOYEE_JOBS],[DELETE_EMPLOYEE_JOBS],[TA],[SCHEDULER],[CORPORATE_FUNCTIONS])) as pvt
   ), propertyAdminActions as
   (
         select null as groupName, wu.ID as userId, wups.PropertyID,
               'F' as [SYSTEM_SETUP],
               'F' as [SETUP_EMPLOYEE_FIELD_OVERRIDE],
               'F' as [CAN_VIEW_DOLLARS],
               'F' as [CAN_VIEW_SALARIED_EXEMPT_DOLLARS],
               'F' as [CAN_MODIFY_YOURSELF],
               'F' as [END_OF_PAYPERIOD_FUNCTIONS],
               'F' as [REOPEN_PAY_PERIOD],
               'F' as [APPROVE_ALL_SHIFTS],
               'F' as [ADD_EMPLOYEES],
               'F' as [EDIT_EMPLOYEE_GENERAL],
               'F' as [ADD_EMPLOYEE_JOBS],
               'F' as [DELETE_EMPLOYEE_JOBS],
               'F' as [TA],
               'F' as [SCHEDULER],
               'F' as [CORPORATE_FUNCTIONS]
         from
               WatsonUser wu join WatsonUserPropertySecurity wups on wu.ID = wups.UserID and wu.Flags = 1
   ), dbAdminActions as
   (
         select null as groupName, wu.ID as userId, p.ID as PropertyID,
               'F' as [SYSTEM_SETUP],
               'F' as [SETUP_EMPLOYEE_FIELD_OVERRIDE],
               'F' as [CAN_VIEW_DOLLARS],
               'F' as [CAN_VIEW_SALARIED_EXEMPT_DOLLARS],
               'F' as [CAN_MODIFY_YOURSELF],
               'F' as [END_OF_PAYPERIOD_FUNCTIONS],
               'F' as [REOPEN_PAY_PERIOD],
               'F' as [APPROVE_ALL_SHIFTS],
               'F' as [ADD_EMPLOYEES],
               'F' as [EDIT_EMPLOYEE_GENERAL],
               'F' as [ADD_EMPLOYEE_JOBS],
               'F' as [DELETE_EMPLOYEE_JOBS],
               'F' as [TA],
               'F' as [SCHEDULER],
               'F' as [CORPORATE_FUNCTIONS]
         from
               WatsonUser wu join Property p on 1 = 1 and wu.Flags = 1
         where
               wu.ID not in (select userID from propertyAdminActions)
   )
   select
         groupName, UserID, PropertyID,
         coalesce([SYSTEM_SETUP], 'N') as [SYSTEM_SETUP],
         coalesce([SETUP_EMPLOYEE_FIELD_OVERRIDE], 'N') as [SETUP_EMPLOYEE_FIELD_OVERRIDE],
         coalesce([CAN_VIEW_DOLLARS], 'N') as [CAN_VIEW_DOLLARS],
         coalesce([CAN_VIEW_SALARIED_EXEMPT_DOLLARS], 'N') as [CAN_VIEW_SALARIED_EXEMPT_DOLLARS],
         coalesce([CAN_MODIFY_YOURSELF], 'N') as [CAN_MODIFY_YOURSELF],
         coalesce([END_OF_PAYPERIOD_FUNCTIONS], 'N') as [END_OF_PAYPERIOD_FUNCTIONS],
         coalesce([REOPEN_PAY_PERIOD], 'N') as [REOPEN_PAY_PERIOD],
         coalesce([APPROVE_ALL_SHIFTS], 'N') as [APPROVE_ALL_SHIFTS],
         coalesce([ADD_EMPLOYEES], 'N') as [ADD_EMPLOYEES],
         coalesce([EDIT_EMPLOYEE_GENERAL], 'N') as [EDIT_EMPLOYEE_GENERAL],
         coalesce([ADD_EMPLOYEE_JOBS], 'N') as [ADD_EMPLOYEE_JOBS],
         coalesce([DELETE_EMPLOYEE_JOBS], 'N') as [DELETE_EMPLOYEE_JOBS],
         coalesce([TA], 'N') as [TA],
         coalesce([SCHEDULER], 'N') as [SCHEDULER],
         coalesce([CORPORATE_FUNCTIONS], 'N') as [CORPORATE_FUNCTIONS]
   from
         normalUserActions
   union
   select * from propertyAdminActions
   union
   select * from dbAdminActions
   ]]>
   </view>

   <view name="MasterJobDimensionQuery">
      <![CDATA[
		select
			mjob.ID as MasterJobID, mjob.Name as MasterJobName, mjob.ShortName as MasterJobShortName, mjob.MasterKBIID as JobMasterKBIID, mjob.ProductivityUnitCode as JobProductivityUnitCode,
			mdep.ID as MasterDepartmentID, mdep.Name as MasterDepartmentName,  mdep.ShortName as MasterDepartmentShortName, mdep.MasterKBIID as DepartmentMasterKBIID, mdep.ProductivityUnitCode as DepartmentProductivityUnitCode,
			mdiv.ID as MasterDivisionID, mdiv.Name as MasterDivisionName,  mdiv.ShortName as MasterDivisionShortName, mdiv.MasterKBIID  as DivisionMasterKBIID, mdiv.ProductivityUnitCode as DivisionProductivityUnitCode
		from MasterJob mjob
      join MasterDepartment mdep on mjob.MasterDepartmentID = mdep.ID
      join MasterDivision mdiv on mdep.MasterDivisionID = mdiv.ID
   ]]>
   </view>

   <view name="KBIStatEnvQuery">
      <![CDATA[
		select
			ks.ID, ks.KBIID, k.MasterKBICodeID, ks.PropertyID, ks.StatDate, ks.EstValue, ks.FstValue, ks.AdjValue, ks.ActValue, ks.FstMAPEInclusive, ks.FstMADInclusive, ks.AdjMAPEInclusive, ks.AdjMADInclusive, ks.FstMAPEExclusive, ks.FstMADExclusive,
         ks.AdjMAPEExclusive, ks.AdjMADExclusive, es.EnvDate, es.ActualEnvID, es.ForecastEnvID
		from
			KBIStat ks LEFT JOIN KBI k on ks.KBIID = k.ID
			LEFT JOIN EnvStat es on ks.KBIID = es.KBIID and ks.StatDate = es.EnvDate
   ]]>
   </view>

   <view name="FNYPeriodExplodedQuery">
      <![CDATA[
      select ID, PropertyID, Year, 1 as PeriodNumber, Per1StartDate as StartDate, Per1EndDate as EndDate, DateDiff(day, Per1StartDate, Per1EndDate) + 1 as DaysInPeriod from FNYPeriod
      union
      select ID, PropertyID, Year, 2 as PeriodNumber, Per1EndDate + 1 as StartDate, Per2EndDate as EndDate, DateDiff(day, Per1EndDate + 1, Per2EndDate) + 1 as DaysInPeriod from FNYPeriod
      union
      select ID, PropertyID, Year, 3 as PeriodNumber, Per2EndDate + 1 as StartDate, Per3EndDate as EndDate, DateDiff(day, Per2EndDate + 1, Per3EndDate) + 1 as DaysInPeriod from FNYPeriod
      union
      select ID, PropertyID, Year, 4 as PeriodNumber, Per3EndDate + 1 as StartDate, Per4EndDate as EndDate, DateDiff(day, Per3EndDate + 1, Per4EndDate) + 1 as DaysInPeriod from FNYPeriod
      union
      select ID, PropertyID, Year, 5 as PeriodNumber, Per4EndDate + 1 as StartDate, Per5EndDate as EndDate, DateDiff(day, Per4EndDate + 1, Per5EndDate) + 1 as DaysInPeriod from FNYPeriod
      union
      select ID, PropertyID, Year, 6 as PeriodNumber, Per5EndDate + 1 as StartDate, Per6EndDate as EndDate, DateDiff(day, Per5EndDate + 1, Per6EndDate) + 1 as DaysInPeriod from FNYPeriod
      union
      select ID, PropertyID, Year, 7 as PeriodNumber, Per6EndDate + 1 as StartDate, Per7EndDate as EndDate, DateDiff(day, Per6EndDate + 1, Per7EndDate) + 1 as DaysInPeriod from FNYPeriod
      union
      select ID, PropertyID, Year, 8 as PeriodNumber, Per7EndDate + 1 as StartDate, Per8EndDate as EndDate, DateDiff(day, Per7EndDate + 1, Per8EndDate) + 1 as DaysInPeriod from FNYPeriod
      union
      select ID, PropertyID, Year, 9 as PeriodNumber, Per8EndDate + 1 as StartDate, Per9EndDate as EndDate, DateDiff(day, Per8EndDate + 1, Per9EndDate) + 1 as DaysInPeriod from FNYPeriod
      union
      select ID, PropertyID, Year, 10 as PeriodNumber, Per9EndDate + 1 as StartDate, Per10EndDate as EndDate, DateDiff(day, Per9EndDate + 1, Per10EndDate) + 1 as DaysInPeriod from FNYPeriod
      union
      select ID, PropertyID, Year, 11 as PeriodNumber, Per10EndDate + 1 as StartDate, Per11EndDate as EndDate, DateDiff(day, Per10EndDate + 1, Per11EndDate) + 1 as DaysInPeriod from FNYPeriod
      union
      select ID, PropertyID, Year, 12 as PeriodNumber, Per11EndDate + 1 as StartDate, Per12EndDate as EndDate, DateDiff(day, Per11EndDate + 1, Per12EndDate) + 1 as DaysInPeriod from FNYPeriod
      union
      select ID, PropertyID, Year, 13 as PeriodNumber, Per12EndDate + 1 as StartDate, case when Per13EndDate is not null then Per13EndDate - 1 else DateAdd(year, 1, Per1StartDate) - 1 end as EndDate, DateDiff(day, Per12EndDate + 1, case when Per13EndDate is not null then Per13EndDate - 1 else DateAdd(year, 1, Per1StartDate) - 1 end) + 1 as DaysInPeriod from FNYPeriod where Per13EndDate is not null
   ]]>
   </view>

   <view name="BudgetKBIStatQuery" databaseType="mssql">
      <![CDATA[
      select bks.ID, bks.PropertyID, bks.StatDate, Year(bks.StatDate) as [Year], fny.PeriodNumber, fny.ID as PeriodID, bks.BudgetDatasetID as BudgetDatasetID,
            bks.KBIID, kbi.MasterKBICodeID, bks.StatTypeCode, bks.StatValue, bks.StatRate, bks.StatTotal, bks.CorpRate, bks.CorpTotal
      from BudgetKBIStat bks
      join KBI kbi on kbi.ID = bks.KBIID
      join FNYPeriodExploded fny on bks.PropertyID = fny.PropertyID and bks.StatDate between fny.StartDate and fny.EndDate
      ]]>
   </view>

   <view name="BudgetKBIStatQuery" databaseType="pgsql">
      <![CDATA[
      select bks.ID, bks.PropertyID, bks.StatDate, Year(bks.StatDate) as [Year], fny.PeriodNumber, fny.ID as PeriodID, bks.BudgetDatasetID as BudgetDatasetID,
            bks.KBIID, kbi.MasterKBICodeID, bks.StatTypeCode, bks.StatValue, bks.StatRate, bks.StatTotal, bks.CorpRate, bks.CorpTotal
      from BudgetKBIStat bks
      join KBI kbi on kbi.ID = bks.KBIID
      join FNYPeriodExploded fny on bks.PropertyID = fny.PropertyID and bks.StatDate between fny.StartDate and fny.EndDate
      ]]>
   </view>

   <view name="PeriodQuery">
      <![CDATA[
      select
         ID as PeriodID, PropertyID, Year, PeriodNumber, StartDate, EndDate, DaysInPeriod
      from
         FNYPeriodExploded
   ]]>
   </view>

   <view name="BudgetStaffStatPeriodQuery">
      <![CDATA[
		select
            b.PropertyID, JobClassID, StatTypeCode, p.Year as StatYear, p.PeriodNumber as StatPeriod, p.StartDate, p.EndDate,
            sum(StaffHours - coalesce(OTHours, 0)) as StaffRegHours,
            round(sum(StaffTotal - coalesce(OTHours, 0) * coalesce(OTRate, 0)), 2) as StaffTotalRegDollars,
            case when sum(StaffHours - coalesce(OTHours, 0)) > 0 then round(round(sum(StaffTotal - coalesce(OTHours, 0) * coalesce(OTRate, 0)), 2) / sum(StaffHours - coalesce(OTHours, 0)), 2) else 0 end as AverageRegRate,
            coalesce(sum(OTHours), 0) as StaffOTHours,
            round(sum(coalesce(OTHours, 0) * coalesce(OTRate, 0)), 2) as OTDollars,
            case when sum(OTHours) > 0 then coalesce(round(round(sum(coalesce(OTHours, 0) * coalesce(OTRate, 0)), 2) / sum(OTHours), 2), 0) else 0 end as AverageOTRate
		from
			BudgetStaffStat b join FNYPeriodExploded p on b.PropertyID = p.PropertyID and b.StatDate between p.StartDate and p.EndDate
		group by
			b.PropertyID, JobClassID, StatTypeCode, p.Year, p.PeriodNumber, p.StartDate, p.EndDAte
   ]]>
   </view>

   <view name="BudgetDataQuery">
      <![CDATA[
      select
            b.ID as BudgetDataID, b.PropertyID, b.Year, b.PeriodNo, fny.StartDate, bd.ID as BudgetDatasetID, b.StatTypeCode, blc.JobclassID, a.MasterJobclassID, bl.ID as BudgetLineID, bl.MasterBudgetLineID,
            NumberUnits, GrossUnits, AdjUnits, AdjUnitsFromStd,
            case when blc.LineTypeCode = 'T' then null else NumberUnits - OTHours end as RegHours, OTHours,
            case when blc.LineTypeCode = 'T' then null else Rate end as RegRate, AdjustedRate as AdjRegRate, OTRate,
            case when blc.LineTypeCode = 'T' then null else cast((coalesce(AdjustedRate, Rate) + OTRate) as decimal(19,4)) end as AdjOTRate,
            Factor, FixedDollars, ReassignedDollars, TotalDollars
      from BudgetData b
      join BudgetLine bl on b.BudgetLineID = bl.ID
      join BudgetLineConfig blc on blc.PropertyID = bl.PropertyID and b.BudgetDatasetID = blc.BudgetDatasetID and blc.BudgetLineID = bl.ID
      join FNYPeriodExploded fny on b.Year = fny.Year and b.PeriodNo = fny.PeriodNumber and bl.PropertyID = fny.PropertyID
      join BudgetDataset bd on b.PropertyID = bd.PropertyID and b.StatTypeCode = bd.StatTypeCode and b.Year = bd.Year
      left join Assignment a on blc.JobclassID = a.ID
   ]]>
   </view>

   <view name="BudgetJobClassAdjustmentTotalQuery">
      <![CDATA[
		select
			JobClassID, StatTypeCode, StatDate, AdjustmentType, sum(Amount) as Amount, PropertyID
		from
			BudgetJobclassAdjustment
		group by
			JobClassID, StatTypeCode, StatDate, AdjustmentType, PropertyID
   ]]>
   </view>

   <view name="BudgetDailyLineDataQuery">
      <![CDATA[
      select
         bd.ID as BudgetDataID, bd.PropertyID, blc.JobclassID, bd.BudgetLineID, bl.Description as BudgetLineDescription, bl.MasterBudgetLineID, bd.StatTypeCode, bd.Year, bd.PeriodNo, d.StatDate,
         case when blc.LineTypeCode = 'T' then null else case when d.StartDate = d.StatDate then round(NumberUnits / d.DaysInPeriod, 2) + (NumberUnits - round(NumberUnits / DaysInPeriod, 2) * DaysInPeriod) else round(NumberUnits / DaysInPeriod, 2) end end as NumberUnits,
         0 as RegHours,
         round(case when d.StartDate = d.StatDate then round(coalesce(bd.OTHours, 0) / DaysInPeriod, 2) + (coalesce(bd.OTHours, 0) - round(coalesce(bd.OTHours, 0) / DaysInPeriod, 2) * DaysInPeriod) else round(coalesce(bd.OTHours, 0) / DaysInPeriod, 2) end, 5) as OTHours,
         round(case when blc.LineTypeCode = 'T' then null else case when d.StartDate = d.StatDate then round(GrossUnits / d.DaysInPeriod, 2) + (GrossUnits - round(GrossUnits / DaysInPeriod, 2) * DaysInPeriod) else round(GrossUnits / DaysInPeriod, 2) end end, 5) as GrossUnits,
         round(case when blc.LineTypeCode = 'T' then null else case when d.StartDate = d.StatDate then round(AdjUnits / DaysInPeriod, 2) + (AdjUnits - round(AdjUnits / DaysInPeriod, 2) * DaysInPeriod) else round(AdjUnits / DaysInPeriod, 2) end end, 5) as AdjUnits,
         round(case when blc.LineTypeCode = 'T' then null else case when d.StartDate = d.StatDate then round(AdjUnitsFromStd / DaysInPeriod, 2) + (AdjUnitsFromStd - round(AdjUnitsFromStd / DaysInPeriod, 2) * DaysInPeriod) else round(AdjUnitsFromStd / DaysInPeriod, 2) end end, 5) as AdjUnitsFromStd,
         round(case when blc.LineTypeCode = 'T' then null else case when bd.Rate <> 0 then bd.Rate else bd.AdjustedRate end end, 5) as RegRate,
         round(case when blc.LineTypeCode = 'T' then null else coalesce(bd.AdjustedRate, bd.Rate) end, 5) as AdjRegRate,
         round(case when blc.LineTypeCode = 'T' then null else bd.OTRate + bd.Rate end, 5) as OTRate,
         round(case when blc.LineTypeCode = 'T' then null else coalesce(bd.AdjustedRate, bd.Rate) + OTRate end, 5) as AdjOTRate,
         bd.Factor,
         case when d.StartDate = d.StatDate then round(bd.FixedDollars / DaysInPeriod, 2) + (FixedDollars - round(bd.FixedDollars / DaysInPeriod, 2) * DaysInPeriod) else round(bd.FixedDollars / DaysInPeriod, 2) end as FixedDollars,
         case when d.StartDate = d.StatDate then round(bd.ReassignedDollars / DaysInPeriod, 2) + (ReassignedDollars - round(bd.ReassignedDollars / DaysInPeriod, 2) * DaysInPeriod) else round(bd.ReassignedDollars / DaysInPeriod, 2) end as ReassignedDollars,
         case when d.StartDate = d.StatDate then round(bd.TotalDollars / DaysInPeriod, 2) + (bd.TotalDollars - round(bd.TotalDollars / DaysInPeriod, 2) * DaysInPeriod) else round(bd.TotalDollars / DaysInPeriod, 2) end as TotalDollars,
         0 as MasterJobclassID
      from
         BudgetData bd join BudgetLine bl on bd.PropertyID = bl.PropertyID and bd.BudgetLineID = bl.id
         inner join BudgetLineConfig blc on blc.PropertyID = bl.PropertyID and bd.BudgetDatasetID = blc.BudgetDatasetID and blc.BudgetLineID = bl.id and blc.JobclassID is null
         join FNYPeriodDailyExploded d on bd.Year = d.Year and bd.PeriodNo = d.PeriodNumber and bd.PropertyID = d.PropertyID
   ]]>
   </view>

   <view name="BudgetDailyJobDataQuery" databaseType="mssql">
      <![CDATA[
      with dailyPercentWithError as
      (
         select
            daily.PropertyID, daily.JobClassID, daily.StatTypeCode, daily.StatDate,
            convert(decimal(9, 5), case when monthly.StaffRegHours = 0 then 0 else daily.StaffHours / monthly.StaffRegHours end) AS regHoursPct,
            convert(decimal(9, 5), case when monthly.StaffOTHours = 0 then 0 else daily.OTHours / monthly.StaffOTHours end) AS otHoursPct
         from
            BudgetStaffStat daily join BudgetStaffStatPeriodQuery monthly on daily.PropertyID = monthly.PropertyID and daily.StatTypeCode = monthly.StatTypeCode and daily.StatDate between monthly.StartDate and monthly.EndDate and daily.JobClassID = monthly.JobClassID
      ), periodPercentTotal as
      (
         select
            dp.PropertyID, JobClassID, StatTypeCode, [Year] as StatYear, PeriodNumber as StatPeriod, p.StartDate, p.EndDate, sum(regHoursPct) as regHoursPct, sum(otHoursPct) as otHoursPct, DaysInPeriod
         from
            dailyPercentWithError dp join FNYPeriodExploded p on dp.PropertyID = p.PropertyID and dp.StatDate between p.StartDate and p.EndDate
         group by
            dp.PropertyID, JobClassID, StatTypeCode, [Year], PeriodNumber, p.StartDate, p.EndDate, DaysInPeriod
      ), dailyPercent as
      (
         select
            dp.PropertyID, dp.JobClassID, dp.StatTypeCode, dp.StatDate, pp.StatYear, pp.StatPeriod, DaysInPeriod,pp.StartDate,
            convert(decimal(9,5), case when pp.StartDate = dp.StatDate then 1 - pp.regHoursPct + dp.regHoursPct else dp.regHoursPct end) as regHoursPct,
            convert(decimal(9,5), case when pp.StartDate = dp.StatDate then 1 - pp.otHoursPct + dp.otHoursPct else dp.otHoursPct end) as otHoursPct
         from
            dailyPercentWithError dp join periodPercentTotal pp on dp.PropertyID = pp.PropertyID and dp.JobclassID = pp.JobclassID and dp.StatDate between pp.StartDate and pp.EndDate and pp.StatTypeCode = dp.StatTypeCode
      ), rawDailyData as
      (
      select
         bd.ID as BudgetDataID,
         bd.PropertyID,
         bl.JobclassID,
         bd.BudgetLineID,
         bl.Description as BudgetLineDescription,
         bl.MasterBudgetLineID,
         bd.StatTypeCode,
         bd.Year,
         bd.PeriodNo,
         dp.StatDate,
         null as NumberUnits,
         (bd.NumberUnits + coalesce(bha.Amount, 0)) * dp.regHoursPct as RegHours,
         coalesce(bd.OTHours, 0) * dp.otHoursPct as OTHours,
         round(bd.GrossUnits * dp.regHoursPct, 5) as GrossUnits,
         round(bd.AdjUnits * dp.regHoursPct, 5) as AdjUnits,
         round(bd.AdjUnitsFromStd * dp.regHoursPct, 5) as AdjUnitsFromStd,
         round(case when bd.Rate <> 0 then bd.Rate else bd.AdjustedRate end, 5) as RegRate,
         round(case when bd.Rate <> 0 then bd.Rate else bd.AdjustedRate end + coalesce(bra.Amount, 0), 5) as AdjRegRate,
         round(case when bd.Rate <> 0 then bd.Rate else bd.AdjustedRate end * 1.5, 5) as OTRate,
         round(case when bd.AdjustedRate <> 0 then bd.AdjustedRate else bd.Rate end + OTRate, 5) as AdjOTRate,
         bd.Factor,
         case when dp.StartDate = dp.StatDate then round(bd.FixedDollars / DaysInPeriod, 2) + (FixedDollars - round(bd.FixedDollars / DaysInPeriod, 2) * DaysInPeriod) else round(bd.FixedDollars / DaysInPeriod, 2) end as FixedDollars,
         case when dp.StartDate = dp.StatDate then round(bd.ReassignedDollars / DaysInPeriod, 2) + (ReassignedDollars - round(bd.ReassignedDollars / DaysInPeriod, 2) * DaysInPeriod) else round(bd.ReassignedDollars / DaysInPeriod, 2) end as ReassignedDollars
      from
         BudgetData bd join BudgetLine bl on bd.PropertyID = bl.PropertyID and bd.BudgetLineID = bl.id
         inner join BudgetLineConfig blc on blc.PropertyID = bl.PropertyID and blc.BudgetLineID = bl.id and bd.DatasetID = blc.DatasetID
         join dailyPercent dp on bd.PropertyID = dp.PropertyID and dp.JobclassID = blc.JobclassID and bd.StatTypeCode = dp.StatTypeCode and bd.[Year] = dp.statYear and bd.PeriodNo = dp.StatPeriod
         left join BudgetJobClassAdjustmentTotalQuery bra on bd.PropertyID = bra.PropertyID and bd.StatTypeCode = bra.StatTypeCode and dp.StatDate = bra.StatDate and dp.JobclassId = bra.JobclassID and bra.AdjustmentType = 'RAT'
         left join BudgetJobClassAdjustmentTotalQuery bha on bd.PropertyID = bha.PropertyID and bd.StatTypeCode = bha.StatTypeCode and dp.StatDate = bha.StatDate and dp.JobclassId = bha.JobclassID and bha.AdjustmentType = 'HRS'
      )
      select r.*, (RegHours - otHours) * AdjRegRate + otHours * AdjOTRate + FixedDollars * Factor + reassignedDollars as TotalDollars, MasterJobclassID from RawDailyData r join Assignment a on r.JobclassID = a.ID
   ]]>
   </view>

   <view name="BudgetDailyJobDataQuery" databaseType="pgsql">
      <![CDATA[
      with dailyPercentWithError as
      (
         select
            daily.PropertyID, daily.JobClassID, daily.StatTypeCode, daily.StatDate,
            convert(decimal(9, 5), case when monthly.StaffRegHours = 0 then 0 else daily.StaffHours / monthly.StaffRegHours end) AS regHoursPct,
            convert(decimal(9, 5), case when monthly.StaffOTHours = 0 then 0 else daily.OTHours / monthly.StaffOTHours end) AS otHoursPct
         from
            BudgetStaffStat daily join BudgetStaffStatPeriodQuery monthly on daily.PropertyID = monthly.PropertyID and daily.StatTypeCode = monthly.StatTypeCode and daily.StatDate between monthly.StartDate and monthly.EndDate and daily.JobClassID = monthly.JobClassID
      ), periodPercentTotal as
      (
         select
            dp.PropertyID, JobClassID, StatTypeCode, [Year] as StatYear, PeriodNumber as StatPeriod, p.StartDate, p.EndDate, sum(regHoursPct) as regHoursPct, sum(otHoursPct) as otHoursPct, DaysInPeriod
         from
            dailyPercentWithError dp join FNYPeriodExploded p on dp.PropertyID = p.PropertyID and dp.StatDate between p.StartDate and p.EndDate
         group by
            dp.PropertyID, JobClassID, StatTypeCode, [Year], PeriodNumber, p.StartDate, p.EndDate, DaysInPeriod
      ), dailyPercent as
      (
         select
            dp.PropertyID, dp.JobClassID, dp.StatTypeCode, dp.StatDate, pp.StatYear, pp.StatPeriod, DaysInPeriod,pp.StartDate,
            convert(decimal(9,5), case when pp.StartDate = dp.StatDate then 1 - pp.regHoursPct + dp.regHoursPct else dp.regHoursPct end) as regHoursPct,
            convert(decimal(9,5), case when pp.StartDate = dp.StatDate then 1 - pp.otHoursPct + dp.otHoursPct else dp.otHoursPct end) as otHoursPct
         from
            dailyPercentWithError dp join periodPercentTotal pp on dp.PropertyID = pp.PropertyID and dp.JobclassID = pp.JobclassID and dp.StatDate between pp.StartDate and pp.EndDate and pp.StatTypeCode = dp.StatTypeCode
      ), rawDailyData as
      (
      select
         bd.ID as BudgetDataID,
         bd.PropertyID,
         bl.JobclassID,
         bd.BudgetLineID,
         bl.Description as BudgetLineDescription,
         bl.MasterBudgetLineID,
         bd.StatTypeCode,
         bd.Year,
         bd.PeriodNo,
         dp.StatDate,
         null as NumberUnits,
         (bd.NumberUnits + coalesce(bha.Amount, 0)) * dp.regHoursPct as RegHours,
         coalesce(bd.OTHours, 0) * dp.otHoursPct as OTHours,
         round(bd.GrossUnits * dp.regHoursPct, 5) as GrossUnits,
         round(bd.AdjUnits * dp.regHoursPct, 5) as AdjUnits,
         round(bd.AdjUnitsFromStd * dp.regHoursPct, 5) as AdjUnitsFromStd,
         round(case when bd.Rate <> 0 then bd.Rate else bd.AdjustedRate end, 5) as RegRate,
         round(case when bd.Rate <> 0 then bd.Rate else bd.AdjustedRate end + coalesce(bra.Amount, 0), 5) as AdjRegRate,
         round(case when bd.Rate <> 0 then bd.Rate else bd.AdjustedRate end * 1.5, 5) as OTRate,
         round(case when bd.AdjustedRate <> 0 then bd.AdjustedRate else bd.Rate end + OTRate, 5) as AdjOTRate,
         bd.Factor,
         case when dp.StartDate = dp.StatDate then round(bd.FixedDollars / DaysInPeriod, 2) + (FixedDollars - round(bd.FixedDollars / DaysInPeriod, 2) * DaysInPeriod) else round(bd.FixedDollars / DaysInPeriod, 2) end as FixedDollars,
         case when dp.StartDate = dp.StatDate then round(bd.ReassignedDollars / DaysInPeriod, 2) + (ReassignedDollars - round(bd.ReassignedDollars / DaysInPeriod, 2) * DaysInPeriod) else round(bd.ReassignedDollars / DaysInPeriod, 2) end as ReassignedDollars
      from
         BudgetData bd join BudgetLine bl on bd.PropertyID = bl.PropertyID and bd.BudgetLineID = bl.id
         join BudgetLineConfig blc on blc.PropertyID = bl.PropertyID and blc.BudgetLineID = bl.id
         join dailyPercent dp on bd.PropertyID = dp.PropertyID and dp.JobclassID = bl.JobclassID and bd.StatTypeCode = dp.StatTypeCode and bd.[Year] = dp.statYear and bd.PeriodNo = dp.StatPeriod
         left join BudgetJobClassAdjustmentTotalQuery bra on bd.PropertyID = bra.PropertyID and bd.StatTypeCode = bra.StatTypeCode and dp.StatDate = bra.StatDate and dp.JobclassId = bra.JobclassID and bra.AdjustmentType = 'RAT'
         left join BudgetJobClassAdjustmentTotalQuery bha on bd.PropertyID = bha.PropertyID and bd.StatTypeCode = bha.StatTypeCode and dp.StatDate = bha.StatDate and dp.JobclassId = bha.JobclassID and bha.AdjustmentType = 'HRS'
      )
      select r.*, (RegHours - otHours) * AdjRegRate + otHours * AdjOTRate + FixedDollars * Factor + reassignedDollars as TotalDollars, MasterJobclassID from RawDailyData r join Assignment a on r.JobclassID = a.ID
   ]]>
   </view>

   <view name="BudgetDailyDataQuery" databaseType="mssql">
      <![CDATA[
		select * from BudgetDailyJobDataQuery
		union
		select * From BudgetDailyLineDataQuery
   ]]>
   </view>

   <view name="BudgetDailyDataQuery" databaseType="pgsql">
      <![CDATA[
		select * from BudgetDailyJobDataQuery
		union
		select * From BudgetDailyLineDataQuery
   ]]>
   </view>

   <view name="BudgetStaffStatQuery" databaseType="mssql">
      <![CDATA[
      select bss.ID, bss.PropertyID, bss.StatDate, year(bss.StatDate) as [year], fny.PeriodNumber, fny.ID as PeriodID, bd.ID as BudgetDatasetID,
             bss.JobclassID, a.MasterJobclassID, bss.StatTypeCode, bss.OriginalHours, bss.StaffHours, bss.OTHours, (bss.StaffHours - bss.OTHours) as RegularHours, bss.OriginalRate,
             bss.OTRate, bss.StaffRate, bss.StaffTotal, cast(bss.OriginalHours * bss.OTRate as decimal(19,4)) as OvertimeDollars, cast((bss.StaffHours-bss.OTHours) * bss.StaffRate as decimal(19,4)) as RegularDollars
      from BudgetStaffStat bss
      join Assignment a on bss.JobclassID = a.ID
      join BudgetDataset bd on bd.PropertyID = bss.PropertyID and bd.StatTypeCode = bss.StatTypeCode and bd.Year = Year(bss.StatDate)
      join FNYPeriodExploded fny on fny.PropertyID = bss.PropertyID and bss.StatDate between fny.StartDate and fny.EndDate
      ]]>
   </view>

   <view name="BudgetStaffStatQuery" databaseType="pgsql">
      <![CDATA[
      select bss.ID, bss.PropertyID, bss.StatDate, year(bss.StatDate) as [year], fny.PeriodNumber, fny.ID as PeriodID, bd.ID as BudgetDatasetID,
             bss.JobclassID, a.MasterJobclassID, bss.StatTypeCode, bss.OriginalHours, bss.StaffHours, bss.OTHours, (bss.StaffHours - bss.OTHours) as RegularHours, bss.OriginalRate,
             bss.OTRate, bss.StaffRate, bss.StaffTotal, cast(bss.OriginalHours * bss.OTRate as decimal(19,4)) as OvertimeDollars, cast((bss.StaffHours-bss.OTHours) * bss.StaffRate as decimal(19,4)) as RegularDollars
      from BudgetStaffStat bss
      join Assignment a on bss.JobclassID = a.ID
      join BudgetDataset bd on bd.PropertyID = bss.PropertyID and bd.StatTypeCode = bss.StatTypeCode and bd.Year = Year(bss.StatDate)
      join FNYPeriodExploded fny on fny.PropertyID = bss.PropertyID and bss.StatDate between fny.StartDate and fny.EndDate
      ]]>
   </view>

   <view name="BudgetLineHierarchyQuery" databaseType="mssql">
      <![CDATA[
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL9.ParentLineID as Lvl1, BL8.ParentLineID as Lvl2, BL7.ParentLineID as Lvl3, BL6.ParentLineID as Lvl4, BL5.ParentLineID as Lvl5, BL4.ParentLineID as Lvl6, BL3.ParentLineID as Lvl7, BL2.ParentLineID as Lvl8, BL1.ParentLineID as Lvl9, BL1.ID as Lvl10
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3, BudgetLine BL4, BudgetLine BL5, BudgetLine BL6, BudgetLine BL7, BudgetLine BL8, BudgetLine BL9, BudgetLine BL10
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND (BL7.ParentLineID = BL8.ID)
		AND (BL8.ParentLineID = BL9.ID)
		AND (BL9.ParentLineID = BL10.ID)
		AND BL10.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL8.ParentLineID, BL7.ParentLineID, BL6.ParentLineID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3, BudgetLine BL4, BudgetLine BL5, BudgetLine BL6, BudgetLine BL7, BudgetLine BL8, BudgetLine BL9
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND (BL7.ParentLineID = BL8.ID)
		AND (BL8.ParentLineID = BL9.ID)
		AND BL9.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL7.ParentLineID, BL6.ParentLineID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3, BudgetLine BL4, BudgetLine BL5, BudgetLine BL6, BudgetLine BL7, BudgetLine BL8
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND (BL7.ParentLineID = BL8.ID)
		AND BL8.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL6.ParentLineID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3, BudgetLine BL4, BudgetLine BL5, BudgetLine BL6, BudgetLine BL7
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND BL7.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3, BudgetLine BL4, BudgetLine BL5, BudgetLine BL6
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND BL6.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3, BudgetLine BL4, BudgetLine BL5
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND BL5.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3, BudgetLine BL4
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND BL4.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL, NULL
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND BL3.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL
		FROM BudgetLine BL1, BudgetLine BL2
		WHERE (BL1.ParentLineID = BL2.ID)
		AND BL2.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL
		FROM BudgetLine BL1
		WHERE BL1.ParentLineID is NULL
   ]]>
   </view>

   <view name="BudgetLineHierarchyQuery" databaseType="pgsql">
      <![CDATA[
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL9.ParentLineID as Lvl1, BL8.ParentLineID as Lvl2, BL7.ParentLineID as Lvl3, BL6.ParentLineID as Lvl4, BL5.ParentLineID as Lvl5, BL4.ParentLineID as Lvl6, BL3.ParentLineID as Lvl7, BL2.ParentLineID as Lvl8, BL1.ParentLineID as Lvl9, BL1.ID as Lvl10
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3, BudgetLine BL4, BudgetLine BL5, BudgetLine BL6, BudgetLine BL7, BudgetLine BL8, BudgetLine BL9, BudgetLine BL10
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND (BL7.ParentLineID = BL8.ID)
		AND (BL8.ParentLineID = BL9.ID)
		AND (BL9.ParentLineID = BL10.ID)
		AND BL10.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL8.ParentLineID, BL7.ParentLineID, BL6.ParentLineID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3, BudgetLine BL4, BudgetLine BL5, BudgetLine BL6, BudgetLine BL7, BudgetLine BL8, BudgetLine BL9
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND (BL7.ParentLineID = BL8.ID)
		AND (BL8.ParentLineID = BL9.ID)
		AND BL9.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL7.ParentLineID, BL6.ParentLineID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3, BudgetLine BL4, BudgetLine BL5, BudgetLine BL6, BudgetLine BL7, BudgetLine BL8
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND (BL7.ParentLineID = BL8.ID)
		AND BL8.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL6.ParentLineID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3, BudgetLine BL4, BudgetLine BL5, BudgetLine BL6, BudgetLine BL7
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND BL7.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3, BudgetLine BL4, BudgetLine BL5, BudgetLine BL6
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND BL6.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3, BudgetLine BL4, BudgetLine BL5
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND BL5.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3, BudgetLine BL4
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND BL4.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL, NULL
		FROM BudgetLine BL1, BudgetLine BL2, BudgetLine BL3
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND BL3.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL
		FROM BudgetLine BL1, BudgetLine BL2
		WHERE (BL1.ParentLineID = BL2.ID)
		AND BL2.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.PropertyID, BL1.MasterBudgetLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL
		FROM BudgetLine BL1
		WHERE BL1.ParentLineID is NULL
   ]]>
   </view>

   <view name="MasterBudgetLineHierarchyQuery" databaseType="mssql">
      <![CDATA[
		SELECT BL1.ID, BL9.ParentLineID as Lvl1, BL8.ParentLineID as Lvl2, BL7.ParentLineID as Lvl3, BL6.ParentLineID as Lvl4, BL5.ParentLineID as Lvl5, BL4.ParentLineID as Lvl6, BL3.ParentLineID as Lvl7, BL2.ParentLineID as Lvl8, BL1.ParentLineID as Lvl9, BL1.ID as Lvl10
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3, MasterBudgetLine BL4, MasterBudgetLine BL5, MasterBudgetLine BL6, MasterBudgetLine BL7, MasterBudgetLine BL8, MasterBudgetLine BL9, MasterBudgetLine BL10
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND (BL7.ParentLineID = BL8.ID)
		AND (BL8.ParentLineID = BL9.ID)
		AND (BL9.ParentLineID = BL10.ID)
		AND BL10.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL8.ParentLineID, BL7.ParentLineID, BL6.ParentLineID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3, MasterBudgetLine BL4, MasterBudgetLine BL5, MasterBudgetLine BL6, MasterBudgetLine BL7, MasterBudgetLine BL8, MasterBudgetLine BL9
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND (BL7.ParentLineID = BL8.ID)
		AND (BL8.ParentLineID = BL9.ID)
		AND BL9.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL7.ParentLineID, BL6.ParentLineID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3, MasterBudgetLine BL4, MasterBudgetLine BL5, MasterBudgetLine BL6, MasterBudgetLine BL7, MasterBudgetLine BL8
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND (BL7.ParentLineID = BL8.ID)
		AND BL8.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL6.ParentLineID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3, MasterBudgetLine BL4, MasterBudgetLine BL5, MasterBudgetLine BL6, MasterBudgetLine BL7
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND BL7.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3, MasterBudgetLine BL4, MasterBudgetLine BL5, MasterBudgetLine BL6
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND BL6.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3, MasterBudgetLine BL4, MasterBudgetLine BL5
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND BL5.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3, MasterBudgetLine BL4
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND BL4.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND BL3.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2
		WHERE (BL1.ParentLineID = BL2.ID)
		AND BL2.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL
		FROM MasterBudgetLine BL1
		WHERE BL1.ParentLineID is NULL
   ]]>
   </view>

   <view name="MasterBudgetLineHierarchyQuery" databaseType="pgsql">
      <![CDATA[
		SELECT BL1.ID, BL9.ParentLineID as Lvl1, BL8.ParentLineID as Lvl2, BL7.ParentLineID as Lvl3, BL6.ParentLineID as Lvl4, BL5.ParentLineID as Lvl5, BL4.ParentLineID as Lvl6, BL3.ParentLineID as Lvl7, BL2.ParentLineID as Lvl8, BL1.ParentLineID as Lvl9, BL1.ID as Lvl10
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3, MasterBudgetLine BL4, MasterBudgetLine BL5, MasterBudgetLine BL6, MasterBudgetLine BL7, MasterBudgetLine BL8, MasterBudgetLine BL9, MasterBudgetLine BL10
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND (BL7.ParentLineID = BL8.ID)
		AND (BL8.ParentLineID = BL9.ID)
		AND (BL9.ParentLineID = BL10.ID)
		AND BL10.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL8.ParentLineID, BL7.ParentLineID, BL6.ParentLineID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3, MasterBudgetLine BL4, MasterBudgetLine BL5, MasterBudgetLine BL6, MasterBudgetLine BL7, MasterBudgetLine BL8, MasterBudgetLine BL9
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND (BL7.ParentLineID = BL8.ID)
		AND (BL8.ParentLineID = BL9.ID)
		AND BL9.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL7.ParentLineID, BL6.ParentLineID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3, MasterBudgetLine BL4, MasterBudgetLine BL5, MasterBudgetLine BL6, MasterBudgetLine BL7, MasterBudgetLine BL8
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND (BL7.ParentLineID = BL8.ID)
		AND BL8.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL6.ParentLineID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3, MasterBudgetLine BL4, MasterBudgetLine BL5, MasterBudgetLine BL6, MasterBudgetLine BL7
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND (BL6.ParentLineID = BL7.ID)
		AND BL7.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL5.ParentLineID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3, MasterBudgetLine BL4, MasterBudgetLine BL5, MasterBudgetLine BL6
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND (BL5.ParentLineID = BL6.ID)
		AND BL6.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL4.ParentLineID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3, MasterBudgetLine BL4, MasterBudgetLine BL5
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND (BL4.ParentLineID = BL5.ID)
		AND BL5.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL3.ParentLineID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3, MasterBudgetLine BL4
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND (BL3.ParentLineID = BL4.ID)
		AND BL4.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL2.ParentLineID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2, MasterBudgetLine BL3
		WHERE (BL1.ParentLineID = BL2.ID)
		AND (BL2.ParentLineID = BL3.ID)
		AND BL3.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.ParentLineID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL
		FROM MasterBudgetLine BL1, MasterBudgetLine BL2
		WHERE (BL1.ParentLineID = BL2.ID)
		AND BL2.ParentLineID is NULL
		UNION ALL
		SELECT BL1.ID, BL1.ID, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL
		FROM MasterBudgetLine BL1
		WHERE BL1.ParentLineID is NULL
   ]]>
   </view>

   <view name="OpCodeJobClassQuery" databaseType="mssql">
      <![CDATA[
      SELECT ocjc.ID, ocjc.OpCodeID, ddjq.PropertyID, ddjq.PropertyName, ddjq.PropertyCode, ddjq.DivisionID, ddjq.DivisionAssignmentID,
      ddjq.DivisionName, ddjq.DivisionCode, ddjq.DepartmentID, ddjq.DepartmentAssignmentID, ddjq.DepartmentName, ddjq.DepartmentCode,
      ddjq.JobclassID, ddjq.JobclassAssignmentID, ddjq.JobclassName, ddjq.JobclassCode
      FROM OpCodeJobclass ocjc
      LEFT JOIN DivDptJobQuery ddjq on ocjc.DivisionID = ddjq.DivisionID and ocjc.DepartmentID = ddjq.DepartmentID and ocjc.JobclassID = ddjq.JobclassID
      WHERE ocjc.JobclassID is not NULL
      UNION
      SELECT ocjc.ID, ocjc.OpCodeID, ddjq.PropertyID, ddjq.PropertyName, ddjq.PropertyCode, ddjq.DivisionID, ddjq.DivisionAssignmentID,
      ddjq.DivisionName, ddjq.DivisionCode, ddjq.DepartmentID, ddjq.DepartmentAssignmentID, ddjq.DepartmentName, ddjq.DepartmentCode,
      ddjq.JobclassID, ddjq.JobclassAssignmentID, ddjq.JobclassName, ddjq.JobclassCode
      FROM OpCodeJobclass ocjc
      LEFT JOIN DivDptJobQuery ddjq on ocjc.DivisionID = ddjq.DivisionID and ocjc.DepartmentID = ddjq.DepartmentID and ocjc.JobclassID is NULL
      WHERE ocjc.DepartmentID is not NULL and ocjc.JobclassID is NULL
      UNION
      SELECT ocjc.ID, ocjc.OpCodeID, ddjq.PropertyID, ddjq.PropertyName, ddjq.PropertyCode, ddjq.DivisionID, ddjq.DivisionAssignmentID,
      ddjq.DivisionName, ddjq.DivisionCode, ddjq.DepartmentID, ddjq.DepartmentAssignmentID, ddjq.DepartmentName, ddjq.DepartmentCode,
      ddjq.JobclassID, ddjq.JobclassAssignmentID, ddjq.JobclassName, ddjq.JobclassCode
      FROM OpCodeJobclass ocjc
      LEFT JOIN DivDptJobQuery ddjq on ocjc.DivisionID = ddjq.DivisionID and ocjc.DepartmentID is NULL
      WHERE ocjc.DivisionID is not NULL and ocjc.DepartmentID is NULL
   ]]>
   </view>

   <view name="OpCodeJobClassQuery" databaseType="pgsql">
      <![CDATA[
      SELECT ocjc.ID, ocjc.OpCodeID, ddjq.PropertyID, ddjq.PropertyName, ddjq.PropertyCode, ddjq.DivisionID, ddjq.DivisionAssignmentID,
      ddjq.DivisionName, ddjq.DivisionCode, ddjq.DepartmentID, ddjq.DepartmentAssignmentID, ddjq.DepartmentName, ddjq.DepartmentCode,
      ddjq.JobclassID, ddjq.JobclassAssignmentID, ddjq.JobclassName, ddjq.JobclassCode
      FROM OpCodeJobclass ocjc
      LEFT JOIN DivDptJobQuery ddjq on ocjc.DivisionID = ddjq.DivisionID and ocjc.DepartmentID = ddjq.DepartmentID and ocjc.JobclassID = ddjq.JobclassID
      WHERE ocjc.JobclassID is not NULL
      UNION
      SELECT ocjc.ID, ocjc.OpCodeID, ddjq.PropertyID, ddjq.PropertyName, ddjq.PropertyCode, ddjq.DivisionID, ddjq.DivisionAssignmentID,
      ddjq.DivisionName, ddjq.DivisionCode, ddjq.DepartmentID, ddjq.DepartmentAssignmentID, ddjq.DepartmentName, ddjq.DepartmentCode,
      ddjq.JobclassID, ddjq.JobclassAssignmentID, ddjq.JobclassName, ddjq.JobclassCode
      FROM OpCodeJobclass ocjc
      LEFT JOIN DivDptJobQuery ddjq on ocjc.DivisionID = ddjq.DivisionID and ocjc.DepartmentID = ddjq.DepartmentID and ocjc.JobclassID is NULL
      WHERE ocjc.DepartmentID is not NULL and ocjc.JobclassID is NULL
      UNION
      SELECT ocjc.ID, ocjc.OpCodeID, ddjq.PropertyID, ddjq.PropertyName, ddjq.PropertyCode, ddjq.DivisionID, ddjq.DivisionAssignmentID,
      ddjq.DivisionName, ddjq.DivisionCode, ddjq.DepartmentID, ddjq.DepartmentAssignmentID, ddjq.DepartmentName, ddjq.DepartmentCode,
      ddjq.JobclassID, ddjq.JobclassAssignmentID, ddjq.JobclassName, ddjq.JobclassCode
      FROM OpCodeJobclass ocjc
      LEFT JOIN DivDptJobQuery ddjq on ocjc.DivisionID = ddjq.DivisionID and ocjc.DepartmentID is NULL
      WHERE ocjc.DivisionID is not NULL and ocjc.DepartmentID is NULL
   ]]>
   </view>

   <view name="StandardSetUtilizedQuery" databaseType="mssql">
      <![CDATA[
      SELECT log.PropertyID, log.AssignmentID, log.EffectiveDate, log.PlanType, ss.name StandardSetName
      FROM StandardSetUtilizedLog log join StandardSet ss on log.StandardSetId = ss.ID
      WHERE CreatedOn = (
         SELECT max(CreatedOn) from StandardSetUtilizedLog log1
         WHERE log1.PropertyID = log.PropertyID and log1.AssignmentID = log.AssignmentID and log1.PlanType = log.PlanType and log1.EffectiveDate = log.EffectiveDate
         )
   ]]>
   </view>

   <view name="CoverKBIsQuery" databaseType="mssql">
      <![CDATA[
         with t as
         (
         	select rc.PropertyID, unitID, Symbol, count(*) as NumberInstances from RevenueCenter rc join RevenueCenterPeriod rcp on rc.id = rcp.RevenueCenterID join unit u on rcp.UnitID = u.ID group by rc.PropertyID, UnitID, Symbol
         )
         , tt as
         (
         	select PropertyID, Symbol, UnitID, Row_Number() over (partition by PropertyID order by NumberInstances desc) as rowNumber from t
         )
         , ttt as
         (
         	select * from tt where Symbol in ('CVR', 'COV')
         	union
         	select * from tt where rowNumber = 1 and PropertyID not in (select PropertyID from tt where Symbol in ('CVR', 'COV')) and Symbol like 'C%'
         	union
         	select * from tt where rowNumber = 2 and PropertyID not in (select PropertyID from tt where Symbol in ('CVR', 'COV')) and PropertyID not in (select PropertyID from tt where rowNumber = 1 and Symbol like 'C%')
         )
         select PropertyID, KBIID, rcp.RevenueCenterID, rcp.ID as RevenueCenterPeriodID, rc.Name as RevenueCenter, rcp.PeriodName, rcp.UnitID, rcp.PeriodNo from RevenueCenter rc join RevenueCenterPeriod rcp on rc.ID = rcp.RevenueCenterID and rcp.UnitID in (select unitID from ttt)
    ]]>
   </view>

   <view name="EffectiveRevenueCenterSecurityQuery" databaseType="mssql">
      <![CDATA[
            select
            	rc.PropertyID, wu.ID as WatsonUserID, wu.PortalUserID, rc.ID as RevenueCenterID,
            	case when wu.Flags & 1 = 1 then
            		'Y'
            	else
            		case when exists (select 1 from WatsonUserPropertySecurity ups where ups.UserID = wu.ID and ups.IsAdmin = 'Y') then
            			'Y'
            		else
            			coalesce((select HasAccess from WatsonUserRevenueCenterSecurity urs where urs.UserID = wu.ID and urs.RevenueCenterID = rc.ID), (select top 1 HasAccess from WatsonGroupRevenueCenterSecurity grcs where ID in (select GroupID from WatsonUserGroup wug where wug.UserID = wu.ID) order by HasAccess), 'N')
            		end
            	end as HasAccess
            from
            	WatsonUser wu join RevenueCenter rc on 1=1
   ]]>
   </view>

   <view name="BudgetLineConfigExplodedQuery" databaseType="mssql">
      <![CDATA[
         with BudgetLineConfigExploded as
         (
               SELECT
                  config.ID as ID, config.BudgetLineID, config.PropertyID, config.BudgetDatasetID as OrigBudgetDatasetID, KBIID, JobclassID,
                  case when linkeddataset.StatTypeCode = 'D' then
                           otherdatasets.ID
                        else
                           linkeddataset.ID
                     end as BudgetDatasetID,
                  case when linkeddataset.StatTypeCode = 'D' then
                           otherdatasets.year
                        else
                           linkeddataset.Year
                     end as Year,
                  case when linkeddataset.StatTypeCode = 'D' then
                           otherdatasets.StatTypeCode
                        else
                           linkeddataset.StatTypeCode
                     end as StatTypeCode, linkeddataset.Year as ldsYear, linkeddataset.StatTypeCode as lrsStatTypeCode, otherdatasets.year as odsYear,
                     otherdatasets.StatTypeCode as odsStatTypeCode, Detail, Account.Code as GLCode, Account.Description as GLDescription,
                     UnitAccount.Code as UnitGLCode, UnitAccount.Description as UnitGLDescription, OTHoursAccount.Code as OTHoursGLCode,
                     OTHoursAccount.Description as OTHoursGLDescription, OTCostAccount.Code as OTCostGLCode, OTCostAccount.Description as OTCostGLDescription
                  FROM
                     BudgetLineConfig config JOIN BudgetDataset linkeddataset on config.BudgetDatasetID = linkeddataset.id
                                             LEFT JOIN BudgetDataSet otherdatasets on linkedDataset.year = 0 and linkeddataset.StatTypeCode = 'D' and otherdatasets.year <> 0 and otherdatasets.PropertyID = linkeddataset.PropertyID and otherdatasets.id <> linkeddataset.id
                                             LEFT JOIN Account on config.AccountID = Account.ID
                                             LEFT JOIN Account UnitAccount on config.UnitAccountID = UnitAccount.ID
                                             LEFT JOIN Account OTHOursAccount on config.OTHoursAccountID = OTHoursAccount.ID
                                             LEFT JOIN Account OTCostAccount on config.OTCostAccountID = OTCostAccount.ID
         ),
         BudgetLineConfigExploded_withRowNo as
         (
            SELECT *, row_number() over (partition by BudgetLineID, Year, StatTypeCode ORDER BY odsYear) as instanceNumber
               FROM BudgetLineConfigExploded
         )

         SELECT ID, BudgetLineID, PropertyID, KBIID, JobclassID, BudgetDatasetID, Year, StatTypeCode, Detail, GLCode, GLDescription, UnitGLCode, UnitGLDescription, OTHoursGLCode, OTHoursGLDescription, OTCostGLCode, OTCostGLDescription
         FROM BudgetLineConfigExploded_withRowNo where instanceNumber = 1
      ]]>
   </view>

   <customSQL databaseType="mssql">
      <function name="GetFinancialPeriodForDate">
         <![CDATA[
         create function dbo.GetFinancialPeriodForDate(@periodDate datetime, @propertyId int) returns int as
         BEGIN
            declare @periodNo int
            select @periodNo = case when @periodDate >= Per1StartDate and @periodDate <= Per1EndDate then 1
            when @periodDate <= Per2EndDate then 2
            when @periodDate <= Per3EndDate then 3
            when @periodDate <= Per4EndDate then 4
            when @periodDate <= Per5EndDate then 5
            when @periodDate <= Per6EndDate then 6
            when @periodDate <= Per7EndDate then 7
            when @periodDate <= Per8EndDate then 8
            when @periodDate <= Per9EndDate then 9
            when @periodDate <= Per10EndDate then 10
            when @periodDate <= Per11EndDate then 11
            when @periodDate <= Per12EndDate then 12
            when @periodDate > Per12EndDate then 13 end
            from FNYPeriod where PropertyID = @propertyId and @periodDate between Per1StartDate and case when Per13EndDate IS null then Per12EndDate else Per13EndDate end
            return (case when @periodNo is null then 0 else @periodNo end)
         END
         ]]>
      </function>

      <function name="splitString">
         <![CDATA[
         create function dbo.splitString (@String  VARCHAR(MAX), @Separator CHAR(1)) RETURNS @RESULT TABLE(Value VARCHAR(MAX)) AS
         BEGIN
            DECLARE @SeparatorPosition INT = CHARINDEX(@Separator, @String ),@Value VARCHAR(MAX), @StartPosition INT = 1

            IF @SeparatorPosition = 0
            BEGIN
               INSERT INTO @RESULT VALUES(@String)
               RETURN
            END

            SET @String = @String + @Separator
            WHILE @SeparatorPosition > 0
            BEGIN
               SET @Value = SUBSTRING(@String , @StartPosition, @SeparatorPosition- @StartPosition)

               IF( @Value <> ''  )
                  INSERT INTO @RESULT VALUES(@Value)

               SET @StartPosition = @SeparatorPosition + 1
               SET @SeparatorPosition = CHARINDEX(@Separator, @String , @StartPosition)
            END

            RETURN
         END
         ]]>
      </function>

      <function name="SplitStringPairs">
         <![CDATA[
         create function dbo.SplitStringPairs (@DelimitedString varchar(8000),@Delimiter varchar(100), @InnerDelimiter varchar(100)) RETURNS @tblArray TABLE (ElementPosition int IDENTITY(1,1), ElementValue1 varchar(1000), ElementValue2 varchar(1000))
         AS
         BEGIN

             DECLARE @Index smallint
             Declare @InnerIndex smallint
             DECLARE @Start smallint
             DECLARE @DelSize smallint
             DECLARE @InnerDelSize smallint
             DECLARE @StringPart varchar(1000)
             DECLARE @Part1 varchar(1000)
             DECLARE @Part2 varchar(1000)
             SET @DelSize = LEN(@Delimiter)
             SET @InnerDelSize = LEN(@InnerDelimiter)

             WHILE LEN(@DelimitedString) > 0
             BEGIN

               SET @Index = CHARINDEX(@Delimiter, @DelimitedString)

               IF @Index = 0
                  set @StringPart = LTRIM(RTRIM(@DelimitedString))
               ELSE
                  set @StringPart = LTRIM(RTRIM(SUBSTRING(@DelimitedString, 1,@Index - 1)))

               set @InnerIndex = CHARINDEX(@InnerDelimiter, @StringPart)
               set @Part2 = ''

               if @InnerIndex = 0
                  set @Part1 = @StringPart
               else
                  set @Part1 = SUBSTRING(@StringPart, 0, @InnerIndex)

               if @InnerIndex > 0
                  set @Part2 = SUBSTRING(@StringPart, @InnerIndex + @InnerDelSize, 1000)

               INSERT INTO @tblArray (ElementValue1, ElementValue2) VALUES (LTRIM(RTRIM(@Part1)), LTRIM(RTRIM(@Part2)))

               if @Index = 0
                  set @DelimitedString = ''
               else
                  BEGIN
                     SET @Start = @Index + @DelSize
                     SET @DelimitedString = SUBSTRING(@DelimitedString, @Start , LEN(@DelimitedString) - @Start + 1)
                  END
             END

             RETURN
         END

         ]]>
      </function>

      <function name="OriginalHireDate">
         <![CDATA[
         create function dbo.OriginalHireDate(@EmployeeID int) RETURNS datetime AS
         BEGIN
            return (select min(StartDate) from EmployeeStatus where EmployeeID = @EmployeeID and StatusTypeCode = 'A')
         END
         ]]>
      </function>

      <function name="StartOfWeekForProperty">
         <![CDATA[
         create function dbo.StartOfWeekForProperty(@propertyID int) returns int as
         BEGIN
            Declare @dow int
            select @dow = datepart(dw, PeriodStartDate) - 1 + @@DATEFIRST from Property where ID = @propertyID
            if @dow > 7
               set @dow = @dow - 7
            return (@dow)
         END
         ]]>
      </function>

      <function name="StartOfWeek">
         <![CDATA[
         create function dbo.StartOfWeek(@year int, @weekNumber int) returns datetime as
         BEGIN
            Declare @startOfYear datetime
            set @startOfYear = CONVERT(datetime, '1/1/' + convert(varchar, @year))
            return (select DateAdd(ww, @weekNumber - 1, dateadd(dd, -datepart(dw, @startOfYear) + 1, @startOfYear)))
         END
         ]]>
      </function>

      <function name="WasActiveOnDate">
         <![CDATA[
         create function dbo.WasActiveOnDate(@EmployeeID int, @DateActive datetime) RETURNS char(1) AS
         BEGIN
            if exists (select StatusTypeCode from EmployeeStatus where (StatusTypeCode = 'A' or StatusTypeCode = 'R' or StatusTypeCode = 'L' or (StatusTypeCode = 'T' and @DateActive = StartDate)) and EmployeeID = @EmployeeID and @DateActive between StartDate and EndDate)
               return 'Y'
            return 'N'
         END
         ]]>
      </function>

      <function name="WasActiveOnDateExcludeLOA">
         <![CDATA[
            create function dbo.[WasActiveOnDateExcludeLOA](@EmployeeID int, @DateActive datetime) RETURNS char(1) AS
            BEGIN
               if exists (select StatusTypeCode from EmployeeStatus where (StatusTypeCode = 'A' or StatusTypeCode = 'R' or (StatusTypeCode = 'T' and @DateActive = StartDate)) and EmployeeID = @EmployeeID and @DateActive between StartDate and EndDate)
                  return 'Y'
               return 'N'
            END
         ]]>
      </function>

      <function name="WasActiveBetween">
         <![CDATA[
            create function dbo.WasActiveBetween(@EmployeeID int, @FromDate datetime, @ToDate datetime) RETURNS char(1) AS
            BEGIN
               if exists (select StatusTypeCode from EmployeeStatus where (StatusTypeCode = 'A' or StatusTypeCode = 'R' or StatusTypeCode = 'L' or (StatusTypeCode = 'T' and @FromDate = StartDate)) and EmployeeID = @EmployeeID and @FromDate <= EndDate and @ToDate >= StartDate)
                  return 'Y'
               return 'N'
            END
         ]]>
      </function>

      <function name="WasActiveBetweenExcludeLOA">
         <![CDATA[
            create function dbo.[WasActiveBetweenExcludeLOA](@EmployeeID int, @FromDate datetime, @ToDate datetime) RETURNS char(1) AS
            BEGIN
               if exists (select StatusTypeCode from EmployeeStatus where (StatusTypeCode = 'A' or StatusTypeCode = 'R' or (StatusTypeCode = 'T' and @FromDate = StartDate)) and EmployeeID = @EmployeeID and @FromDate <= EndDate and @ToDate >= StartDate)
                  return 'Y'
               return 'N'
            END
         ]]>
      </function>

      <function name="IsAnniversaryBetween">
         <![CDATA[
         create function dbo.IsAnniversaryBetween(@AnniversaryDate datetime, @FromDate datetime, @ToDate datetime) RETURNS char(1) AS
         BEGIN
            Declare @AnDate datetime
            set @AnDate = DateAdd(yy,DateDiff(yy, @AnniversaryDate, @FromDate), @AnniversaryDAte)
            if @anDate < @FromDate
               set @anDate = DateAdd(yy,1,@anDate)
            return (case when @anDate between @FromDate and @ToDate then 'Y' else 'N' end)
         END
         ]]>
      </function>

      <function name="PayEffectiveDateAsOf">
         <![CDATA[
         create function dbo.PayEffectiveDateAsOf(@EmployeeID int, @JobID int, @AsOfDate datetime) RETURNS datetime AS
         BEGIN
            Declare @EffectiveDate datetime
            select top 1 @EffectiveDate = StartDate from EmployeeJobStatus where EmployeeID = @EmployeeID and JobID = @JobID and @AsOfDate between StartDate and EndDate
            return Coalesce(@EffectiveDate, convert(datetime,''))
         END
         ]]>
      </function>

      <function name="AverageRateAsOf">
         <![CDATA[
         create function dbo.[AverageRateAsOf](@JobClassID int, @AsOfDate datetime) RETURNS money AS
         BEGIN
            return (select avg(HourlyRate) from EmployeeSkill join EmployeePayRate on EmployeeSkill.ID = EmployeePayRate.SkillID and EmployeePayRate.EffectiveDate = (select max(EffectiveDate) from EmployeePayRate P1 where P1.SkillID = EmployeePayRate.SkillID and EffectiveDate <= @AsOfDate) where EmployeeSkill.JobCLassID = @JobClassID)
         END
         ]]>
      </function>

      <function name="WasSalariedOnDate">
         <![CDATA[
         create function dbo.WasSalariedOnDate (@EmployeeID int, @DateActive datetime, @homeJobOnly char(1) = 'N', @exemptOnly char(1) = 'Y') RETURNS char(1) AS
         BEGIN
            if exists (select PayTypeCode from EmployeeJobStatus where (PayTypeCode = 'S' or @exemptOnly = 'N' and PayTypeCode = 'N') and (@homeJobOnly = 'N' or Home = 'Y') and EmployeeID = @EmployeeID and @DateActive between StartDate and EndDate)
               return 'Y'
            return 'N'
         END
         ]]>
      </function>

      <function name="WasSalariedBetween">
         <![CDATA[
         create function dbo.[WasSalariedBetween](@EmployeeID int, @FromDate datetime, @ToDate datetime, @homeJobOnly char(1) = 'N', @exemptOnly char(1) = 'Y') RETURNS char(1) AS
         BEGIN
            if exists (select PayTypeCode from EmployeeJobStatus where (PayTypeCode = 'S' or @exemptOnly = 'N' and PayTypeCode = 'N') and (@homeJobOnly = 'N' or Home = 'Y') and EmployeeID = @EmployeeID and @FromDate <= EndDate and @ToDate >= StartDate)
               return 'Y'
            return 'N'
         END
         ]]>
      </function>

      <function name="WasJobActiveOnDate">
         <![CDATA[
         create function dbo.WasJobActiveOnDate(@EmployeeID int, @JobID int, @DateActive datetime) RETURNS char(1) AS
         BEGIN
            Declare @count int
            select @count = count(*) from EmployeeJobStatus where EmployeeID = @EmployeeID and JobID = @JobID and @DateActive between StartDate and EndDate
            return case when @count = 0 then 'N' else 'Y' end
         END
         ]]>
      </function>

      <function name="WasAssignmentActiveOnDate">
         <![CDATA[
         create function dbo.WasAssignmentActiveOnDate(@AssignmentID int, @EmployeeID int, @DateActive datetime) RETURNS char(1) AS
         BEGIN
            Declare @count int
            select @count = count(*) from EmployeeJobStatus where EmployeeID = @EmployeeID and @DateActive between StartDate and EndDate and dbo.isChildOf(JobID, @AssignmentID) = 'Y'
            return case when @count = 0 then 'N' else 'Y' end
         END
         ]]>
      </function>

      <function name="WasAssignmentActiveBetween">
         <![CDATA[
         create function dbo.WasAssignmentActiveBetween(@AssignmentID int, @EmployeeID int, @FromDate datetime, @ToDate datetime) RETURNS char(1) AS
         BEGIN
            Declare @count int
            select @count = count(*) from EmployeeJobStatus where EmployeeID = @EmployeeID and @FromDate <= EndDate and @ToDate >= StartDate and dbo.isChildOf(JobID, @AssignmentID) = 'Y'
            return case when @count = 0 then 'N' else 'Y' end
         END
         ]]>
      </function>

      <function name="IsChildOf">
         <![CDATA[
         create function dbo.IsChildOf(@ChildAssignmentID int, @ParentAssignmentID int) RETURNS char(1) as
         BEGIN
            Declare @count int;

            with ass as
            (
                  select ID, ParentAssignmentID from Assignment where ID = @ChildAssignmentID
                  union all
                  select Assignment.ID, Assignment.ParentAssignmentID from ass join Assignment on ass.ParentAssignmentID = Assignment.ID
            )
            select @count = count(*) from ass where ID = @ParentAssignmentID

            return case when @count = 0 then 'N' else 'Y' end
         END
         ]]>
      </function>

      <function name="GetPayrollCode">
         <![CDATA[
         create function dbo.GetPayrollCode(@EmployeeID int, @JobID int, @ShiftDate datetime) returns varchar(50) as
         BEGIN
            Declare @PayrollCode varchar(50)
            select @PayrollCode = PayCodeOverride from ReconcileCode RC join EmployeeJobStatus EPR on RC.ID = EPR.ReconcileCodeID and EPR.EmployeeID = @EmployeeID and EPR.JobID = @JobID and @ShiftDate between EPR.StartDate and EPR.EndDate
            return coalesce(@PayrollCode, (select PayCode from Assignment where ID = @JobID))
         END
         ]]>
      </function>

      <function name="NetHoursForShift">
         <![CDATA[
         create function dbo.NetHoursForShift(@PeriodName varchar(50), @RevenueCenterName varchar(50), @ShiftID int) returns float as
         BEGIN
               return coalesce((select dbo.OverlappingHours(S.StartTime, S.EndTime, P.StartTime + S.ShiftDate,
                                                   case when P.EndTime + S.ShiftDate < P.StartTime + S.ShiftDate then P.EndTime + S.ShiftDate + 1.0 else P.EndTime + S.ShiftDate end)
               from EmployeeShift as S
               join AssignmentRCPeriod as P on S.JobID = P.AssignmentID and P.DayNo = DATEPART(dw, ShiftDate)
               where S.ID = @ShiftID and P.PeriodName = @PeriodName and P.RevenueCenterName = @RevenueCenterName), 0.0)
         END
         ]]>
      </function>

      <function name="OverlappingHours">
         <![CDATA[
         create function dbo.OverlappingHours(@StartTime datetime, @EndTime datetime, @CompareStartTime datetime, @CompareEndTime datetime) returns float as
         BEGIN
               Declare @maxStartTime datetime
               Declare @minEndTime datetime
               Declare @hours float

               set @maxStartTime = @StartTime
               if @maxStartTime < @CompareStartTime
                     set @maxStartTime = @CompareStartTime

               set @minEndTime = @EndTime
               if @minEndTime > @CompareEndTime
                     set @minEndTime = @CompareEndTime

               set @hours = 0.0
               if @minEndTime > @maxStartTime
                     set @hours = DateDiff(n, @maxStartTime, @minEndTime) / 60.0

               return @hours
         END
         ]]>
      </function>

      <function name="PayRateAsOf">
         <![CDATA[
         create function dbo.PayRateAsOf(@EmployeeID int, @JobID int, @AsOfDate datetime) RETURNS smallmoney AS
         BEGIN
            return Coalesce((select case when HourlyRate > 0.0 then HourlyRate else AnnualRate end
               from EmployeeJobStatus
               where EmployeeID = @EmployeeID and JobID = @JobID and @AsOfDate between StartDate and EndDate), 0.0)
         END
         ]]>
      </function>

      <function name="NetHoursForRequirement">
         <![CDATA[
         create function dbo.NetHoursForRequirement(@PeriodName varchar(50), @RevenueCenterName varchar(50), @RequirementID int) returns float as
         BEGIN
               return ( coalesce((select Rq.Numbershifts * dbo.OverlappingHours(Rq.StartTime + Rq.RequirementDate, Rq.StartTime + Rq.RequirementDate + Rq.LengthTime, P.StartTime + Rq.RequirementDate,
                                                   case when P.EndTime + Rq.RequirementDate < P.StartTime + Rq.RequirementDate then P.EndTime + Rq.RequirementDate + 1.0 else P.EndTime + Rq.RequirementDate end)

               from
               Requirement as Rq
               join AssignmentRCPeriod as P on Rq.JobclassID = P.AssignmentID and P.DayNo = DATEPART(dw, RequirementDate)
               where Rq.ID = @RequirementID and P.PeriodName = @PeriodName and P.RevenueCenterName = @RevenueCenterName), 0.0)
               )
         END
         ]]>
      </function>

      <function name="MetersBetweenGeoLocations">
         <![CDATA[
         create function dbo.[MetersBetweenGeoLocations] (@lat1 float,@long1 float,@lat2 float,@long2 float) RETURNS float AS
         BEGIN
           -- Declare the return variable here
           DECLARE @distance float
           SET @distance = -1
           DECLARE @earthRadius float
           SET @earthRadius = 6371009.0 --Meters
           -- SET @earthRadius = 3958.761 --Miles
           -- SET @earthRadius = 6371.009 --km
           DECLARE @axis float

           if ((@lat1 IS NOT NULL) AND (@long1 IS NOT NULL) AND (@lat2 IS NOT NULL) AND (@long2 IS NOT NULL)) -- bit of protection against bad data
           BEGIN
            SELECT @axis = (SIN(RADIANS(@lat2-@lat1)/2) * SIN(RADIANS(@lat2-@lat1)/2) + COS(RADIANS(@lat1)) * COS(RADIANS(@lat2)) * SIN(RADIANS(@long2-@long1)/2) * SIN(RADIANS(@long2-@long1)/2));
            -- Multiply root of the axis by the earth's diameter
            SELECT @distance = @earthRadius * (2 * ATN2(SQRT(@axis), SQRT(1-@axis)))
           END

          -- Return the result of the function, rounded down
          RETURN ROUND(@distance, 3)
         END
         ]]>
      </function>

      <function name="getPPStartDateForDate">
         <![CDATA[
          create function dbo.getPPStartDateForDate(@PropertyID int, @ForDate date) returns Date as
            BEGIN
            	return (select master.dbo.getPPStartDateOnOrBeforeDate(PayPeriodTypeCode, CurrentPPEndDate, PayPeriodStartDayOfMonth, @ForDate) from Property where ID = @PropertyID)
            END
         ]]>
      </function>

      <procedure name="usp_getWeekStartOfnthPastWorkedWeek">
         <![CDATA[
         create procedure dbo.[usp_getWeekStartOfnthPastWorkedWeek] (@employeeID int, @weeksBack int, @asOfDate datetime) as
         BEGIN
            declare @oldDateFirst int
            declare @newDateFirst int
            declare @numberWeeks int

            set @oldDateFirst = @@DATEFIRST
            select @newDateFirst = dbo.startOfWeekForProperty(propertyId) from Employee where ID = @employeeID
            set datefirst @newDateFirst;
            with years as
            (
               select distinct DATEPART(yy, shiftDate) as shiftYear, datepart(ww, shiftDate) as shiftWeek from EmployeeShift where ShiftTypeCode = 'A' and EmployeeID = @employeeID and ShiftDate <= @asOfDate
               union
               select distinct DATEPART(yy, earningDate) as shiftYear, datepart(ww, earningDate) as shiftWeek from EmployeeEarning where EarningTypeID in (select ID from EarningType where IncludeInBenefitCalcs = 'Y') and EmployeeID = @employeeID and EarningDate <= @asOfDate
            ), weeks as
            (
               select top (@weeksBack) * from years order by shiftYear desc, shiftWeek desc
            )
            select MIN(dbo.startOfWeek(shiftYear, shiftWeek)) as startOfWeek, COUNT(*) as numberWeeksFound from weeks
            set datefirst @oldDateFirst
         END
         ]]>
      </procedure>
      <procedure name="usp_explodeBudgetData">
         <![CDATA[
         create procedure dbo.[usp_explodeBudgetData](@BudgetDataIDList varchar(max)) as
         BEGIN

            --Declare @BudgetDataIDList varchar(MAX) = ('224264830,224264831,224264832,224264833,224264834,224264835,24264836,224264837,224264838,224264839,224264840,224264841,224264842,224264843,224264844,224264845,224264846,224264847,224264848,224264849,224264850,224264851,224264852,224264853,224264854,224264855,224264856,224264857,224264858,224264859,224264860,224264861,224264862,224264863,224264864,224264865,224264866,224264867,224264868,224264869,224264870,224264871,224264872,224264873,224264874,224264875,224264876,224264877,224264878,224264879,224264880,224264881,224264882,224264883,224264884,224264885,224264886,224264887,224264888,224264889,224264890,224264891,224264892,224264893,224264894,224264895,224264896,224264897,224264898,224264899,224264900,224264901,224264902,224264903,224264904,224264905,224264906,224264907,224264908,224264909,224264910,24264911,224264912,224264913,224264914,224264915,224264916,224264917,224264918,224264919,224264920,224264921,224264922,224264923,224264924,224264925,224264926,224264927,224264928,224264929')

            Declare @jobclassIDs Table(ID int)
            Declare @budgetDataIDs Table(Value VARCHAR(MAX))
            Declare @budgetDataLines Table(ID int)
            Declare @budgetDataJobs Table(PropertyID int, ID int, StatTypeCode varchar(10), JobclassID int, BudgetBudgetLineID int, BudgetLineDescription varchar(MAX), MasterBudgetLineID int, Year smallint, PeriodNo tinyint, NumberUnits decimal(19,2), Rate money, AdjustedRate money, OTRate money, OTHours float, GrossUnits decimal(19,2), AdjUnits decimal(19,2), AdjUnitsFromStd decimal(19,2), Factor decimal(19, 4), FixedDollars money, ReassignedDollars money, TotalDollars money)

            insert into @budgetDataIDs select * from dbo.splitString(@BudgetDataIDList,',')
            insert into @jobclassIds select distinct JobclassID from BudgetData bd join BudgetLineConfig blc on bd.BudgetDatasetID = blc.BudgetDatasetID and bd.BudgetLineID = blc.BudgetLineID and blc.LineTypeCode in ('J', 'P') join BudgetLine b on bd.BudgetLineID = b.ID and JobclassID is not null and bd.ID in (select * from @budgetDataIDs)
            insert into @budgetDataLines select convert(int, Value) from @budgetDataIDs where value not in (select ID from @budgetDataJobs);

            insert into @budgetDataJobs select
               bd.PropertyID, bd.ID, bd.StatTypeCode, blc.JobclassId, bd.BudgetLineID, b.Description, bl.MasterBudgetLineID,bd.year, bd.PeriodNo,
               bd.NumberUnits, bd.Rate, bd.AdjustedRate, bd.OTRate, bd.OTHours, bd.GrossUnits, bd.AdjUnits, bd.AdjUnitsFromStd, bd.Factor,
               bd.FixedDollars, bd.ReassignedDollars, bd.TotalDollars
            from
               BudgetData bd join BudgetLineConfig blc on bd.BudgetDatasetID = blc.BudgetDatasetID and bd.BudgetLineID = blc.BudgetLineID and blc.LineTypeCode in ('J', 'P') join BudgetLine b on bd.BudgetLineID = b.ID and JobclassID is not null and bd.ID in (select * from @budgetDataIDs);

            Declare @PropertyID int
            Declare @BudgetDataID int
            Declare @StatTypeCode varchar(10)
            Declare @JobClassID int
            Declare @BudgetLineID int
            Declare @BudgetLineDescription varchar(MAX)
            Declare @MasterBudgetLineID int
            Declare @Year smallint
            Declare @PeriodNo tinyint
            Declare @NumberUnits decimal(19, 2)
            Declare @Rate money
            Declare @AdjustedRate money
            Declare @OTRate money
            Declare @OTHours float
            Declare @GrossUnits decimal(19, 2)
            Declare @AdjUnits decimal(19, 2)
            Declare @AdjUnitsFromStd decimal(19,2)
            Declare @Factor decimal(19, 4)
            Declare @FixedDollars money
            Declare @ReassignedDollars money
            Declare @TotalDollars money
            Declare @periodStart datetime
            Declare @periodEnd datetime
            Declare @fnyPeriodExplodedID int
            Declare @DaysInPeriod int

            if object_id('tempdb..#exploded') is not null
               drop table #exploded;

            create table #exploded (BudgetDataID int not null,PropertyID int not null,JobClassID int not null,BudgetLineID int not null,BudgetLineDescription varchar(MAX),MasterBudgetLineID int,StatTypeCode varchar(10) not null,[Year] smallint not null,FNYPeriodExplodedID int not null,PeriodNo tinyint not null,StatDate datetime not null,NumberUnits decimal(19, 2),RegHours float,OTHours float,GrossUnits decimal(19, 2),AdjUnits decimal(19, 2),AdjUnitsFromStd decimal(19, 2),RegRate money,AdjRegRate money,OTRate money,AdjOTRate money,Factor decimal(19, 4),FixedDollars money,ReassignedDollars money,TotalDollars money,MasterJobclassID int)

            declare jobsCursor cursor for
            select * from @budgetDataJobs

            open jobsCursor

            fetch next from jobsCursor into @PropertyID, @BudgetDataID, @StatTypeCode, @JobClassID, @BudgetLineID, @BudgetLineDescription, @MasterBudgetLineID, @Year, @PeriodNo, @NumberUnits, @Rate, @AdjustedRate, @OTRate, @OTHours, @GrossUnits, @AdjUnits, @AdjUnitsFromStd, @Factor, @FixedDollars, @ReassignedDollars, @TotalDollars

            while @@FETCH_STATUS = 0
            BEGIN
               select @fnyPeriodExplodedID = ID, @periodStart = StartDate, @periodEnd = EndDate, @DaysInPeriod = DaysInPeriod from FNYPeriodExploded where Year = @Year and PeriodNumber = @PeriodNo and PropertyID = @PropertyID;

               with periodStaffStat as
               (
                  select
                      sum(StaffHours - coalesce(OTHours, 0)) as StaffRegHours,
                      round(sum(StaffTotal - coalesce(OTHours, 0) * coalesce(OTRate, 0)), 2) as StaffTotalRegDollars,
                      case when sum(StaffHours - coalesce(OTHours, 0)) > 0 then round(round(sum(StaffTotal - coalesce(OTHours, 0) * coalesce(OTRate, 0)), 2) / sum(StaffHours - coalesce(OTHours, 0)), 2) else 0 end as AverageRegRate,
                      coalesce(sum(OTHours), 0) as StaffOTHours,
                      round(sum(coalesce(OTHours, 0) * coalesce(OTRate, 0)), 2) as OTDollars,
                      case when sum(OTHours) > 0 then coalesce(round(round(sum(coalesce(OTHours, 0) * coalesce(OTRate, 0)), 2) / sum(OTHours), 2), 0) else 0 end as AverageOTRate
                  from
                    BudgetStaffStat where PropertyID = @PropertyID and StatDate between @periodStart and @periodEnd and StatTypeCode = @StatTypeCode and JobclassID = @jobClassID
               ), dailyPercentWithError as
               (
               select
                  daily.StatDate,
                  convert(decimal(9, 5), case when period.StaffRegHours = 0 then 0 else daily.StaffHours / period.StaffRegHours end) AS regHoursPct,
                  convert(decimal(9, 5), case when period.StaffOTHours = 0 then 0 else daily.OTHours / period.StaffOTHours end) AS otHoursPct
               from
                  BudgetStaffStat daily join periodStaffStat period on 1=1 where daily.PropertyID = @PropertyID and daily.StatTypeCode = @StatTypeCode and daily.StatDate between @periodStart and @periodEnd and daily.JobClassID = @JobClassID
               ), periodPercentTotal as
               (
                  select
                    sum(regHoursPct) as regHoursPct, sum(otHoursPct) as otHoursPct
                  from
                    dailyPercentWithError dp
               ), dailyPercent as
               (
                  select
                    dp.StatDate,
                    convert(decimal(9,5), case when dp.StatDate = @periodStart then 1 - pp.regHoursPct + dp.regHoursPct else dp.regHoursPct end) as regHoursPct,
                    convert(decimal(9,5), case when dp.StatDate = @periodStart then 1 - pp.otHoursPct + dp.otHoursPct else dp.otHoursPct end) as otHoursPct
                  from
                    dailyPercentWithError dp join periodPercentTotal pp on 1 = 1
               ), rawDailyData as
               (
                  select
                    @BudgetDataID as BudgetDataID,
                    @PropertyID as PropertyID,
                    @JobclassID as JobclassID,
                    @BudgetLineID as BudgetLineID,
                    @BudgetLineDescription as BudgetLineDescription,
                    @MasterBudgetLineID as MasterBudgetLineID,
                    @StatTypeCode as StatTypeCode,
                    @Year as [Year],
                    @fnyPeriodExplodedID as PeriodID,
                    @PeriodNo as PeriodNo,
                    dp.StatDate,
                    null as NumberUnits,
                    (@NumberUnits + coalesce(bha.Amount, 0)) * dp.regHoursPct as RegHours,
                    coalesce(@OTHours, 0) * dp.otHoursPct as OTHours,
                    round(@GrossUnits * dp.regHoursPct, 5) as GrossUnits,
                    round(@AdjUnits * dp.regHoursPct, 5) as AdjUnits,
                    round(@AdjUnitsFromStd * dp.regHoursPct, 5) as AdjUnitsFromStd,
                    round(case when @Rate <> 0 then @Rate else @AdjustedRate end, 5) as RegRate,
                    round(case when @Rate <> 0 then @Rate else @AdjustedRate end + coalesce(bra.Amount, 0), 5) as AdjRegRate,
                    round(case when @Rate <> 0 then @Rate else @AdjustedRate end * 1.5, 5) as OTRate,
                    round(case when @AdjustedRate <> 0 then @AdjustedRate else @Rate end + @OTRate, 5) as AdjOTRate,
                    @Factor as Factor,
                    case when dp.StatDate = @periodStart then round(@FixedDollars / @DaysInPeriod, 2) + (@FixedDollars - round(@FixedDollars / @DaysInPeriod, 2) * @DaysInPeriod) else round(@FixedDollars / @DaysInPeriod, 2) end as FixedDollars,
                    case when dp.StatDate = @periodStart then round(@ReassignedDollars / @DaysInPeriod, 2) + (@ReassignedDollars - round(@ReassignedDollars / @DaysInPeriod, 2) * @DaysInPeriod) else round(@ReassignedDollars / @DaysInPeriod, 2) end as ReassignedDollars
                  from
                    dailyPercent dp left join BudgetJobClassAdjustmentTotalQuery bra on dp.StatDate = bra.StatDate
                    left join BudgetJobClassAdjustmentTotalQuery bha on dp.StatDate = bra.StatDate
                  where
                     bra.PropertyID = @PropertyID and bra.StatTypeCode = @StatTypeCode and bra.JobclassID = @JobclassID and bra.AdjustmentType = 'RAT' and
                     bha.PropertyID = @PropertyID and bha.StatTypeCode = @StatTypeCode and bha.JobclassID = @JobclassID and bha.AdjustmentType = 'HRS'
               )
               insert into #exploded
                  (BudgetDataID, PropertyID, JobClassID, BudgetLineID, BudgetLineDescription, MasterBudgetLineID, StatTypeCode, [Year], FNYPeriodExplodedID, PeriodNo, StatDate, NumberUnits, RegHours, OTHours, GrossUnits, AdjUnits, AdjUnitsFromStd, RegRate, AdjRegRate, OTRate, AdjOTRate, Factor, FixedDollars, ReassignedDollars, TotalDollars, MasterJobclassID)
               select
                  r.*, (RegHours - otHours) * AdjRegRate + otHours * AdjOTRate + FixedDollars * Factor + reassignedDollars as TotalDollars, MasterJobclassID from RawDailyData r join Assignment a on r.JobclassID = a.ID

               fetch next from jobsCursor into @PropertyID, @BudgetDataID, @StatTypeCode, @JobClassID, @BudgetLineID, @BudgetLineDescription, @MasterBudgetLineID, @Year, @PeriodNo, @NumberUnits, @Rate, @AdjustedRate, @OTRate, @OTHours, @GrossUnits, @AdjUnits, @AdjUnitsFromStd, @Factor, @FixedDollars, @ReassignedDollars, @TotalDollars
            END

            close jobsCursor
            deallocate jobsCursor

            select * from #exploded

            union

            select
               bd.ID as BudgetDataID, bd.PropertyID as PropertyID, 0 as JobclassID, BudgetLineID, bl.Description as BudgetLineDescription, bl.MasterBudgetLineID,
               bd.StatTypeCode, bd.Year, d.FNYPeriodExplodedID as PeriodID, bd.PeriodNo, d.StatDate,
               case when blc.LineTypeCode = 'T' then null else case when d.StartDate = d.StatDate then round(NumberUnits / d.DaysInPeriod, 2) + (NumberUnits - round(NumberUnits / DaysInPeriod, 2) * DaysInPeriod) else round(NumberUnits / DaysInPeriod, 2) end end as NumberUnits,
               0 as RegHours,
               round(case when d.StartDate = d.StatDate then round(coalesce(OTHours, 0) / d.DaysInPeriod, 2) + (coalesce(OTHours, 0) - round(coalesce(OTHours, 0) / d.DaysInPeriod, 2) * d.DaysInPeriod) else round(coalesce(OTHours, 0) / d.DaysInPeriod, 2) end, 5) as OTHours,
               round(case when blc.LineTypeCode = 'T' then null else case when d.StartDate = d.StatDate then round(GrossUnits / d.DaysInPeriod, 2) + (GrossUnits - round(GrossUnits / d.DaysInPeriod, 2) * d.DaysInPeriod) else round(GrossUnits / d.DaysInPeriod, 2) end end, 5) as GrossUnits,
               round(case when blc.LineTypeCode = 'T' then null else case when d.StartDate = d.StatDate then round(AdjUnits / d.DaysInPeriod, 2) + (AdjUnits - round(AdjUnits / d.DaysInPeriod, 2) * d.DaysInPeriod) else round(AdjUnits / d.DaysInPeriod, 2) end end, 5) as AdjUnits,
               round(case when blc.LineTypeCode = 'T' then null else case when d.StartDate = d.StatDate then round(AdjUnitsFromStd / d.DaysInPeriod, 2) + (AdjUnitsFromStd - round(AdjUnitsFromStd / d.DaysInPeriod, 2) * d.DaysInPeriod) else round(AdjUnitsFromStd / d.DaysInPeriod, 2) end end, 5) as AdjUnitsFromStd,
               round(case when blc.LineTypeCode = 'T' then null else case when Rate <> 0 then Rate else AdjustedRate end end, 5) as RegRate,
               round(case when blc.LineTypeCode = 'T' then null else coalesce(AdjustedRate, Rate) end, 5) as AdjRegRate,
               round(case when blc.LineTypeCode = 'T' then null else OTRate + Rate end, 5) as OTRate,
               round(case when blc.LineTypeCode = 'T' then null else coalesce(AdjustedRate, Rate) + OTRate end, 5) as AdjOTRate,
               Factor,
               case when d.StartDate = d.StatDate then round(FixedDollars / d.DaysInPeriod, 2) + (FixedDollars - round(FixedDollars / d.DaysInPeriod, 2) * d.DaysInPeriod) else round(FixedDollars / d.DaysInPeriod, 2) end as FixedDollars,
               case when d.StartDate = d.StatDate then round(ReassignedDollars / d.DaysInPeriod, 2) + (ReassignedDollars - round(ReassignedDollars / d.DaysInPeriod, 2) * d.DaysInPeriod) else round(ReassignedDollars / d.DaysInPeriod, 2) end as ReassignedDollars,
               case when d.StartDate = d.StatDate then round(TotalDollars / d.DaysInPeriod, 2) + (TotalDollars - round(TotalDollars / d.DaysInPeriod, 2) * d.DaysInPeriod) else round(TotalDollars / d.DaysInPeriod, 2) end as TotalDollars,
               0 as MasterJobclassID
            from
               BudgetData bd inner join BudgetLineConfig blc on bd.BudgetLineID = blc.BudgetLineID and bd.BudgetDatasetID = blc.BudgetDatasetID join BudgetLine bl on bd.BudgetLineID = bl.ID and bd.id in (select id from @budgetDataLines) join FNYPeriodDailyExploded d on bd.PropertyID = d.PropertyID and bd.Year = d.Year and bd.PeriodNo = d.PeriodNumber where bd.PropertyID = d.PropertyID
         END
         ]]>
      </procedure>

      <procedure name="usp_get_subscription_users">
         <![CDATA[
            create proc usp_get_subscription_users (@PropertyID int) as
            BEGIN

            	with userMap as
            	(
            		select UserID from WatsonUserPropertySecurity where UserID in (select UserID from WatsonUserPropertySecurity where PropertyID = @PropertyID) group by UserID having count(*) = 1
            	)
            	select
            		wu.PortalUserID,
            		case when e.id is null then null else trim(trim(coalesce(e.LastName, '')) + ', ' + trim(coalesce(e.FirstName, '')) + ' ' + trim(coalesce(e.MiddleName, ''))) end as FullName,
            		e.Email,
            		case when e.Locale is null then null else replace(e.Locale, '-', '_') end as Locale
            	from
            		WatsonUser wu join userMap um on wu.ID = um.UserID
            		left join EmployeeWatsonUserMap wum on wu.ID = wum.UserID
            		left join Employee e on wum.EmployeeID = e.ID
            		left join EmployeeStatus es on e.ID = es.EmployeeID and getDate() between StartDate and EndDate
            	where
            		es.ID is null or es.StatusTypeCode in ('R', 'A')
            END
         ]]>
      </procedure>

      <procedure name="usp_brief_prime_avss">
         <![CDATA[
            create proc usp_brief_prime_avss (@PropertyID int, @startDate date, @endDate date) as
            BEGIN
            	Declare @actualHours decimal(19, 2)
            	Declare @standardHours decimal(19, 2)
            	Declare @thresholdFrom int
            	Declare @thresholdTo int
            	Declare @JobclassID int
            	Declare @CacheId int
            	Declare @qualityIssue int = 0
            	Declare @costIssue int = 0
            	Declare @variance decimal(9,4)

            	Declare cur cursor for
            	with actuals as (select JobID, StatDate, sum(coalesce(netHours, 0)) as actualHours from ActualJobSummaryQuery where StatDate between @startDate and @endDate and PropertyID = @PropertyID group by JobID, StatDate),
            	standards as (select JobID, ShiftDate, sum(coalesce(Duration, 0)) as standardHours from PlannedShift where ShiftDate between @startDate and @endDate and PropertyID = @PropertyID and ShiftType = 'S' group by JobID, ShiftDate)
            	select
            		a.ID, a.AvsSThresholdFrom, AvsSThresholdTo, sum(coalesce(actuals.actualHours, 0)), sum(coalesce(standards.standardHours, 0))
            	from
            		BriefingReportJobCache a left join actuals on a.AssignmentID = actuals.JobID and a.StatDate = actuals.StatDate left join standards on a.AssignmentID = standards.JobID and a.StatDate = standards.ShiftDate
            	where
            		a.PropertyID = @PropertyID
            	group by
            		a.ID, a.StatDate, a.AvsSThresholdFrom, a.AvsSThresholdTo

            	open cur
            	fetch next from cur into @cacheId, @thresholdFrom, @thresholdTo, @actualHours, @standardHours
            	while @@FETCH_STATUS = 0
            	BEGIN
            		set @actualHours = coalesce(@actualHours, 0)
            		set @standardHours = coalesce(@standardHours, 0)
            		set @qualityIssue = 0
            		set @costIssue = 0

            		if @actualHours > 0 and @standardHours > 0
            		BEGIN
            			set @variance = (@standardHours - @actualHours) / @standardHours * 100.0

            			if @variance < -@thresholdFrom
            				set @qualityIssue = 1
            			if @variance > @thresholdTo
            				set @costIssue = 1

            			update BriefingReportJobCache set ActualHours = @actualHours, StandardHours = @StandardHours, AvsSQualityIssue = @qualityIssue, AvsSCostIssue = @costIssue where ID = @CacheId
            		END
            		fetch next from cur into @CacheID, @thresholdFrom, @thresholdTo, @actualHours, @standardHours
            	END
            	close cur
            	deallocate cur
            END
         ]]>
      </procedure>

      <procedure name="usp_brief_prime_svsp">
         <![CDATA[
         create proc usp_brief_prime_svsp (@PropertyID int, @startDate date, @endDate date) as
            BEGIN
            	Declare @scheduledHours decimal(19, 2)
            	Declare @projectedHours decimal(19, 2)
            	Declare @thresholdFrom int
            	Declare @thresholdTo int
            	Declare @JobclassID int
            	Declare @CacheId int
            	Declare @qualityIssue int = 0
            	Declare @costIssue int = 0
            	Declare @variance decimal(9,4)

            	Declare cur cursor for
            	with scheduled as (select JobID, StatDate, sum(coalesce(netHours, 0)) as scheduledHours from ScheduleJobSummaryQuery where StatDate between @startDate and @endDate and PropertyID = @PropertyID group by JobID, StatDate),
            	projected as (select JobID, ShiftDate, sum(coalesce(Duration, 0)) as projectedHours from PlannedShift where ShiftDate between @startDate and @endDate and PropertyID = @PropertyID and ShiftType = 'O' group by JobID, ShiftDate)
            	select
            		a.ID, a.AvsSThresholdFrom, AvsSThresholdTo, sum(coalesce(scheduled.scheduledHours, 0)), sum(coalesce(projected.projectedHours, 0))
            	from
            		BriefingReportJobCache a left join scheduled on a.AssignmentID = scheduled.JobID and a.StatDate = scheduled.StatDate left join projected on a.AssignmentID = projected.JobID and a.StatDate = projected.ShiftDate
            	where
            		a.PropertyID = @PropertyID
            	group by
            		a.ID, a.StatDate, a.AvsSThresholdFrom, a.AvsSThresholdTo

            	open cur
            	fetch next from cur into @cacheId, @thresholdFrom, @thresholdTo, @scheduledHours, @projectedHours
            	while @@FETCH_STATUS = 0
            	BEGIN
            		set @scheduledHours = coalesce(@scheduledHours, 0)
            		set @projectedHours = coalesce(@projectedHours, 0)
            		set @qualityIssue = 0
            		set @costIssue = 0

            		if @scheduledHours > 0 and @projectedHours > 0
            		BEGIN
            			set @variance = (@scheduledHours - @projectedHours) / @projectedHours * 100.0

            			if @variance < -@thresholdFrom
            				set @qualityIssue = 1
            			if @variance > @thresholdTo
            				set @costIssue = 1

            			update BriefingReportJobCache set ScheduledHours = @scheduledHours, ProjectedHours = @projectedHours, SvsPQualityIssue = @qualityIssue, SvsPCostIssue = @costIssue where ID = @CacheId
            		END
            		fetch next from cur into @CacheID, @thresholdFrom, @thresholdTo, @scheduledHours, @projectedHours
            	END
            	close cur
            	deallocate cur
            END
           ]]>
      </procedure>

      <procedure name="usp_brief_prime_attendance">
         <![CDATA[
           create proc usp_brief_prime_attendance (@PropertyID int, @ForDate date) as
            BEGIN
            	Declare @sql varchar(max)
            	Declare @ppStart datetime = (select dbo.getPPStartDateForDate(@PropertyID, @ForDate));

            	if exists (select id from sysColumns where id = object_id('EmployeePoints') and name = 'RejectedByUserID')
            		set @sql = 'and RejectedByUserID is null'
            	else
            		set @sql = 'and Status <> ''E'''

            	set @sql = 'with points as (select bc.ID, sum(Points) as Points from BriefingReportJobCache bc join EmployeeJobStatus ejs on bc.AssignmentID = ejs.JobID and ejs.Home = ''Y'' and ''' +
            		convert(varchar, @ForDate, 110) + ''' between ejs.StartDate and ejs.EndDate and ejs.PropertyID = ' + convert(varchar, @PropertyID) +
            		' join EmployeePoints ep on ejs.EmployeeID = ep.EmployeeID and ep.PointsDate between ''' + convert(varchar, @ppStart, 110) + ''' and ''' + convert(varchar, @ForDate, 110) + ''' ' + @sql +
            		' group by bc.ID) update bc set AttendancePoints = Points from BriefingReportJobCache bc join points on bc.ID = points.ID'

            	exec (@sql)
            END
          ]]>
      </procedure>

      <procedure name="usp_brief_prime_shiftrequests">
         <![CDATA[
            create proc usp_brief_prime_shiftrequests (@PropertyID int, @forDate date) as
            BEGIN
            	Declare @ppStart datetime = (select dbo.getPPStartDateForDate(@PropertyID, @ForDate));

               with requests as
               (
               select
                       bc.ID, count(*) as ShiftRequests
               from
                      EmployeeShiftRequest sr join PlannedShift p on sr.PlannedShiftID = p.ID and P.PropertyID = @PropertyID and p.ShiftDate >= @ppStart and sr.Status = 'P'
                      join BriefingReportJobCache bc on p.JobID = bc.AssignmentID
               group by
                      bc.ID
               )
               update bc set ShiftRequests = requests.ShiftRequests from BriefingReportJobCache bc join requests on bc.ID = requests.ID
            END
          ]]>
      </procedure>

      <procedure name="usp_brief_prime_puncheswitherrors">
         <![CDATA[
            create proc usp_brief_prime_puncheswitherrors (@PropertyID int, @forDate date) as
            BEGIN
            	Declare @ppStart datetime = (select dbo.getPPStartDateForDate(@PropertyID, @ForDate));

            	with punches as
            	(
            	select
            		bc.ID, count(*) as PunchesWithErrors
            	from
            		EmployeeShift es join BriefingReportJobCache bc on es.JobID = bc.AssignmentID and es.PropertyID = @PropertyID and ShiftDate between @ppStart and @forDate and Flags & 1 = 1 and ShiftTypeCode = 'A'
            	group by
            		bc.ID
            	)
            	update bc set PunchesWithErrors = punches.PunchesWithErrors from BriefingReportJobCache bc join punches on bc.ID = punches.ID
            END
          ]]>
      </procedure>

      <procedure name="usp_brief_prime_tors">
         <![CDATA[
            create proc usp_brief_prime_tors (@PropertyID int, @forDate date) as
            BEGIN
            	with tor as
            	(
            		select
            			bc.ID, count(*) as tors
            		from
            			BriefingReportJobCache bc join EmployeeJobStatus ejs on bc.AssignmentID = ejs.JobID and ejs.Home = 'Y' and @ForDate between ejs.StartDate and ejs.EndDate and ejs.PropertyID = @PropertyID
            			join EmployeeTimeOff eto on ejs.EmployeeID = eto.EmployeeID and eto.Status = 'P'
            		group by
            			bc.ID
            	)
            	update bc set TimeOffRequests = tors from BriefingReportJobCache bc join tor on bc.ID = tor.ID
            END
          ]]>
      </procedure>

      <procedure name="usp_brief_prime_OT">
         <![CDATA[
            create proc usp_brief_prime_OT (@PropertyID int, @forDate date) as
            BEGIN
            	Declare @ppStart datetime = (select dbo.getPPStartDateForDate(@PropertyID, @ForDate));

            	with ot as
            	(
            	select
            		bc.ID, sum(coalesce(es.otHours, 0) + coalesce(es.dtHours, 0)) as totalOT, sum(coalesce(es.regHours, 0)) as totalReg
            	from
            		EmployeeShift es join BriefingReportJobCache bc on es.JobID = bc.AssignmentID and es.PropertyID = @PropertyID and ShiftDate between @ppStart and @forDate and ShiftTypeCode = 'A'
            	group by
            		bc.ID
            	)
            	update bc set OvertimeHours = totalOT, bc.regHours = totalReg from BriefingReportJobCache bc join ot on bc.ID = ot.ID
            END
          ]]>
      </procedure>

      <procedure name="usp_brief_prime_unfilled">
         <![CDATA[
            create proc usp_brief_prime_unfilled (@PropertyID int, @forDate date) as
            BEGIN
            	with unfilled as
            	(
            		select
            			bc.ID, count(*) as shiftCount
            		from
            			BriefingReportJobCache bc join PlannedShift ps on ps.JobID = bc.AssignmentID
            			left join EmployeeShift es on ps.ID = es.PlannedShiftID
            		where
            			ps.PropertyID = @PropertyID and ps.ShiftType = 'F' and ps.ShiftDate = DateAdd(dd, 1, @ForDate) and es.ID is null
            		group by
            			bc.ID
            	)
            	update bc set UnfilledShifts = shiftCount from BriefingReportJobCache bc join unfilled on bc.ID = unfilled.ID
            END
          ]]>
      </procedure>

      <procedure name="usp_brief_prime_job_cache">
         <![CDATA[
            create proc usp_brief_prime_job_cache (@PropertyID int, @ForDate date) as
            BEGIN
            	Declare @StartDate date = DateAdd(d, -3, @ForDate)
            	Declare @EndDate date = DateAdd(d, 3, @ForDate)

            	delete from BriefingReportJobCache where PropertyID = @PropertyID;

            	-- Insert all job records
            	with dates as (select DateAdd(d, -4, @ForDate) as StatDate union select DateAdd(d, -3, @ForDate) as StatDate union select DateAdd(d, -2, @ForDate) as StatDate union select DateAdd(d, -1, @ForDate) as StatDate union select @ForDate as StatDate union select DateAdd(d, 1, @ForDate) as StatDate union select DateAdd(d, 2, @ForDate) as StatDate union select DateAdd(d, 3, @ForDate) as StatDate)
            	insert into BriefingReportJobCache (PropertyID, StatDate, AssignmentID, AvsSThresholdFrom, AvsSThresholdTo, SvsPThresholdFrom, SvsPThresholdTo) select @PropertyID, d.StatDate, a.ID, StdVarianceFrom, StdVarianceTo, FstVarianceFrom, FstVarianceTo from Assignment a join LaborLevel l on a.LevelID = l.id and l.IsJob = 'Y' and a.PropertyID = @PropertyID join dates d on 1 = 1

            	exec usp_brief_prime_avss @PropertyID, @startDate, @ForDate
            	exec usp_brief_prime_svsp @PropertyID, @ForDate, @EndDate
            	exec usp_brief_prime_attendance @PropertyID, @ForDate
            	exec usp_brief_prime_shiftrequests @PropertyID, @ForDate
            	exec usp_brief_prime_puncheswitherrors @PropertyID, @ForDate
            	exec usp_brief_prime_tors @PropertyID, @ForDate
            	exec usp_brief_prime_OT @PropertyID, @ForDate
            	exec usp_brief_prime_unfilled @PropertyID, @ForDate
            END
          ]]>
      </procedure>

      <procedure name="usp_brief_prime_RC_cache">
         <![CDATA[
            create proc usp_brief_prime_RC_cache (@PropertyID int, @ForDate date) as
            BEGIN
            	delete from BriefingReportRCCache where PropertyID = @PropertyID

            	insert into
            		BriefingReportRCCache (PropertyID, StatDate, RevenueCenterID, RevenueCenterPeriodID, Covers)
            	select
            		@PropertyID, StatDate, RevenueCenterID, RevenueCenterPeriodID, sum(coalesce(AdjValue, FstValue, 0))
            	from
            		CoverKBIsQuery c join KBIStat s on c.KBIID = s.KBIID and s.StatDate = @ForDate
            	where
            		c.PropertyID = @PropertyID and s.PropertyID = @PropertyID and s.StatDate = @ForDate
            	group by
            		c.PropertyID, s.StatDate, c.RevenueCenterID, c.RevenueCenterPeriodID
            END
          ]]>
      </procedure>

      <procedure name="usp_brief_prime_cache">
         <![CDATA[
            create proc usp_brief_prime_cache (@PropertyID int, @forDate date) as
            BEGIN
            	exec usp_brief_prime_job_cache @PropertyID, @ForDate
            	exec usp_brief_prime_RC_cache @PropertyID, @forDate
            END
          ]]>
      </procedure>


      <procedure name="usp_brief_get_occupancy">
         <![CDATA[
            create proc usp_brief_get_occupancy (@PropertyID int, @portalUserId int, @forDate date, @tagValue nvarchar(max) OUTPUT, @Severity varchar(255) OUTPUT) as
            BEGIN
               -- Example: {"todaysOccupancy":46,"yesterdaysOccupancy":53,"avgForecastAccuracy":8.00,"totalRoomsOccupied":500}
               Declare @numberRooms decimal(9,2) = (select NumberRooms from Property where ID = @PropertyID)
               Declare @daysToAverage int = coalesce((select top 1 convert(int, configValue) from BriefingConfig where configName = 'ForecastAccuracyDaysBack' and (PropertyID is null or PropertyID = @PropertyID and PortalUserID is null or PortalUserID = @portalUserID) order by case when PortalUserID is not null then 1 else case when PropertyID is not null then 2 else 3 end end, PortalUserID), 14)
               Declare @todaysRooms int
               Declare @yesterdaysRooms int
               Declare @forecastAccuracy decimal(9,2);

               -- Get Today's and yesterday's forecasted occupancy
               with t as (select statDate, sum(coalesce(AdjValue, FstValue)) as forecastStatValue, sum(case when ActValue > 0 then ActValue else case when AdjValue > 0 then AdjValue else FstValue end end) as actualStatValue from MarketSegment ms join KBIStat k on ms.RoomsKBIID = k.KBIID and ms.MSTypeCode <> 'CS' and k.StatDate between dateadd(day, -@daysToAverage, @forDate) and @forDate and k.PropertyID = @PropertyID and ms.PropertyID = @PropertyID and coalesce(ActValue, AdjValue, FstValue) is not null and (ActValue > 0 or AdjValue > 0 or FstValue > 0) group by StatDate)
               select
                  @yesterdaysRooms = coalesce((select actualStatValue from t where statDate = dateadd(day, -1, @forDate)), 0),
                  @todaysRooms = coalesce((select forecastStatValue from t where statDate = @forDate), 0),
                  @forecastAccuracy = case when @numberRooms is null or @numberRooms = 0 then 0 else (select coalesce(round(avg(case when actualStatValue <> 0 then forecastStatValue / convert(decimal(9,2), actualStatValue) else 0 end) * 100.0 - 100, 0), 0)
               from t where statDate < @forDate) end;

               Declare @todaysOccupancy int = case when @numberRooms is null or @numberRooms = 0 then 0 else round(@todaysRooms / @numberRooms * 100.0, 0) end
               Declare @yesterdaysOccupancy int = case when @numberRooms is null or @numberRooms = 0 then 0 else round(@yesterdaysRooms / @numberRooms * 100.0, 0) end

               set @tagValue = '{"todaysOccupancy":' + convert(varchar, @todaysOccupancy) + ',"yesterdaysOccupancy":' + convert(varchar, @yesterdaysOccupancy) + ',"avgForecastAccuracy":' + convert(varchar, @forecastAccuracy) + ',"totalRoomsOccupied":' + convert(varchar, @todaysRooms) + '}'
               set @severity = case when abs(@forecastAccuracy) <= 10 then 'GOOD' else case when abs(@forecastAccuracy) <= 25 then 'NEUTRAL' else 'BAD' end end
            END
         ]]>
      </procedure>

      <procedure name="usp_brief_get_fbcovers">
         <![CDATA[
            create proc usp_brief_get_fbcovers (@PropertyID int, @portalUserId int, @forDate date, @tagValue nvarchar(max) OUTPUT, @Severity varchar(255) OUTPUT) as
            BEGIN
            	-- Example: {"totalFnBCovers":200,"outletName":"Outlet Name","RCPeriods":[{"name":"Breakfast","value":120},{"name":"Lunch","value":97},{"name":"Dinner","value":180}]}
            	-- Expects BriefingReportRCCache to be primed in advance
            	Declare @revenueCenterId int = coalesce ((select top 1 convert(int, configValue) from BriefingConfig where configName = 'RevenueCenterID' and (PropertyID is null or PropertyID = @PropertyID and PortalUserID is null or PortalUserID = @PortalUserID) order by case when PortalUserID is not null then 1 else case when PropertyID is not null then 2 else 3 end end, PortalUserID), (select RevenueCenterID from (select top 1 RevenueCenterID, sum(covers) as Covers from BriefingReportRCCache where PropertyID = @PropertyID and RevenueCenterID in (select RevenueCenterID from EffectiveRevenueCenterSecurityQuery where PortalUserID = @PortalUserID and HasAccess = 'Y') group by RevenueCenterID order by 2 desc) tmp))

            	if @revenueCenterId is null
            	begin
            		set @tagValue = '{"totalFnBCovers":0,"outletName":"No F&B Outlets","RCPeriods":[]}'
            		set @Severity = 'NEUTRAL'
            	end
            	else
            	begin
            		Declare @periodName varchar(255)
            		Declare @StatValue int
            		Declare @addComma tinyint = 0
            		Declare @outletName varchar(255) = (select Name from RevenueCenter where ID = @revenueCenterId)
            		Declare @totalCovers int = (select sum(Covers) from BriefingReportRCCache where PropertyID = @PropertyID)
            		Declare @json varchar(max) = '{"totalFnBCovers":' + convert(varchar, @totalCovers) + ',"outletName":"' + @outletName + '","RCPeriods":['

            		Declare rcCursor cursor for
            		select PeriodName, sum(covers) as StatValue from BriefingReportRCCache c join RevenueCenterPeriod r on c.RevenueCenterPeriodID = r.ID where c.PropertyID = @PropertyID and r.RevenueCenterID = @revenueCenterId group by r.RevenueCenterID, r.periodName, r.PeriodNo order by r.PeriodNo

            		open rcCursor
            		fetch next from rcCursor into @periodName, @statValue
            		while @@FETCH_STATUS = 0
            		BEGIN
            			if @addComma <> 0
            				set @json = @json + ','
            			else
            				set @addComma = 1

            			set @json = @json + '{"name":"' + @periodName + '","value":' + convert(varchar, coalesce(@statValue, 0)) + '}'
            			fetch next from rcCursor into @periodName, @statValue
            		END

            		close rcCursor
            		deallocate rcCursor

            		set @tagValue = @json + ']}'
            		set @Severity = 'NEUTRAL'
            	end
            END
         ]]>
      </procedure>

      <procedure name="usp_brief_get_bqtcovers">
         <![CDATA[
            create proc usp_brief_get_bqtcovers (@PropertyID int, @portalUserId int, @forDate date, @tagValue nvarchar(max) OUTPUT, @Severity varchar(255) OUTPUT) as
            BEGIN
            	-- Example: {"BQTCovers":225}
            	Declare @dbName varchar(50) = coalesce((select top 1 configValue from BriefingConfig where configName = 'DatabaseName' and (PropertyID is null or PropertyID = @PropertyID and PortalUserID is null or PortalUserID = @portalUserID) order by case when PortalUserID is not null then 1 else case when PropertyID is not null then 2 else 3 end end), DB_NAME())
            	Declare @bqtKBIID int
            	Declare @bqtCovers int

            	Declare @sql nvarchar(max)
            	Declare @paramDef nvarchar(255)
            	Declare @retValue int

            	if @@SERVERNAME like '%dtx%'
            	BEGIN
            		if @@SERVERNAME like '%dtxsql21%'
            			set @sql = N'select @bqtKBIIDs = KBIID from dashboard.dbo.BenchmarkKBIMapping where BenchmarkKBIID = 3 and DBName = ''' + @dbName + ''' and PropertyID = ' + convert(varchar, @PropertyID)
            		else
            			set @sql = N'select @bqtKBIID = KBIID from [dtxsql21.database.unifocus.com].dashboard.dbo.BenchmarkKBIMapping where BenchmarkKBIID = 3 and DBName = ''' + @dbName + ''' and PropertyID = ' + convert(varchar, @PropertyID)
            		set @paramDef = N'@bqtKBIID int OUTPUT';
            		EXEC sp_executesql @sql, @paramDef, @bqtKBIID=@retValue OUTPUT;
            	END

            	select @bqtCovers = coalesce((select case when @bqtKBIID is null then 0 else (select coalesce(AdjValue, FstValue) from KBIStat where PropertyID = @PropertyID and KBIID = @bqtKBIID and StatDate = @forDate) end), 0)

            	set @tagValue = '{"BQTCovers":' + convert(varchar, @bqtCovers) + '}'
            	set @Severity = 'NEUTRAL'
            END
         ]]>
      </procedure>

      <procedure name="usp_brief_get_periodends">
         <![CDATA[
            create proc usp_brief_get_periodends (@PropertyID int, @tagValue nvarchar(max) OUTPUT, @Severity varchar(255) OUTPUT) as
            BEGIN
            	-- Example: {"PeriodEnds":"2021-03-21"}
            	select @tagValue = '{"PeriodEnds":"' + convert(varchar, (select PeriodEndDate from Property where ID = @PropertyID), 23) + '"}'
            	select @Severity= 'NEUTRAL'
            END
         ]]>
      </procedure>

      <procedure name="usp_brief_get_weekends">
         <![CDATA[
            create proc usp_brief_get_weekends (@PropertyID int, @tagValue nvarchar(max) OUTPUT, @Severity varchar(255) OUTPUT) as
            BEGIN
            	-- Example: {"WeekEnds":2}
            	Declare @ppEnds DateTime
            	Declare @PPCode varchar(25)
            	Declare @ppEndsDays int

            	select @ppEnds = CurrentPayPeriodEndDate, @PPCode = PayPeriodTypeCode from PayGroup where ID in (select DefaultPayGroupID from Property where ID = @PropertyID)
            	select @ppEndsDays = DateDiff(d, getDate(), @ppEnds)

            	-- Quick fix for the days following the closing of the pay period or a second week in a bi-weekly pay period
            	-- The report, right or wrong, says "Week ends in __ days". This is not a data point we really have and must calculate it for now.
            	-- The correct verbiage in the report should be "Pay period ends in __ days"
            	if @ppEndsDays < 0
            	BEGIN
            		set @ppEndsDays = @ppEndsDays + case when @PPCode = 'BW' then 14 else 7 end
            	END

            	select @tagValue = '{"WeekEnds":' + convert(varchar, @ppEndsDays, 23) + '}'
            	select @Severity = 'NEUTRAL'
            END
         ]]>
      </procedure>

      <procedure name="usp_brief_get_attpoints">
         <![CDATA[
           create proc usp_brief_get_attpoints (@PropertyID int, @assignmentIdList varchar(max), @forDate date, @tagValue nvarchar(max) OUTPUT, @Severity varchar(255) OUTPUT) as
            BEGIN
            	-- Example: {"AttendancePoints":15}
            	Declare @sql nvarchar(max)
            	Declare @paramDef nvarchar(255)
            	Declare @retValue int

            	select @sql = N'select @retValOUT = sum(coalesce(AttendancePoints, 0)) from BriefingReportJobCache where PropertyID = ' + convert(varchar, @PropertyID) + ' and AssignmentID in (' + @assignmentIdList + ') and StatDate = ''' + convert(varchar, @forDate, 110) + '''';
            	set @paramDef = N'@retValOUT int OUTPUT';

            	EXEC sp_executesql @sql, @paramDef, @retValOUT=@retValue OUTPUT;

            	select @tagValue = '{"AttendancePoints":' + convert(varchar, coalesce(@retValue, 0)) + '}'
            	select @Severity = case when coalesce(@retValue, 0) = 0 then 'NEUTRAL' else 'BAD' end
            END
         ]]>
      </procedure>

      <procedure name="usp_brief_get_shiftrequests">
         <![CDATA[
            create proc usp_brief_get_shiftrequests (@PropertyID int, @assignmentIdList varchar(max), @forDate date, @tagValue nvarchar(max) OUTPUT, @Severity varchar(255) OUTPUT) as
            BEGIN
            	-- Example: {"ShiftRequests":15}
            	Declare @sql nvarchar(max)
            	Declare @paramDef nvarchar(255)
            	Declare @retValue int

            	select @sql = N'select @retValOUT = sum(coalesce(ShiftRequests, 0)) from BriefingReportJobCache where PropertyID = ' + convert(varchar, @PropertyID) + ' and AssignmentID in (' + @assignmentIdList + ') and StatDate = ''' + convert(varchar, @forDate, 110) + '''';
            	set @paramDef = N'@retValOUT int OUTPUT';

            	EXEC sp_executesql @sql, @paramDef, @retValOUT=@retValue OUTPUT;

            	select @tagValue = '{"ShiftRequests":' + convert(varchar, coalesce(@retValue, 0)) + '}'
            	select @Severity = case when coalesce(@retValue, 0) = 0 then 'NEUTRAL' else 'BAD' end
            END
         ]]>
      </procedure>

      <procedure name="usp_brief_get_puncheswitherrors">
         <![CDATA[
            create proc usp_brief_get_puncheswitherrors (@PropertyID int, @assignmentIdList varchar(max), @forDate date, @tagValue nvarchar(max) OUTPUT, @Severity varchar(255) OUTPUT) as
            BEGIN
            	-- Example: {"PunchesWithErrors":50}
            	Declare @sql nvarchar(max)
            	Declare @paramDef nvarchar(255)
            	Declare @retValue int

            	select @sql = N'select @retValOUT = sum(coalesce(PunchesWithErrors, 0)) from BriefingReportJobCache where PropertyID = ' + convert(varchar, @PropertyID) + ' and AssignmentID in (' + @assignmentIdList + ') and StatDate = ''' + convert(varchar, @forDate, 110) + '''';
            	set @paramDef = N'@retValOUT int OUTPUT';

            	EXEC sp_executesql @sql, @paramDef, @retValOUT=@retValue OUTPUT;

            	select @tagValue = '{"PunchesWithErrors":' + convert(varchar, coalesce(@retValue, 0)) + '}'
            	select @Severity = case when coalesce(@retValue, 0) = 0 then 'NEUTRAL' else 'BAD' end
            END
         ]]>
      </procedure>

      <procedure name="usp_brief_get_tors">
         <![CDATA[
            create proc usp_brief_get_tors (@PropertyID int, @assignmentIdList varchar(max), @forDate date, @tagValue nvarchar(max) OUTPUT, @Severity varchar(255) OUTPUT) as
            BEGIN
            	-- Example: {"TimeOffRequests":12}
            	Declare @sql nvarchar(max)
            	Declare @paramDef nvarchar(255)
            	Declare @retValue int

            	select @sql = N'select @retValOUT = sum(coalesce(TimeOffRequests, 0)) from BriefingReportJobCache where PropertyID = ' + convert(varchar, @PropertyID) + ' and AssignmentID in (' + @assignmentIdList + ') and StatDate = ''' + convert(varchar, @forDate, 110) + '''';
            	set @paramDef = N'@retValOUT int OUTPUT';

            	EXEC sp_executesql @sql, @paramDef, @retValOUT=@retValue OUTPUT;

            	select @tagValue = '{"TimeOffRequests":' + convert(varchar, coalesce(@retValue, 0)) + '}'
            	select @Severity = 'NEUTRAL'
            END
         ]]>
      </procedure>

      <procedure name="usp_brief_get_ptd_ot">
         <![CDATA[
            create proc usp_brief_get_ptd_ot (@PropertyID int, @assignmentIdList varchar(max), @forDate date, @tagValue nvarchar(max) OUTPUT, @Severity varchar(255) OUTPUT) as
            BEGIN
            	-- Example: {"PeriodToDateOT":13}
            	Declare @sql nvarchar(max)
            	Declare @paramDef nvarchar(255)
            	Declare @OTValue decimal(19,4)
            	Declare @RegValue decimal(19,4)
            	Declare @TotOT decimal(19,4)

            	select @sql = N'select @retOTOUT = sum(coalesce(OvertimeHours, 0)), @retRegOUT = sum(coalesce(RegHours, 0)) from BriefingReportJobCache where PropertyID = ' + convert(varchar, @PropertyID) + ' and AssignmentID in (' + @assignmentIdList + ') and StatDate = ''' + convert(varchar, @forDate, 110) + '''';
            	set @paramDef = N'@retOTOUT decimal(19,4) OUTPUT,@retRegOUT decimal(19,4) OUT';

            	EXEC sp_executesql @sql, @paramDef, @retOTOUT=@OTValue OUTPUT, @retRegOUT=@RegValue OUTPUT;

            	select @tagValue = '{"PeriodToDateOT":' + convert(varchar, coalesce(@OTValue, 0)) + '}'
            	select @totOT = case when @RegValue + @OTValue > 0 then (@OTValue) / (@RegValue + @OTValue) else 0 end
            	select @Severity = case when @totOT <= .03 then 'GOOD' else case when @totOT <= .05 then 'NEUTRAL' else 'BAD' end end
            END
         ]]>
      </procedure>

      <procedure name="usp_brief_get_avss_day">
         <![CDATA[
         create proc usp_brief_get_avss_day (@PropertyID int, @assignmentIdList varchar(max), @forDate date, @tagValue nvarchar(max) OUTPUT) as
         BEGIN
         	Declare @sql nvarchar(max)
         	Declare @paramDef nvarchar(255)
         	Declare @VarValue decimal(9,4)
         	Declare @QualValue int
         	Declare @CostValue int

         	select @sql = N'select @retVarOUT = case when sum(coalesce(StandardHours, 0)) = 0 then 1.0 else (sum(coalesce(ActualHours, 0)) - sum(coalesce(StandardHours, 0))) / sum(coalesce(StandardHours, 0)) end * 100.0, @retQualOUT = sum(coalesce(AvsSQualityIssue, 0)), @retCostOUT = sum(coalesce(AvsSCostIssue, 0)) from BriefingReportJobCache where PropertyID = ' + convert(varchar, @PropertyID) + ' and AssignmentID in (' + @assignmentIdList + ') and StatDate = ''' + convert(varchar, @forDate, 110) + '''';
         	set @paramDef = N'@retVarOUT decimal(9,4) OUTPUT, @retQualOUT int OUT, @retCostOUT int OUT';

         	EXEC sp_executesql @sql, @paramDef, @retVarOUT=@VarValue OUTPUT, @retQualOUT=@QualValue OUTPUT, @retCostOUT=@CostValue OUTPUT;

         	set @tagValue = '[{"QualityIssues":' + convert(varchar, coalesce(@QualValue, 0)) + '},{"CostIssues":' + convert(varchar, coalesce(@CostValue, 0)) + '},{"variance":"' + case when @VarValue is not null then convert(varchar, @VarValue) else '' end + '"}]'
         END
         ]]>
      </procedure>

      <procedure name="usp_brief_get_avss">
         <![CDATA[
         create proc usp_brief_get_avss (@PropertyID int, @assignmentIdList varchar(max), @forDate date, @tagValue nvarchar(max) OUTPUT, @Severity varchar(255) OUTPUT) as
         BEGIN
         	-- Example: {"AvsS":[{"Yesterday":[{"QualityIssues":3},{CostIssues:0},{"variance":"-3.5"}]},{"2DaysAgo":[{"QualityIssues":1},{CostIssues:2},{"variance":".5"}]},{"3DaysAgo":[{"QualityIssues":0},{CostIssues:0},{"variance":"2.5"}]},{"4DaysAgo":[{"QualityIssues":1},{CostIssues:2},{"variance":"-1.75"}]}]}
         	Declare @json nvarchar(max) = '{"AvsS":['
         	Declare @dayDate datetime;

         	set @dayDate = DateAdd(dd, -1, @forDate)
         	exec usp_brief_get_avss_day @PropertyID, @assignmentIdList, @dayDate, @tagValue OUTPUT
         	set @json = @json + '{"Yesterday":' + @tagValue + '},'

         	set @dayDate = DateAdd(dd, -2, @forDate)
         	exec usp_brief_get_avss_day @PropertyID, @assignmentIdList, @dayDate, @tagValue OUTPUT
         	set @json = @json + '{"2DaysAgo":' + @tagValue + '},'

         	set @dayDate = DateAdd(dd, -3, @forDate)
         	exec usp_brief_get_avss_day @PropertyID, @assignmentIdList, @dayDate, @tagValue OUTPUT
         	set @json = @json + '{"3DaysAgo":' + @tagValue + '},'

         	set @dayDate = DateAdd(dd, -4, @forDate)
         	exec usp_brief_get_avss_day @PropertyID, @assignmentIdList, @dayDate, @tagValue OUTPUT
         	set @json = @json + '{"4DaysAgo":' + @tagValue + '}]}'

         	set @tagValue = @json
         	set @Severity = 'NEUTRAL'
         END
         ]]>
      </procedure>

      <procedure name="usp_brief_get_svsp_day">
         <![CDATA[
         create proc usp_brief_get_svsp_day (@PropertyID int, @assignmentIdList varchar(max), @forDate date, @tagValue nvarchar(max) OUTPUT) as
         BEGIN
         	Declare @sql nvarchar(max)
         	Declare @paramDef nvarchar(255)
         	Declare @VarValue decimal(9,4)
         	Declare @QualValue int
         	Declare @CostValue int

         	select @sql = N'select @retVarOUT = case when sum(coalesce(ProjectedHours, 0)) = 0 then 1.0 else (sum(coalesce(ScheduledHours, 0)) - sum(coalesce(ProjectedHours, 0))) / sum(coalesce(ProjectedHours, 0)) end * 100.0, @retQualOUT = sum(coalesce(SvsPQualityIssue, 0)), @retCostOUT = sum(coalesce(SvsPCostIssue, 0)) from BriefingReportJobCache where PropertyID = ' + convert(varchar, @PropertyID) + ' and AssignmentID in (' + @assignmentIdList + ') and StatDate = ''' + convert(varchar, @forDate, 110) + '''';
         	set @paramDef = N'@retVarOUT decimal(9,4) OUTPUT, @retQualOUT int OUT, @retCostOUT int OUT';

         	EXEC sp_executesql @sql, @paramDef, @retVarOUT=@VarValue OUTPUT, @retQualOUT=@QualValue OUTPUT, @retCostOUT=@CostValue OUTPUT;

         	set @tagValue = '[{"QualityIssues":' + convert(varchar, coalesce(@QualValue, 0)) + '},{"CostIssues":' + convert(varchar, coalesce(@CostValue, 0)) + '},{"variance":"' + case when @VarValue is not null then convert(varchar, @VarValue) else '' end + '"}]'
         END
         ]]>
      </procedure>

      <procedure name="usp_brief_get_svsp">
         <![CDATA[
         create proc usp_brief_get_svsp (@PropertyID int, @assignmentIdList varchar(max), @forDate date, @tagValue nvarchar(max) OUTPUT, @Severity varchar(255) OUTPUT) as
         BEGIN
         	-- Example: {"svsp":[{"Today":[{"QualityIssues":0},{CostIssues:0},{"variance":"2.5"}]},{"Tomorrow":[{"QualityIssues":1},{CostIssues:2},{"variance":"-1.75"}]},{"2DaysFromNow":[{"QualityIssues":3},{CostIssues:0},{"variance":"-3.5"}]},{"3DaysFromNow":[{"QualityIssues":1},{CostIssues:2},{"variance":".5"}]}]}
         	Declare @json nvarchar(max) = '{"svsp":['
         	Declare @dayDate datetime;

         	set @dayDate = @forDate
         	exec usp_brief_get_svsp_day @PropertyID, @assignmentIdList, @dayDate, @tagValue OUTPUT
         	set @json = @json + '{"Today":' + @tagValue + '},'

         	set @dayDate = DateAdd(dd, 1, @forDate)
         	exec usp_brief_get_svsp_day @PropertyID, @assignmentIdList, @dayDate, @tagValue OUTPUT
         	set @json = @json + '{"Tomorrow":' + @tagValue + '},'

         	set @dayDate = DateAdd(dd, 2, @forDate)
         	exec usp_brief_get_svsp_day @PropertyID, @assignmentIdList, @dayDate, @tagValue OUTPUT
         	set @json = @json + '{"2DaysLater":' + @tagValue + '},'

         	set @dayDate = DateAdd(dd, 3, @forDate)
         	exec usp_brief_get_svsp_day @PropertyID, @assignmentIdList, @dayDate, @tagValue OUTPUT
         	set @json = @json + '{"3DaysLater":' + @tagValue + '}]}'

         	set @tagValue = @json
         	set @Severity = 'NEUTRAL'
         END
         ]]>
      </procedure>

      <procedure name="usp_brief_unfilled_shifts">
         <![CDATA[
            create proc usp_brief_unfilled_shifts (@PropertyID int, @assignmentIdList varchar(max), @forDate date, @tagValue nvarchar(max) OUTPUT, @Severity varchar(255) OUTPUT) as
            BEGIN
            	-- Example: {"UnfilledShifts":7}
            	Declare @sql nvarchar(max)
            	Declare @paramDef nvarchar(255)
            	Declare @retValue int

            	select @sql = N'select @retValOUT = sum(coalesce(UnfilledShifts, 0)) from BriefingReportJobCache where PropertyID = ' + convert(varchar, @PropertyID) + ' and AssignmentID in (' + @assignmentIdList + ') and StatDate = ''' + convert(varchar, @forDate, 110) + '''';
            	set @paramDef = N'@retValOUT int OUTPUT';

            	EXEC sp_executesql @sql, @paramDef, @retValOUT=@retValue OUTPUT;

            	select @tagValue = '{"UnfilledShifts":' + convert(varchar, coalesce(@retValue, 0)) + '}'
            	select @Severity = case when coalesce(@retValue, 0) = 0 then 'NEUTRAL' else 'BAD' end
            END
         ]]>
      </procedure>

      <other>
         <![CDATA[
         if exists (select name from dbo.sysobjects where name = 'budgetdata_insteadof_insert_update' and type = 'TR')
            drop trigger budgetdata_insteadof_insert_update
         GO
         create trigger budgetdata_insteadof_insert_update on BudgetData instead of insert,update as
         begin
            declare @ID integer;
            declare @PropertyID integer;
            declare @BudgetDatasetID integer;
            declare @BudgetLineID integer;
            declare @StatTypeCode varchar(2);
            declare @Year smallint;
            declare @PeriodNo smallint;
            declare @NumberUnits decimal(19,2);
            declare @Rate decimal(19,4);
            declare @Factor decimal(19,4);
            declare @FixedDollars decimal(19,4);
            declare @TotalDollars decimal(19,4);
            declare @TotalDollarsCorp decimal(19,4);
            declare @PercentOfParent decimal(9,4);
            declare @PercentOfLine decimal(9,4);
            declare @GrossUnits decimal(19,4);
            declare @AdjUnits decimal(19,4);
            declare @ReAssignedDollars decimal(19,4);
            declare @AdjUnitsFromStd decimal(19,4);
            declare @AdjustedRate decimal(19,4);
            declare @OTHours decimal(19,4);
            declare @OTRate decimal(19,4);

            declare @number_deleted bigint;
            declare @number_inserted bigint;

            declare inserted_cursor cursor for select ID,PropertyID,BudgetDatasetID,BudgetLineID,StatTypeCode,Year,PeriodNo,NumberUnits,Rate,Factor,FixedDollars,TotalDollars,TotalDollarsCorp,PercentOfParent,PercentOfLine,GrossUnits,AdjUnits,ReAssignedDollars,AdjUnitsFromStd,AdjustedRate,OTHours,OTRate from inserted

            select @number_deleted = count(*) from deleted;
            select @number_inserted = count(*) from inserted;

            if @number_deleted = 0 and @number_inserted = 0
            begin
               return;
            end;

            open inserted_cursor

            fetch next from inserted_cursor into
               @ID, @PropertyID, @BudgetDatasetID, @BudgetLineID, @StatTypeCode, @Year, @PeriodNo, @NumberUnits, @Rate, @Factor, @FixedDollars, @TotalDollars, @TotalDollarsCorp,
               @PercentOfParent, @PercentOfLine, @GrossUnits, @AdjUnits, @ReAssignedDollars, @AdjUnitsFromStd, @AdjustedRate, @OTHours, @OTRate;

            while @@fetch_status = 0
            begin
               if @BudgetDatasetID is null or @BudgetDatasetID = 0
               begin
                  select @BudgetDatasetID = ID from BudgetDataset where PropertyID = @PropertyID and Year = @Year and StatTypeCode = @StatTypeCode
               end;

               if @number_deleted > 0 and @number_inserted > 0
                  update BudgetData set PropertyID = @PropertyID,
                                        BudgetDatasetID = @BudgetDatasetID,
                                        BudgetLineID = @BudgetLineID,
                                        PeriodNo = @PeriodNo,
                                        NumberUnits = @NumberUnits,
                                        Rate = @Rate,
                                        Factor = @Factor,
                                        FixedDollars = @FixedDollars,
                                        TotalDollars = @TotalDollars,
                                        TotalDollarsCorp = @TotalDollarsCorp,
                                        PercentOfParent = @PercentOfParent,
                                        PercentOfLine = @PercentOfLine,
                                        GrossUnits = @GrossUnits,
                                        AdjUnits = @AdjUnits,
                                        ReAssignedDollars = @ReAssignedDollars,
                                        AdjUnitsFromStd = @AdjUnitsFromStd,
                                        AdjustedRate = @AdjustedRate,
                                        OTHours = @OTHours,
                                        OTRate = @OTRate,
                                        StatTypeCode = @StatTypeCode,
                                        Year = @Year
                  where ID = @ID
               else
               begin
                  insert into BudgetData
                  (PropertyID,BudgetDatasetID,BudgetLineID,PeriodNo,NumberUnits,Rate,Factor,FixedDollars,TotalDollars,TotalDollarsCorp,PercentOfParent,PercentOfLine,GrossUnits,AdjUnits,ReAssignedDollars,AdjUnitsFromStd,AdjustedRate,OTHours,OTRate,StatTypeCode,Year)
                  values (@PropertyID,@BudgetDatasetID,@BudgetLineID,@PeriodNo,@NumberUnits,@Rate,@Factor,@FixedDollars,@TotalDollars,@TotalDollarsCorp,@PercentOfParent,@PercentOfLine,@GrossUnits,@AdjUnits,@ReAssignedDollars,@AdjUnitsFromStd,@AdjustedRate,@OTHours,@OTRate,@StatTypeCode,@Year);
               end;

               fetch next from inserted_cursor into
                  @ID, @PropertyID, @BudgetDatasetID, @BudgetLineID, @StatTypeCode, @Year, @PeriodNo, @NumberUnits, @Rate, @Factor, @FixedDollars, @TotalDollars, @TotalDollarsCorp,
                  @PercentOfParent, @PercentOfLine, @GrossUnits, @AdjUnits, @ReAssignedDollars, @AdjUnitsFromStd, @AdjustedRate, @OTHours, @OTRate;
            end;

            close inserted_cursor;
            deallocate inserted_cursor;
         end;

         if exists (select name from dbo.sysobjects where name = 'budgetdataunitsadjustment_insteadof_insert_update' and type = 'TR')
            drop trigger budgetdataunitsadjustment_insteadof_insert_update
         GO
         create trigger budgetdataunitsadjustment_insteadof_insert_update on BudgetDataUnitsAdjustment instead of insert,update as
         begin
            declare @ID integer;
            declare @PropertyID integer;
            declare @BudgetDatasetID integer;
            declare @BudgetLineID integer;
            declare @StatTypeCode varchar(2);
            declare @Year smallint;
            declare @Description varchar(255);
            declare @ReAssignToBudgetLineID integer;
            declare @Period1Value decimal(19,2);
            declare @Period2Value decimal(19,2);
            declare @Period3Value decimal(19,2);
            declare @Period4Value decimal(19,2);
            declare @Period5Value decimal(19,2);
            declare @Period6Value decimal(19,2);
            declare @Period7Value decimal(19,2);
            declare @Period8Value decimal(19,2);
            declare @Period9Value decimal(19,2);
            declare @Period10Value decimal(19,2);
            declare @Period11Value decimal(19,2);
            declare @Period12Value decimal(19,2);
            declare @Period13Value decimal(19,2);

            declare @number_deleted bigint;
            declare @number_inserted bigint;

            declare inserted_cursor cursor for select ID,BudgetDatasetID,BudgetLineID,StatTypeCode,Year,Description,ReAssignToBudgetLineID,Period1Value,Period2Value,Period3Value,Period4Value,Period5Value,Period6Value,Period7Value,Period8Value,Period9Value,Period10Value,Period11Value,Period12Value,Period13Value from inserted

            select @number_deleted = count(*) from deleted;
            select @number_inserted = count(*) from inserted;

            if @number_deleted = 0 and @number_inserted = 0
            begin
               return;
            end;

            open inserted_cursor

            fetch next from inserted_cursor into
               @ID, @PropertyID, @BudgetDatasetID, @BudgetLineID, @StatTypeCode, @Year, @Description, @ReAssignToBudgetLineID, @Period1Value, @Period2Value, @Period3Value, @Period4Value, @Period5Value, @Period6Value, @Period7Value, @Period8Value, @Period9Value, @Period10Value, @Period11Value, @Period12Value;

            while @@fetch_status = 0
            begin
               select @PropertyID = PropertyID from BudgetLine where ID = @BudgetLineID

               if @BudgetDatasetID is null or @BudgetDatasetID = 0
               begin
                  select @BudgetDatasetID = ID from BudgetDataset where PropertyID = @PropertyID and Year = @Year and StatTypeCode = @StatTypeCode
               end;

               if @number_deleted > 0 and @number_inserted > 0
                  update BudgetDataUnitsAdjustment set BudgetDatasetID = @BudgetDatasetID,
                                                       BudgetLineID = @BudgetLineID,
                                                       StatTypeCode = @StatTypeCode,
                                                       Year = @Year,
                                                       Description = @Description,
                                                       ReAssignToBudgetLineID = @ReAssignToBudgetLineID,
                                                       Period1Value = @Period1Value,
                                                       Period2Value = @Period2Value,
                                                       Period3Value = @Period3Value,
                                                       Period4Value = @Period4Value,
                                                       Period5Value = @Period5Value,
                                                       Period6Value = @Period6Value,
                                                       Period7Value = @Period7Value,
                                                       Period8Value = @Period8Value,
                                                       Period9Value = @Period9Value,
                                                       Period10Value = @Period10Value,
                                                       Period11Value = @Period11Value,
                                                       Period12Value = @Period12Value,
                                                       Period13Value = @Period13Value
                  where ID = @ID
               else
               begin
                  insert into BudgetDataUnitsAdjustment
                  (BudgetDatasetID,BudgetLineID,StatTypeCode,Year,Description,ReAssignToBudgetLineID,Period1Value,Period2Value,Period3Value,Period4Value,Period5Value,Period6Value,Period7Value,Period8Value,Period9Value,Period10Value,Period11Value,Period12Value,Period13Value)
                  values (@BudgetDatasetID,@BudgetLineID,@StatTypeCode,@Year,@Description,@ReAssignToBudgetLineID,@Period1Value,@Period2Value,@Period3Value,@Period4Value,@Period5Value,@Period6Value,@Period7Value,@Period8Value,@Period9Value,@Period10Value,@Period11Value,@Period12Value,@Period13Value);
               end;

               fetch next from inserted_cursor into
                  @ID, @PropertyID, @BudgetDatasetID, @BudgetLineID, @StatTypeCode, @Year, @Description, @ReAssignToBudgetLineID, @Period1Value, @Period2Value, @Period3Value, @Period4Value, @Period5Value, @Period6Value, @Period7Value, @Period8Value, @Period9Value, @Period10Value, @Period11Value, @Period12Value;
            end;

            close inserted_cursor;
            deallocate inserted_cursor;
         end;

         if exists (select name from dbo.sysobjects where name = 'budgetkbistat_insteadof_insert_update' and type = 'TR')
            drop trigger budgetkbistat_insteadof_insert_update
         GO
         create trigger budgetkbistat_insteadof_insert_update on BudgetKBIStat instead of insert,update as
         begin
            declare @ID integer;
            declare @PropertyID integer;
            declare @BudgetDatasetID integer;
            declare @KBIID integer;
            declare @StatDate datetime;
            declare @StatTypeCode varchar(2);
            declare @SystemValue decimal(19,4);
            declare @StatValue decimal(19,4);
            declare @StatRate decimal(19,4);
            declare @StatTotal decimal(19,4);
            declare @CorpRate decimal(19,4);
            declare @CorpTotal decimal(19,4);
            declare @Year integer;

            declare @number_deleted bigint;
            declare @number_inserted bigint;

            declare inserted_cursor cursor for select ID,PropertyID,BudgetDatasetID,KBIID,StatTypeCode,StatDate,SystemValue,StatValue,StatRate,StatTotal,CorpRate,CorpTotal from inserted

            select @number_deleted = count(*) from deleted;
            select @number_inserted = count(*) from inserted;

            if @number_deleted = 0 and @number_inserted = 0
            begin
               return;
            end;

            open inserted_cursor

            fetch next from inserted_cursor into
               @ID, @PropertyID, @BudgetDatasetID, @KBIID, @StatTypeCode, @SystemValue, @StatValue, @StatRate, @StatTotal, @CorpRate, @CorpTotal;

            while @@fetch_status = 0
            begin
               select @Year = Year from FNYPeriodExploded where @StatDate between StartDate and EndDate

               if @BudgetDatasetID is null or @BudgetDatasetID = 0
               begin
                  select @BudgetDatasetID = ID from BudgetDataset where PropertyID = @PropertyID and Year = @Year and StatTypeCode = @StatTypeCode
               end;

               if @number_deleted > 0 and @number_inserted > 0
                  update BudgetKBIStat set PropertyID = @PropertyID,
                                           BudgetDatasetID = @BudgetDatasetID,
                                           KBIID = @KBIID,
                                           StatTypeCode = @StatTypeCode,
                                           SystemValue = @SystemValue,
                                           StatValue = @StatValue,
                                           StatRate = @StatRate,
                                           StatTotal = @StatTotal,
                                           CorpRate = @CorpRate,
                                           CorpTotal = @CorpTotal
                  where ID = @ID
               else
               begin
                  insert into BudgetKBIStat
                  (PropertyID,BudgetDatasetID,KBIID,StatTypeCode,SystemValue,StatValue,StatRate,StatTotal,CorpRate,CorpTotal)
                  values (@PropertyID,@BudgetDatasetID,@KBIID,@StatTypeCode,@SystemValue,@StatValue,@StatRate,@StatTotal,@CorpRate,@CorpTotal);
               end;

               fetch next from inserted_cursor into
                  @ID, @PropertyID, @BudgetDatasetID, @KBIID, @StatTypeCode, @SystemValue, @StatValue, @StatRate, @StatTotal, @CorpRate, @CorpTotal;
            end;

            close inserted_cursor;
            deallocate inserted_cursor;
         end;

         if exists (select name from dbo.sysobjects where name = 'budgetjobclassadjustment_insteadof_insert_update' and type = 'TR')
            drop trigger budgetjobclassadjustment_insteadof_insert_update
         GO
         create trigger budgetjobclassadjustment_insteadof_insert_update on BudgetJobclassAdjustment instead of insert,update as
         begin
            declare @ID integer;
            declare @PropertyID integer;
            declare @BudgetDatasetID integer;
            declare @JobclassID integer;
            declare @StatDate datetime;
            declare @StatTypeCode varchar(2);
            declare @AdjustmentType varchar(3);
            declare @Amount decimal(19,4);
            declare @Description nvarchar(50);
            declare @Notes nvarchar(max);
            declare @Year integer;

            declare @number_deleted bigint;
            declare @number_inserted bigint;

            declare inserted_cursor cursor for select ID,PropertyID,BudgetDatasetID,JobclassID,StatTypeCode,StatDate,AdjustmentType,Amount,Description,Notes from inserted

            select @number_deleted = count(*) from deleted;
            select @number_inserted = count(*) from inserted;

            if @number_deleted = 0 and @number_inserted = 0
            begin
               return;
            end;

            open inserted_cursor

            fetch next from inserted_cursor into
               @ID, @PropertyID, @BudgetDatasetID, @JobclassID, @StatTypeCode, @StatDate, @AdjustmentType, @Amount, @Description, @Notes;

            while @@fetch_status = 0
            begin
               select @Year = Year from FNYPeriodExploded where @StatDate between StartDate and EndDate

               if @BudgetDatasetID is null or @BudgetDatasetID = 0
               begin
                  select @BudgetDatasetID = ID from BudgetDataset where PropertyID = @PropertyID and Year = @Year and StatTypeCode = @StatTypeCode
               end;

               if @number_deleted > 0 and @number_inserted > 0
                  update BudgetJobclassAdjustment set PropertyID = @PropertyID,
                                                      BudgetDatasetID = @BudgetDatasetID,
                                                      JobclassID = @JobclassID,
                                                      StatTypeCode = @StatTypeCode,
                                                      StatDate = @StatDate,
                                                      AdjustmentType = @AdjustmentType,
                                                      Amount = @Amount,
                                                      Description = @Description,
                                                      Notes = @Notes
                  where ID = @ID
               else
               begin
                  insert into BudgetJobclassAdjustment
                  (PropertyID,BudgetDatasetID,JobclassID,StatTypeCode,StatDate,AdjustmentType,Amount,Description,Notes)
                  values (@PropertyID,@BudgetDatasetID,@JobclassID,@StatTypeCode,@StatDate,@AdjustmentType,@Amount,@Description,@Notes);
               end;

               fetch next from inserted_cursor into
                  @ID, @PropertyID, @BudgetDatasetID, @JobclassID, @StatTypeCode, @StatDate, @AdjustmentType, @Amount, @Description, @Notes;
            end;

            close inserted_cursor;
            deallocate inserted_cursor;
         end;

         if exists (select name from dbo.sysobjects where name = 'budgetlinefactor_insteadof_insert_update' and type = 'TR')
            drop trigger budgetlinefactor_insteadof_insert_update
         GO
         create trigger budgetlinefactor_insteadof_insert_update on BudgetLineFactor instead of insert,update as
         begin
            declare @ID integer;
            declare @PropertyID integer;
            declare @BudgetDatasetID integer;
            declare @BudgetLineID integer;
            declare @StatTypeCode varchar(2);
            declare @Year smallint;
            declare @RangeNo smallint;
            declare @FromVolume integer;
            declare @ToVolume integer;
            declare @Period1Factor decimal(19,4);
            declare @Period2Factor decimal(19,4);
            declare @Period3Factor decimal(19,4);
            declare @Period4Factor decimal(19,4);
            declare @Period5Factor decimal(19,4);
            declare @Period6Factor decimal(19,4);
            declare @Period7Factor decimal(19,4);
            declare @Period8Factor decimal(19,4);
            declare @Period9Factor decimal(19,4);
            declare @Period10Factor decimal(19,4);
            declare @Period11Factor decimal(19,4);
            declare @Period12Factor decimal(19,4);
            declare @Period13Factor decimal(19,4);

            declare @number_deleted bigint;
            declare @number_inserted bigint;

            declare inserted_cursor cursor for select ID,PropertyID,BudgetDatasetID,BudgetLineID,StatTypeCode,Year,RangeNo,FromVolume,ToVolume,Period1Factor,Period2Factor,Period3Factor,Period4Factor,Period5Factor,Period6Factor,Period7Factor,Period8Factor,Period9Factor,Period10Factor,Period11Factor,Period12Factor,Period13Factor from inserted

            select @number_deleted = count(*) from deleted;
            select @number_inserted = count(*) from inserted;

            if @number_deleted = 0 and @number_inserted = 0
            begin
               return;
            end;

            open inserted_cursor

            fetch next from inserted_cursor into
               @ID, @PropertyID, @BudgetDatasetID, @BudgetLineID, @StatTypeCode, @Year, @RangeNo, @FromVolume, @ToVolume, @Period1Factor, @Period2Factor, @Period3Factor, @Period4Factor, @Period5Factor, @Period6Factor, @Period7Factor, @Period8Factor, @Period9Factor, @Period10Factor, @Period11Factor, @Period12Factor, @Period13Factor;

            while @@fetch_status = 0
            begin
               if @BudgetDatasetID is null or @BudgetDatasetID = 0
               begin
                  select @BudgetDatasetID = ID from BudgetDataset where PropertyID = @PropertyID and Year = @Year and StatTypeCode = @StatTypeCode
               end;

               if @number_deleted > 0 and @number_inserted > 0
                  update BudgetLineFactor set PropertyID = @PropertyID,
                                              BudgetDatasetID = @BudgetDatasetID,
                                              BudgetLineID = @BudgetLineID,
                                              StatTypeCode = @StatTypeCode,
                                              Year = @Year,
                                              RangeNo = @RangeNo,
                                              FromVolume = @FromVolume,
                                              ToVolume = @ToVolume,
                                              Period1Factor = @Period1Factor,
                                              Period2Factor = @Period2Factor,
                                              Period3Factor = @Period3Factor,
                                              Period4Factor = @Period4Factor,
                                              Period5Factor = @Period5Factor,
                                              Period6Factor = @Period6Factor,
                                              Period7Factor = @Period7Factor,
                                              Period8Factor = @Period8Factor,
                                              Period9Factor = @Period9Factor,
                                              Period10Factor = @Period10Factor,
                                              Period11Factor = @Period11Factor,
                                              Period12Factor = @Period12Factor,
                                              Period13Factor = @Period13Factor
                  where ID = @ID
               else
               begin
                  insert into BudgetLineFactor
                  (PropertyID,BudgetDatasetID,BudgetLineID,StatTypeCode,Year,RangeNo,FromVolume,ToVolume,Period1Factor,Period2Factor,Period3Factor,Period4Factor,Period5Factor,Period6Factor,Period7Factor,Period8Factor,Period9Factor,Period10Factor,Period11Factor,Period12Factor,Period13Factor)
                  values (@PropertyID,@BudgetDatasetID,@BudgetLineID,@StatTypeCode,@Year,@RangeNo,@FromVolume,@ToVolume,@Period1Factor,@Period2Factor,@Period3Factor,@Period4Factor,@Period5Factor,@Period6Factor,@Period7Factor,@Period8Factor,@Period9Factor,@Period10Factor,@Period11Factor,@Period12Factor,@Period13Factor);
               end;

               fetch next from inserted_cursor into
                  @ID, @PropertyID, @BudgetDatasetID, @BudgetLineID, @StatTypeCode, @Year, @RangeNo, @FromVolume, @ToVolume, @Period1Factor, @Period2Factor, @Period3Factor, @Period4Factor, @Period5Factor, @Period6Factor, @Period7Factor, @Period8Factor, @Period9Factor, @Period10Factor, @Period11Factor, @Period12Factor, @Period13Factor;
            end;

            close inserted_cursor;
            deallocate inserted_cursor;
         end;

         if exists (select name from dbo.sysobjects where name = 'budgetlinefixed_insteadof_insert_update' and type = 'TR')
            drop trigger budgetlinefixed_insteadof_insert_update
         GO
         create trigger budgetlinefixed_insteadof_insert_update on BudgetLineFixed instead of insert,update as
         begin
            declare @ID integer;
            declare @PropertyID integer;
            declare @BudgetDatasetID integer;
            declare @BudgetLineID integer;
            declare @StatTypeCode varchar(2);
            declare @Year smallint;
            declare @RangeNo smallint;
            declare @FromVolume integer;
            declare @ToVolume integer;
            declare @Period1Fixed decimal(19,4);
            declare @Period2Fixed decimal(19,4);
            declare @Period3Fixed decimal(19,4);
            declare @Period4Fixed decimal(19,4);
            declare @Period5Fixed decimal(19,4);
            declare @Period6Fixed decimal(19,4);
            declare @Period7Fixed decimal(19,4);
            declare @Period8Fixed decimal(19,4);
            declare @Period9Fixed decimal(19,4);
            declare @Period10Fixed decimal(19,4);
            declare @Period11Fixed decimal(19,4);
            declare @Period12Fixed decimal(19,4);
            declare @Period13Fixed decimal(19,4);

            declare @number_deleted bigint;
            declare @number_inserted bigint;

            declare inserted_cursor cursor for select ID,PropertyID,BudgetDatasetID,BudgetLineID,StatTypeCode,Year,RangeNo,FromVolume,ToVolume,Period1Fixed,Period2Fixed,Period3Fixed,Period4Fixed,Period5Fixed,Period6Fixed,Period7Fixed,Period8Fixed,Period9Fixed,Period10Fixed,Period11Fixed,Period12Fixed,Period13Fixed from inserted

            select @number_deleted = count(*) from deleted;
            select @number_inserted = count(*) from inserted;

            if @number_deleted = 0 and @number_inserted = 0
            begin
               return;
            end;

            open inserted_cursor

            fetch next from inserted_cursor into
               @ID, @PropertyID, @BudgetDatasetID, @BudgetLineID, @StatTypeCode, @Year, @RangeNo, @FromVolume, @ToVolume, @Period1Fixed, @Period2Fixed, @Period3Fixed, @Period4Fixed, @Period5Fixed, @Period6Fixed, @Period7Fixed, @Period8Fixed, @Period9Fixed, @Period10Fixed, @Period11Fixed, @Period12Fixed, @Period13Fixed;

            while @@fetch_status = 0
            begin
               if @BudgetDatasetID is null or @BudgetDatasetID = 0
               begin
                  select @BudgetDatasetID = ID from BudgetDataset where PropertyID = @PropertyID and Year = @Year and StatTypeCode = @StatTypeCode
               end;

               if @number_deleted > 0 and @number_inserted > 0
                  update BudgetLineFixed set PropertyID = @PropertyID,
                                              BudgetDatasetID = @BudgetDatasetID,
                                              BudgetLineID = @BudgetLineID,
                                              StatTypeCode = @StatTypeCode,
                                              Year = @Year,
                                              RangeNo = @RangeNo,
                                              FromVolume = @FromVolume,
                                              ToVolume = @ToVolume,
                                              Period1Fixed = @Period1Fixed,
                                              Period2Fixed = @Period2Fixed,
                                              Period3Fixed = @Period3Fixed,
                                              Period4Fixed = @Period4Fixed,
                                              Period5Fixed = @Period5Fixed,
                                              Period6Fixed = @Period6Fixed,
                                              Period7Fixed = @Period7Fixed,
                                              Period8Fixed = @Period8Fixed,
                                              Period9Fixed = @Period9Fixed,
                                              Period10Fixed = @Period10Fixed,
                                              Period11Fixed = @Period11Fixed,
                                              Period12Fixed = @Period12Fixed,
                                              Period13Fixed = @Period13Fixed
                  where ID = @ID
               else
               begin
                  insert into BudgetLineFixed
                  (PropertyID,BudgetDatasetID,BudgetLineID,StatTypeCode,Year,RangeNo,FromVolume,ToVolume,Period1Fixed,Period2Fixed,Period3Fixed,Period4Fixed,Period5Fixed,Period6Fixed,Period7Fixed,Period8Fixed,Period9Fixed,Period10Fixed,Period11Fixed,Period12Fixed,Period13Fixed)
                  values (@PropertyID,@BudgetDatasetID,@BudgetLineID,@StatTypeCode,@Year,@RangeNo,@FromVolume,@ToVolume,@Period1Fixed,@Period2Fixed,@Period3Fixed,@Period4Fixed,@Period5Fixed,@Period6Fixed,@Period7Fixed,@Period8Fixed,@Period9Fixed,@Period10Fixed,@Period11Fixed,@Period12Fixed,@Period13Fixed);
               end;

               fetch next from inserted_cursor into
                  @ID, @PropertyID, @BudgetDatasetID, @BudgetLineID, @StatTypeCode, @Year, @RangeNo, @FromVolume, @ToVolume, @Period1Fixed, @Period2Fixed, @Period3Fixed, @Period4Fixed, @Period5Fixed, @Period6Fixed, @Period7Fixed, @Period8Fixed, @Period9Fixed, @Period10Fixed, @Period11Fixed, @Period12Fixed, @Period13Fixed;
            end;

            close inserted_cursor;
            deallocate inserted_cursor;
         end;

         if exists (select name from dbo.sysobjects where name = 'budgetlinenote_insteadof_insert_update' and type = 'TR')
            drop trigger budgetlinenote_insteadof_insert_update
         GO
         create trigger budgetlinenote_insteadof_insert_update on BudgetLineNote instead of insert,update as
         begin
            declare @ID integer;
            declare @PropertyID integer;
            declare @BudgetDatasetID integer;
            declare @BudgetLineID integer;
            declare @StatTypeCode varchar(2);
            declare @Year smallint;
            declare @NoteText varchar(max);

            declare @number_deleted bigint;
            declare @number_inserted bigint;

            declare inserted_cursor cursor for select ID,BudgetDatasetID,BudgetLineID,StatTypeCode,Year,NoteText from inserted

            select @number_deleted = count(*) from deleted;
            select @number_inserted = count(*) from inserted;

            if @number_deleted = 0 and @number_inserted = 0
            begin
               return;
            end;

            open inserted_cursor

            fetch next from inserted_cursor into
               @ID, @PropertyID, @BudgetDatasetID, @BudgetLineID, @StatTypeCode, @Year, @NoteText;

            while @@fetch_status = 0
            begin
               select @PropertyID = PropertyID from BudgetLine where ID = @BudgetLineID

               if @BudgetDatasetID is null or @BudgetDatasetID = 0
               begin
                  select @BudgetDatasetID = ID from BudgetDataset where PropertyID = @PropertyID and Year = @Year and StatTypeCode = @StatTypeCode
               end;

               if @number_deleted > 0 and @number_inserted > 0
                  update BudgetLineNote set BudgetDatasetID = @BudgetDatasetID,
                                            BudgetLineID = @BudgetLineID,
                                            StatTypeCode = @StatTypeCode,
                                            Year = @Year,
                                            NoteText = @NoteText
                  where ID = @ID
               else
               begin
                  insert into BudgetLineNote
                  (BudgetDatasetID,BudgetLineID,StatTypeCode,Year,NoteText)
                  values (@BudgetDatasetID,@BudgetLineID,@StatTypeCode,@Year,@NoteText);
               end;

               fetch next from inserted_cursor into
                  @ID, @PropertyID, @BudgetDatasetID, @BudgetLineID, @StatTypeCode, @Year, @NoteText;
            end;

            close inserted_cursor;
            deallocate inserted_cursor;
         end;

         if exists (select name from dbo.sysobjects where name = 'budgetlinerate_insteadof_insert_update' and type = 'TR')
            drop trigger budgetlinerate_insteadof_insert_update
         GO
         create trigger budgetlinerate_insteadof_insert_update on BudgetLineRate instead of insert,update as
         begin
            declare @ID integer;
            declare @PropertyID integer;
            declare @BudgetDatasetID integer;
            declare @BudgetLineID integer;
            declare @StatTypeCode varchar(2);
            declare @Year smallint;
            declare @RangeNo smallint;
            declare @FromVolume integer;
            declare @ToVolume integer;
            declare @Period1Rate decimal(19,4);
            declare @Period2Rate decimal(19,4);
            declare @Period3Rate decimal(19,4);
            declare @Period4Rate decimal(19,4);
            declare @Period5Rate decimal(19,4);
            declare @Period6Rate decimal(19,4);
            declare @Period7Rate decimal(19,4);
            declare @Period8Rate decimal(19,4);
            declare @Period9Rate decimal(19,4);
            declare @Period10Rate decimal(19,4);
            declare @Period11Rate decimal(19,4);
            declare @Period12Rate decimal(19,4);
            declare @Period13Rate decimal(19,4);

            declare @number_deleted bigint;
            declare @number_inserted bigint;

            declare inserted_cursor cursor for select ID,PropertyID,BudgetDatasetID,BudgetLineID,StatTypeCode,Year,RangeNo,FromVolume,ToVolume,Period1Rate,Period2Rate,Period3Rate,Period4Rate,Period5Rate,Period6Rate,Period7Rate,Period8Rate,Period9Rate,Period10Rate,Period11Rate,Period12Rate,Period13Rate from inserted

            select @number_deleted = count(*) from deleted;
            select @number_inserted = count(*) from inserted;

            if @number_deleted = 0 and @number_inserted = 0
            begin
               return;
            end;

            open inserted_cursor

            fetch next from inserted_cursor into
               @ID, @PropertyID, @BudgetDatasetID, @BudgetLineID, @StatTypeCode, @Year, @RangeNo, @FromVolume, @ToVolume, @Period1Rate, @Period2Rate, @Period3Rate, @Period4Rate, @Period5Rate, @Period6Rate, @Period7Rate, @Period8Rate, @Period9Rate, @Period10Rate, @Period11Rate, @Period12Rate, @Period13Rate;

            while @@fetch_status = 0
            begin
               if @BudgetDatasetID is null or @BudgetDatasetID = 0
               begin
                  select @BudgetDatasetID = ID from BudgetDataset where PropertyID = @PropertyID and Year = @Year and StatTypeCode = @StatTypeCode
               end;

               if @number_deleted > 0 and @number_inserted > 0
                  update BudgetLineRate set PropertyID = @PropertyID,
                                              BudgetDatasetID = @BudgetDatasetID,
                                              BudgetLineID = @BudgetLineID,
                                              StatTypeCode = @StatTypeCode,
                                              Year = @Year,
                                              RangeNo = @RangeNo,
                                              FromVolume = @FromVolume,
                                              ToVolume = @ToVolume,
                                              Period1Rate = @Period1Rate,
                                              Period2Rate = @Period2Rate,
                                              Period3Rate = @Period3Rate,
                                              Period4Rate = @Period4Rate,
                                              Period5Rate = @Period5Rate,
                                              Period6Rate = @Period6Rate,
                                              Period7Rate = @Period7Rate,
                                              Period8Rate = @Period8Rate,
                                              Period9Rate = @Period9Rate,
                                              Period10Rate = @Period10Rate,
                                              Period11Rate = @Period11Rate,
                                              Period12Rate = @Period12Rate,
                                              Period13Rate = @Period13Rate
                  where ID = @ID
               else
               begin
                  insert into BudgetLineRate
                  (PropertyID,BudgetDatasetID,BudgetLineID,StatTypeCode,Year,RangeNo,FromVolume,ToVolume,Period1Rate,Period2Rate,Period3Rate,Period4Rate,Period5Rate,Period6Rate,Period7Rate,Period8Rate,Period9Rate,Period10Rate,Period11Rate,Period12Rate,Period13Rate)
                  values (@PropertyID,@BudgetDatasetID,@BudgetLineID,@StatTypeCode,@Year,@RangeNo,@FromVolume,@ToVolume,@Period1Rate,@Period2Rate,@Period3Rate,@Period4Rate,@Period5Rate,@Period6Rate,@Period7Rate,@Period8Rate,@Period9Rate,@Period10Rate,@Period11Rate,@Period12Rate,@Period13Rate);
               end;

               fetch next from inserted_cursor into
                  @ID, @PropertyID, @BudgetDatasetID, @BudgetLineID, @StatTypeCode, @Year, @RangeNo, @FromVolume, @ToVolume, @Period1Rate, @Period2Rate, @Period3Rate, @Period4Rate, @Period5Rate, @Period6Rate, @Period7Rate, @Period8Rate, @Period9Rate, @Period10Rate, @Period11Rate, @Period12Rate, @Period13Rate;
            end;

            close inserted_cursor;
            deallocate inserted_cursor;
         end;

         if exists (select name from dbo.sysobjects where name = 'budgetlinehourspercent_insteadof_insert_update' and type = 'TR')
            drop trigger budgetlinehourspercent_insteadof_insert_update
         GO
         create trigger budgetlinehourspercent_insteadof_insert_update on BudgetLineHoursPercent instead of insert,update as
         begin
            declare @ID integer;
            declare @PropertyID integer;
            declare @BudgetDatasetID integer;
            declare @BudgetLineID integer;
            declare @StatTypeCode varchar(2);
            declare @Year smallint;
            declare @Period1RegPct decimal(9,4);
            declare @Period2RegPct decimal(9,4);
            declare @Period3RegPct decimal(9,4);
            declare @Period4RegPct decimal(9,4);
            declare @Period5RegPct decimal(9,4);
            declare @Period6RegPct decimal(9,4);
            declare @Period7RegPct decimal(9,4);
            declare @Period8RegPct decimal(9,4);
            declare @Period9RegPct decimal(9,4);
            declare @Period10RegPct decimal(9,4);
            declare @Period11RegPct decimal(9,4);
            declare @Period12RegPct decimal(9,4);
            declare @Period13RegPct decimal(9,4);
            declare @Period1OTPct decimal(9,4);
            declare @Period2OTPct decimal(9,4);
            declare @Period3OTPct decimal(9,4);
            declare @Period4OTPct decimal(9,4);
            declare @Period5OTPct decimal(9,4);
            declare @Period6OTPct decimal(9,4);
            declare @Period7OTPct decimal(9,4);
            declare @Period8OTPct decimal(9,4);
            declare @Period9OTPct decimal(9,4);
            declare @Period10OTPct decimal(9,4);
            declare @Period11OTPct decimal(9,4);
            declare @Period12OTPct decimal(9,4);
            declare @Period13OTPct decimal(9,4);

            declare @number_deleted bigint;
            declare @number_inserted bigint;

            declare inserted_cursor cursor for select ID,PropertyID,BudgetDatasetID,BudgetLineID,StatTypeCode,Year,Period1RegPct,Period2RegPct,Period3RegPct,Period4RegPct,Period5RegPct,Period6RegPct,Period7RegPct,Period8RegPct,Period9RegPct,Period10RegPct,Period11RegPct,Period12RegPct,Period13RegPct,
            Period1OTPct,Period2OTPct,Period3OTPct,Period4OTPct,Period5OTPct,Period6OTPct,Period7OTPct,Period8OTPct,Period9OTPct,Period10OTPct,Period11OTPct,Period12OTPct,Period13OTPct from inserted

            select @number_deleted = count(*) from deleted;
            select @number_inserted = count(*) from inserted;

            if @number_deleted = 0 and @number_inserted = 0
            begin
               return;
            end;

            open inserted_cursor

            fetch next from inserted_cursor into
               @ID,@PropertyID,@BudgetDatasetID,@BudgetLineID,@StatTypeCode,@Year,@Period1RegPct,@Period2RegPct,@Period3RegPct,@Period4RegPct,@Period5RegPct,@Period6RegPct,@Period7RegPct,@Period8RegPct,@Period9RegPct,@Period10RegPct,@Period11RegPct,@Period12RegPct,@Period13RegPct,@Period1OTPct,@Period2OTPct,@Period3OTPct,@Period4OTPct,@Period5OTPct,@Period6OTPct,@Period7OTPct,@Period8OTPct,@Period9OTPct,@Period10OTPct,@Period11OTPct,@Period12OTPct,@Period13OTPct;

            while @@fetch_status = 0
            begin
               if @BudgetDatasetID is null or @BudgetDatasetID = 0
               begin
                  select @BudgetDatasetID = ID from BudgetDataset where PropertyID = @PropertyID and Year = @Year and StatTypeCode = @StatTypeCode
               end;

               if @number_deleted > 0 and @number_inserted > 0
                  update BudgetLineHoursPercent set PropertyID = @PropertyID,
                                                    BudgetDatasetID = @BudgetDatasetID,
                                                    BudgetLineID = @BudgetLineID,
                                                    StatTypeCode = @StatTypeCode,
                                                    Year = @Year,
                                                    Period1RegPct = @Period1RegPct,
                                                    Period2RegPct = @Period2RegPct,
                                                    Period3RegPct = @Period3RegPct,
                                                    Period4RegPct = @Period4RegPct,
                                                    Period5RegPct = @Period5RegPct,
                                                    Period6RegPct = @Period6RegPct,
                                                    Period7RegPct = @Period7RegPct,
                                                    Period8RegPct = @Period8RegPct,
                                                    Period9RegPct = @Period9RegPct,
                                                    Period10RegPct = @Period10RegPct,
                                                    Period11RegPct = @Period11RegPct,
                                                    Period12RegPct = @Period12RegPct,
                                                    Period13RegPct = @Period13RegPct,
                                                    Period1OTPct = @Period1OTPct,
                                                    Period2OTPct = @Period2OTPct,
                                                    Period3OTPct = @Period3OTPct,
                                                    Period4OTPct = @Period4OTPct,
                                                    Period5OTPct = @Period5OTPct,
                                                    Period6OTPct = @Period6OTPct,
                                                    Period7OTPct = @Period7OTPct,
                                                    Period8OTPct = @Period8OTPct,
                                                    Period9OTPct = @Period9OTPct,
                                                    Period10OTPct = @Period10OTPct,
                                                    Period11OTPct = @Period11OTPct,
                                                    Period12OTPct = @Period12OTPct,
                                                    Period13OTPct = @Period13OTPct
                  where ID = @ID
               else
               begin
                  insert into BudgetLineHoursPercent
                  (PropertyID,BudgetDatasetID,BudgetLineID,StatTypeCode,Year,Period1RegPct,Period2RegPct,Period3RegPct,Period4RegPct,Period5RegPct,Period6RegPct,Period7RegPct,Period8RegPct,Period9RegPct,Period10RegPct,Period11RegPct,Period12RegPct,Period13RegPct,Period1OTPct,Period2OTPct,Period3OTPct,Period4OTPct,Period5OTPct,Period6OTPct,Period7OTPct,Period8OTPct,Period9OTPct,Period10OTPct,Period11OTPct,Period12OTPct,Period13OTPct)
                  values (@PropertyID,@BudgetDatasetID,@BudgetLineID,@StatTypeCode,@Year,@Period1RegPct,@Period2RegPct,@Period3RegPct,@Period4RegPct,@Period5RegPct,@Period6RegPct,@Period7RegPct,@Period8RegPct,@Period9RegPct,@Period10RegPct,@Period11RegPct,@Period12RegPct,@Period13RegPct,@Period1OTPct,@Period2OTPct,@Period3OTPct,@Period4OTPct,@Period5OTPct,@Period6OTPct,@Period7OTPct,@Period8OTPct,@Period9OTPct,@Period10OTPct,@Period11OTPct,@Period12OTPct,@Period13OTPct);
               end;

               fetch next from inserted_cursor into
                  @ID,@PropertyID,@BudgetDatasetID,@BudgetLineID,@StatTypeCode,@Year,@Period1RegPct,@Period2RegPct,@Period3RegPct,@Period4RegPct,@Period5RegPct,@Period6RegPct,@Period7RegPct,@Period8RegPct,@Period9RegPct,@Period10RegPct,@Period11RegPct,@Period12RegPct,@Period13RegPct,@Period1OTPct,@Period2OTPct,@Period3OTPct,@Period4OTPct,@Period5OTPct,@Period6OTPct,@Period7OTPct,@Period8OTPct,@Period9OTPct,@Period10OTPct,@Period11OTPct,@Period12OTPct,@Period13OTPct;
            end;

            close inserted_cursor;
            deallocate inserted_cursor;
         end;

         if exists (select name from dbo.sysobjects where name = 'budgetprimarykbiperiodpercent_insteadof_insert_update' and type = 'TR')
            drop trigger budgetprimarykbiperiodpercent_insteadof_insert_update
         GO
         create trigger budgetprimarykbiperiodpercent_insteadof_insert_update on BudgetPrimaryKBIPeriodPercent instead of insert,update as
         begin
            declare @ID integer;
            declare @PropertyID integer;
            declare @BudgetDatasetID integer;
            declare @KBIID integer;
            declare @StatTypeCode varchar(2);
            declare @Year smallint;
            declare @Per1Percent decimal(19,4);
            declare @Per2Percent decimal(19,4);
            declare @Per3Percent decimal(19,4);
            declare @Per4Percent decimal(19,4);
            declare @Per5Percent decimal(19,4);
            declare @Per6Percent decimal(19,4);
            declare @Per7Percent decimal(19,4);
            declare @Per8Percent decimal(19,4);
            declare @Per9Percent decimal(19,4);
            declare @Per10Percent decimal(19,4);
            declare @Per11Percent decimal(19,4);
            declare @Per12Percent decimal(19,4);
            declare @Per13Percent decimal(19,4);

            declare @number_deleted bigint;
            declare @number_inserted bigint;

            declare inserted_cursor cursor for select ID,BudgetDatasetID,KBIID,StatTypeCode,Year,Per1Percent,Per2Percent,Per3Percent,Per4Percent,Per5Percent,Per6Percent,Per7Percent,Per8Percent,Per9Percent,Per10Percent,Per11Percent,Per12Percent,Per13Percent from inserted

            select @number_deleted = count(*) from deleted;
            select @number_inserted = count(*) from inserted;

            if @number_deleted = 0 and @number_inserted = 0
            begin
               return;
            end;

            open inserted_cursor

            fetch next from inserted_cursor into
               @ID, @BudgetDatasetID, @KBIID, @StatTypeCode, @Year, @Per1Percent, @Per2Percent, @Per3Percent, @Per4Percent, @Per5Percent, @Per6Percent, @Per7Percent, @Per8Percent, @Per9Percent, @Per10Percent, @Per11Percent, @Per12Percent, @Per13Percent;

            while @@fetch_status = 0
            begin
               select @PropertyID = PropertyID from KBI where ID = @KBIID

               if @BudgetDatasetID is null or @BudgetDatasetID = 0
               begin
                  select @BudgetDatasetID = ID from BudgetDataset where PropertyID = @PropertyID and Year = @Year and StatTypeCode = @StatTypeCode
               end;

               if @number_deleted > 0 and @number_inserted > 0
                  update BudgetPrimaryKBIPeriodPercent set BudgetDatasetID = @BudgetDatasetID,
                                                           KBIID = @KBIID,
                                                           StatTypeCode = @StatTypeCode,
                                                           Year = @Year,
                                                           Per1Percent = @Per1Percent,
                                                           Per2Percent = @Per2Percent,
                                                           Per3Percent = @Per3Percent,
                                                           Per4Percent = @Per4Percent,
                                                           Per5Percent = @Per5Percent,
                                                           Per6Percent = @Per6Percent,
                                                           Per7Percent = @Per7Percent,
                                                           Per8Percent = @Per8Percent,
                                                           Per9Percent = @Per9Percent,
                                                           Per10Percent = @Per10Percent,
                                                           Per11Percent = @Per11Percent,
                                                           Per12Percent = @Per12Percent,
                                                           Per13Percent = @Per13Percent
                  where ID = @ID
               else
               begin
                  insert into BudgetPrimaryKBIPeriodPercent
                  (BudgetDatasetID,KBIID,StatTypeCode,Year,Per1Percent,Per2Percent,Per3Percent,Per4Percent,Per5Percent,Per6Percent,Per7Percent,Per8Percent,Per9Percent,Per10Percent,Per11Percent,Per12Percent,Per13Percent)
                  values (@BudgetDatasetID,@KBIID,@StatTypeCode,@Year,@Per1Percent,@Per2Percent,@Per3Percent,@Per4Percent,@Per5Percent,@Per6Percent,@Per7Percent,@Per8Percent,@Per9Percent,@Per10Percent,@Per11Percent,@Per12Percent,@Per13Percent);
               end;

               fetch next from inserted_cursor into
                  @ID, @BudgetDatasetID, @KBIID, @StatTypeCode, @Year, @Per1Percent, @Per2Percent, @Per3Percent, @Per4Percent, @Per5Percent, @Per6Percent, @Per7Percent, @Per8Percent, @Per9Percent, @Per10Percent, @Per11Percent, @Per12Percent, @Per13Percent;
            end;

            close inserted_cursor;
            deallocate inserted_cursor;
         end;

         if exists (select name from dbo.sysobjects where name = 'budgetprimarykbidailypercent_insteadof_insert_update' and type = 'TR')
            drop trigger budgetprimarykbidailypercent_insteadof_insert_update
         GO
         create trigger budgetprimarykbidailypercent_insteadof_insert_update on BudgetPrimaryKBIDailyPercent instead of insert,update as
         begin
            declare @ID integer;
            declare @PropertyID integer;
            declare @BudgetDatasetID integer;
            declare @KBIID integer;
            declare @StatTypeCode varchar(2);
            declare @Year smallint;
            declare @PeriodNo smallint;
            declare @SunPercent decimal(5,2);
            declare @MonPercent decimal(5,2);
            declare @TuePercent decimal(5,2);
            declare @WedPercent decimal(5,2);
            declare @ThuPercent decimal(5,2);
            declare @FriPercent decimal(5,2);
            declare @SatPercent decimal(5,2);

            declare @number_deleted bigint;
            declare @number_inserted bigint;

            declare inserted_cursor cursor for select ID,BudgetDatasetID,KBIID,StatTypeCode,Year,PeriodNo,SunPercent,MonPercent,TuePercent,WedPercent,ThuPercent,FriPercent,SatPercent from inserted

            select @number_deleted = count(*) from deleted;
            select @number_inserted = count(*) from inserted;

            if @number_deleted = 0 and @number_inserted = 0
            begin
               return;
            end;

            open inserted_cursor

            fetch next from inserted_cursor into
               @ID,@BudgetDatasetID,@KBIID,@StatTypeCode,@Year,@PeriodNo,@SunPercent,@MonPercent,@TuePercent,@WedPercent,@ThuPercent,@FriPercent,@SatPercent;

            while @@fetch_status = 0
            begin
               select @PropertyID = PropertyID from KBI where ID = @KBIID

               if @BudgetDatasetID is null or @BudgetDatasetID = 0
               begin
                  select @BudgetDatasetID = ID from BudgetDataset where PropertyID = @PropertyID and Year = @Year and StatTypeCode = @StatTypeCode
               end;

               if @number_deleted > 0 and @number_inserted > 0
                  update BudgetPrimaryKBIDailyPercent set BudgetDatasetID = @BudgetDatasetID,
                                                          KBIID = @KBIID,
                                                          StatTypeCode = @StatTypeCode,
                                                          Year = @Year,
                                                          PeriodNo = @PeriodNo,
                                                          SunPercent = @SunPercent,
                                                          MonPercent = @MonPercent,
                                                          TuePercent = @TuePercent,
                                                          WedPercent = @WedPercent,
                                                          ThuPercent = @ThuPercent,
                                                          FriPercent = @FriPercent,
                                                          SatPercent = @SatPercent
                  where ID = @ID
               else
               begin
                  insert into BudgetPrimaryKBIDailyPercent
                  (BudgetDatasetID,KBIID,StatTypeCode,Year,PeriodNo,SunPercent,MonPercent,TuePercent,WedPercent,ThuPercent,FriPercent,SatPercent)
                  values (@BudgetDatasetID,@KBIID,@StatTypeCode,@Year,@PeriodNo,@SunPercent,@MonPercent,@TuePercent,@WedPercent,@ThuPercent,@FriPercent,@SatPercent);
               end;

               fetch next from inserted_cursor into
                  @ID,@BudgetDatasetID,@KBIID,@StatTypeCode,@Year,@PeriodNo,@SunPercent,@MonPercent,@TuePercent,@WedPercent,@ThuPercent,@FriPercent,@SatPercent;
            end;

            close inserted_cursor;
            deallocate inserted_cursor;
         end;

         if exists (select name from dbo.sysobjects where name = 'budgetpercentkbipercent_insteadof_insert_update' and type = 'TR')
            drop trigger budgetpercentkbipercent_insteadof_insert_update
         GO
         create trigger budgetpercentkbipercent_insteadof_insert_update on BudgetPercentKBIPercent instead of insert,update as
         begin
            declare @ID integer;
            declare @PropertyID integer;
            declare @BudgetDatasetID integer;
            declare @KBIID integer;
            declare @StatTypeCode varchar(2);
            declare @Year smallint;
            declare @PeriodNo smallint;
            declare @SunPercent decimal(5,2);
            declare @MonPercent decimal(5,2);
            declare @TuePercent decimal(5,2);
            declare @WedPercent decimal(5,2);
            declare @ThuPercent decimal(5,2);
            declare @FriPercent decimal(5,2);
            declare @SatPercent decimal(5,2);

            declare @number_deleted bigint;
            declare @number_inserted bigint;

            declare inserted_cursor cursor for select ID,BudgetDatasetID,KBIID,StatTypeCode,Year,PeriodNo,SunPercent,MonPercent,TuePercent,WedPercent,ThuPercent,FriPercent,SatPercent from inserted

            select @number_deleted = count(*) from deleted;
            select @number_inserted = count(*) from inserted;

            if @number_deleted = 0 and @number_inserted = 0
            begin
               return;
            end;

            open inserted_cursor

            fetch next from inserted_cursor into
               @ID,@BudgetDatasetID,@KBIID,@StatTypeCode,@Year,@PeriodNo,@SunPercent,@MonPercent,@TuePercent,@WedPercent,@ThuPercent,@FriPercent,@SatPercent;

            while @@fetch_status = 0
            begin
               select @PropertyID = PropertyID from KBI where ID = @KBIID

               if @BudgetDatasetID is null or @BudgetDatasetID = 0
               begin
                  select @BudgetDatasetID = ID from BudgetDataset where PropertyID = @PropertyID and Year = @Year and StatTypeCode = @StatTypeCode
               end;

               if @number_deleted > 0 and @number_inserted > 0
                  update BudgetPercentKBIPercent set BudgetDatasetID = @BudgetDatasetID,
                                                     KBIID = @KBIID,
                                                     StatTypeCode = @StatTypeCode,
                                                     Year = @Year,
                                                     PeriodNo = @PeriodNo,
                                                     SunPercent = @SunPercent,
                                                     MonPercent = @MonPercent,
                                                     TuePercent = @TuePercent,
                                                     WedPercent = @WedPercent,
                                                     ThuPercent = @ThuPercent,
                                                     FriPercent = @FriPercent,
                                                     SatPercent = @SatPercent
                  where ID = @ID
               else
               begin
                  insert into BudgetPercentKBIPercent
                  (BudgetDatasetID,KBIID,StatTypeCode,Year,PeriodNo,SunPercent,MonPercent,TuePercent,WedPercent,ThuPercent,FriPercent,SatPercent)
                  values (@BudgetDatasetID,@KBIID,@StatTypeCode,@Year,@PeriodNo,@SunPercent,@MonPercent,@TuePercent,@WedPercent,@ThuPercent,@FriPercent,@SatPercent);
               end;

               fetch next from inserted_cursor into
                  @ID,@BudgetDatasetID,@KBIID,@StatTypeCode,@Year,@PeriodNo,@SunPercent,@MonPercent,@TuePercent,@WedPercent,@ThuPercent,@FriPercent,@SatPercent;
            end;

            close inserted_cursor;
            deallocate inserted_cursor;
         end;

         if exists (select name from dbo.sysobjects where name = 'budgetstaffstat_insteadof_insert_update' and type = 'TR')
            drop trigger budgetstaffstat_insteadof_insert_update
         GO
         create trigger budgetstaffstat_insteadof_insert_update on BudgetStaffStat instead of insert,update as
         begin
            declare @ID integer;
            declare @PropertyID integer;
            declare @BudgetDatasetID integer;
            declare @JobclassID integer;
            declare @StatDate datetime;
            declare @StatTypeCode varchar(2);
            declare @OriginalHours decimal(19,2);
            declare @OriginalRate decimal(19,4);
            declare @StaffHours decimal(19,2);
            declare @StaffRate decimal(19,4);
            declare @OTHours decimal(19,2);
            declare @OTRate decimal(19,4);
            declare @StaffTotal decimal(19,4);
            declare @Year integer;

            declare @number_deleted bigint;
            declare @number_inserted bigint;

            declare inserted_cursor cursor for select ID,PropertyID,BudgetDatasetID,JobclassID,StatTypeCode,StatDate,OriginalHours,OriginalRate,StaffHours,StaffRate,OTHours,OTRate,StaffTotal from inserted

            select @number_deleted = count(*) from deleted;
            select @number_inserted = count(*) from inserted;

            if @number_deleted = 0 and @number_inserted = 0
            begin
               return;
            end;

            open inserted_cursor

            fetch next from inserted_cursor into
               @ID, @PropertyID, @BudgetDatasetID, @JobclassID, @StatTypeCode, @OriginalHours, @OriginalRate, @StaffHours, @StaffRate, @OTHours, @OTRate, @StaffTotal;

            while @@fetch_status = 0
            begin
               select @Year = Year from FNYPeriodExploded where @StatDate between StartDate and EndDate

               if @BudgetDatasetID is null or @BudgetDatasetID = 0
               begin
                  select @BudgetDatasetID = ID from BudgetDataset where PropertyID = @PropertyID and Year = @Year and StatTypeCode = @StatTypeCode
               end;

               if @number_deleted > 0 and @number_inserted > 0
                  update BudgetStaffStat set PropertyID = @PropertyID,
                                             BudgetDatasetID = @BudgetDatasetID,
                                             JobclassID = @JobclassID,
                                             StatTypeCode = @StatTypeCode,
                                             OriginalHours = @OriginalHours,
                                             OriginalRate = @OriginalRate,
                                             StaffHours = @StaffHours,
                                             StaffRate = @StaffRate,
                                             OTHours = @OTHours,
                                             OTRate = @OTRate,
                                             StaffTotal = @StaffTotal
                  where ID = @ID
               else
               begin
                  insert into BudgetStaffStat
                  (PropertyID,BudgetDatasetID,JobclassID,StatTypeCode,OriginalHours,OriginalRate,StaffHours,StaffRate,OTHours,OTRate,StaffTotal)
                  values (@PropertyID,@BudgetDatasetID,@JobclassID,@StatTypeCode,@OriginalHours,@OriginalRate,@StaffHours,@StaffRate,@OTHours,@OTRate,@StaffTotal);
               end;

               fetch next from inserted_cursor into
                  @ID, @PropertyID, @BudgetDatasetID, @JobclassID, @StatTypeCode, @OriginalHours, @OriginalRate, @StaffHours, @StaffRate, @OTHours, @OTRate, @StaffTotal;
            end;

            close inserted_cursor;
            deallocate inserted_cursor;
         end;
         ]]>
      </other>
   </customSQL>

   <customSQL databaseType="pgsql">
      <function name="DateDiff">
         <![CDATA[
         CREATE OR REPLACE FUNCTION DateDiff (units VARCHAR(30), start_t TIMESTAMP, end_t TIMESTAMP)
         RETURNS INT AS $$
         DECLARE
         diff_interval INTERVAL;
         diff INT = 0;
         years_diff INT = 0;

         BEGIN
         IF units IN ('yy', 'yyyy', 'year', 'mm', 'm', 'month') THEN
          years_diff = DATE_PART('year', end_t) - DATE_PART('year', start_t);

          IF units IN ('yy', 'yyyy', 'year') THEN
            -- SQL Server does not count full years passed (only difference between year parts)
            RETURN years_diff;
          ELSE
            -- If end month is less than start month it will subtracted
            RETURN years_diff * 12 + (DATE_PART('month', end_t) - DATE_PART('month', start_t));
          END IF;
         END IF;

         -- Minus operator returns interval 'DDD days HH:MI:SS'
         diff_interval = end_t - start_t;

         diff = diff + DATE_PART('day', diff_interval);

         IF units IN ('wk', 'ww', 'week') THEN
          diff = diff/7;
          RETURN diff;
         END IF;

         IF units IN ('dd', 'd', 'day') THEN
          RETURN diff;
         END IF;

         diff = diff * 24 + DATE_PART('hour', diff_interval);

         IF units IN ('hh', 'hour') THEN
           RETURN diff;
         END IF;

         diff = diff * 60 + DATE_PART('minute', diff_interval);

         IF units IN ('mi', 'n', 'minute') THEN
           RETURN diff;
         END IF;

         diff = diff * 60 + DATE_PART('second', diff_interval);

         RETURN diff;
         END;
         $$ LANGUAGE plpgsql;
         ]]>
      </function>

      <function name="MetersBetweenGeoLocations">
         <![CDATA[
         CREATE OR REPLACE FUNCTION MetersBetweenGeoLocations (lat1 float, long1 float, lat2 float, long2 float)
         RETURNS FLOAT4 AS $$
         DECLARE
           distance float4 = -1;
           earthRadius float4 = 6371009.0;
           axis float4 = 0;

         BEGIN
            IF ((lat1 IS NOT NULL) AND (long1 IS NOT NULL) AND (lat2 IS NOT NULL) AND (long2 IS NOT NULL)) THEN
               SELECT axis = (SIN(RADIANS(lat2-lat1)/2) * SIN(RADIANS(lat2-lat1)/2) + COS(RADIANS(lat1)) * COS(RADIANS(lat2)) * SIN(RADIANS(long2-long1)/2) * SIN(RADIANS(long2-long1)/2));
               -- Multiply root of the axis by the earth's diameter
               SELECT distance = earthRadius * (2 * ATN2(SQRT(axis), SQRT(1-axis)));
            END IF;

            RETURN ROUND(distance, 3);
         END;
         $$ LANGUAGE plpgsql;
         ]]>
      </function>
   </customSQL>
</database>
